!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(271)},,function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n(3);var u=n(4),c=i(u),l=n(6),f=i(l),h=n(7),p=i(h),d=n(18),v=i(d),g=n(19),m=i(g),y=n(31),_=i(y),b=n(32),w=i(b),E=n(41),x=i(E),A=n(47),T=i(A),S=n(49),R=i(S),M=n(21),C=i(M),O=n(50),P=i(O),I=n(51),N=i(I),F=n(77),k=i(F),L=n(80),j=i(L),D=n(81),U=i(D),B=n(82),V=n(129),z=r(V),G=n(130),X=i(G),H=n(131),Y=i(H),q=n(132),W=i(q),K=n(133),J=i(K),$=n(134),Z=i($),Q=n(138),tt=i(Q),et=n(243),nt=n(247),rt=i(nt),it=n(261),ot=i(it),at=n(270),st=n(139),ut=i(st),ct=n(265),lt=i(ct);e["default"]=function(t,e,n){function r(){R["default"].div(ct.spawnSize,ft[pt.scale],y.viewSize),ct.respawn(y)}function i(){dt.buffer=y.particles.buffers[0],dt.spawnSize=y.particles.shape,dt.respawn(y)}function u(){t.width=self.innerWidth,t.height=self.innerHeight}if(!(0,j["default"])()){var l=C["default"].parse(location.search.slice(1)),h=(0,B.defaults)(),d=h.state,g=h.timer,y=void 0,b=void 0,E={trackURL:l.track?decodeURIComponent(l.track):"https://soundcloud.com/max-cooper/waves-1",audible:""+l.mute!="true",track:""+l.track_off!="true",trackBeatAt:.1,trackLoudAt:9,mic:""+l.mic_off!="true",micBeatAt:1,micLoudAt:5},A=new Audio,S=s({},E);Object.assign(A,{crossOrigin:"anonymous",controls:!0,autoplay:!0,className:"track"});var M=(0,v["default"])(A,{audible:S.audible});M.analyser.fftSize=Math.pow(2,5);var O=new tt["default"](M,3),I=void 0,F=void 0,L=[function(t){return(0,et.mean)(t.nthOrderData(-1))>S.trackBeatAt},function(t){return(0,et.sum)(t.nthOrderData(1))>S.trackLoudAt},function(t){return(0,et.weightedMean)(t.nthOrderData(-1),.2)>S.micBeatAt},function(t){return Math.abs((0,et.peak)(t.nthOrderData(1)))>S.micLoudAt}],D=[function(){_t(),console.log("track beat 0")},function(){r(),console.log("track beat 1")},function(){_t(),console.log("mic beat 0")},function(){i(),console.log("mic beat 1")}],V=new ot["default"];V.timer=new U["default"](0);var G=(0,c["default"])(t,B.glSettings,function(){var t=g.tick().dt;A&&A.currentTime>=0&&!A.paused&&(V.timer.tick(1e3*A.currentTime),V.play(V.timer.time,y.state)),y.draw(),G.viewport.apply(G,[0,0].concat(o(y.flow.shape))),y.flow.bind(),b.trim(1/y.state.flowDecay,g.time),(0,ut["default"])(function(t){Object.assign(t.line.uniforms,y.state),t.update().draw()},b.active),O&&O.sample(t),F&&F.sample(t);var e=!1;S.track&&!A.paused&&(e=O.fire(D[0],L[0])||O.fire(D[1],L[1])),!e&&S.mic&&F&&(e=F.fire(D[2],L[2])||F.fire(D[3],L[3]))});y=new B.Tendrils(G,{timer:g});var H=(0,Z["default"])(G),q=function(){return H.respawn(y)},K=function(){y.clear(),q()},$={main:y.state.colorMap},Q=y.state,nt=function(e){var n=arguments.length<=1||void 0===arguments[1]?t.parentElement:arguments[1];return A.src!==e&&(A.src=e,A.currentTime=0),A.parentElement!==n&&n.appendChild(A),A},it=function(){var t=arguments.length<=0||void 0===arguments[0]?S.trackURL:arguments[0],e=document.querySelector(".npm-scb-white");e&&e.parentElement.removeChild(e),t.match(/^(https?)?(\:\/\/)?(www\.)?soundcloud\.com\//gi)?(0,m["default"])({client_id:"75aca2e2b815f9f5d4e92916c7b80846",song:t,dark:!1},function(t,e,n,r){if(t)throw t;nt(e,r.querySelector(".npm-scb-info")),r.querySelector(".npm-scb-wrap").classList.add("open")}):nt(t.match(/^(https)?(:\/\/)?(www\.)?dropbox\.com\/s\//gi)?t.replace(/^((https)?(:\/\/)?(www\.)?)dropbox\.com\/s\/(.*)\?dl=(0)$/gi,"https://dl.dropboxusercontent.com/s/$5?dl=1&raw=1"):t)};it(),b=new rt["default"](G);var st=function(e){var n=(0,_["default"])(e,t,R["default"].create());n[0]=(0,x["default"])(n[0],0,y.viewRes[0],-1,1),n[1]=(0,x["default"])(n[1],0,y.viewRes[1],1,-1),b.get(e.pointerId).add(g.time,n)};t.addEventListener("pointermove",st,!1);var ct=new z.SpawnPixels(G,{shader:[z.defaults().shader[0],W["default"]],buffer:y.flow}),ft={normal:[1,-1],"mirror x":[-1,-1],"mirror y":[1,1],"mirror xy":[-1,1]},ht={scale:"normal"},pt=s({},ht),dt=new z.SpawnPixels(G,{shader:[z.defaults().shader[0],J["default"]],buffer:null}),vt=null,gt={direct:(0,N["default"])(G,z.defaults().shader[0],X["default"]),sample:(0,N["default"])(G,z.defaults().shader[0],Y["default"])},mt=new z.SpawnPixels(G,{shader:gt.direct});$.cam=mt.buffer;var yt=function(){vt&&(y.state.colorMap=$.cam,mt.shader=gt.direct,mt.speed=1e-5,mt.setPixels(vt),mt.respawn(y))},_t=function(){vt&&(y.state.colorMap=$.main,mt.shader=gt.sample,mt.speed=1,mt.setPixels(vt),mt.respawn(y))};(0,p["default"])({video:!0,audio:!0},function(t,e){if(t)throw t;vt=document.createElement("video"),vt.muted=!0,vt.src=self.URL.createObjectURL(e),vt.play(),vt.addEventListener("canplay",function(){mt.buffer.shape=[vt.videoWidth,vt.videoHeight],T["default"].scale(mt.spawnMatrix,T["default"].identity(mt.spawnMatrix),[-1,1])}),I=(0,v["default"])(e,{audible:!1}),I.analyser.fftSize=Math.pow(2,7),F=new tt["default"](I,2)}),self.addEventListener("resize",(0,w["default"])(u,200),!1),u(),y.setup(),H.respawn(y),n&&!function(){var t=function Y(){var t=arguments.length<=0||void 0===arguments[0]?n:arguments[0];t.__controllers&&t.__controllers.forEach(function(t){return t.updateDisplay()});for(var e in t.__folders)Y(t.__folders[e])},e=function W(t){var e=arguments.length<=1||void 0===arguments[1]?n:arguments[1];t?e.open():e.close();for(var r in e.__folders)W(t,e.__folders[r])},n=new k["default"].GUI;n.domElement.addEventListener("keydown",function(t){return t.stopPropagation()});var u=["paused","step","rate","end","loop"],c={get state(){return{state:Q,respawn:H.uniforms,flow:{scale:pt.scale},time:(0,lt["default"])(function(t){return t in g},u,{}),audio:S}},set state(t){return Object.assign(Q,t.state),Object.assign(H.uniforms,t.respawn),Object.assign(pt,t.flow),Object.assign(g,t.time),Object.assign(S,t.audio),t}},h=function(){var t=arguments.length<=0||void 0===arguments[0]?s({},Q):arguments[0],e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return V.smoothTo({to:t,call:e,time:V.timer.time,ease:[0,1,1]})},p={showLink:function(){return self.prompt("Link:",location.href.replace(location.search.slice(1),C["default"].encode(s({},l,{track:encodeURIComponent(S.trackURL),mute:!S.audible,track_off:!S.track,mic_off:!S.mic}))))},showState:function(){return self.prompt("Current state:",(0,P["default"])(c.state))},showSequence:function(){return self.prompt("Animation sequence:",(0,P["default"])(V.timeline.frames))},keyframe:h};(0,ut["default"])(function(t,e){return n.add(p,e)},p);var v=n.addFolder("settings");for(var m in Q)if(!a(Q[m]).match(/(object|array|undefined|null)/gi)){var _=v.add(Q,m);"rootNum"===m&&_.onFinishChange(function(t){y.setup(t),K()})}var b={flowColor:Q.flowColor.slice(0,3).map(function(t){return 255*t}),flowAlpha:Q.flowColor[3],baseColor:Q.baseColor.slice(0,3).map(function(t){return 255*t}),baseAlpha:Q.baseColor[3],fadeColor:Q.fadeColor.slice(0,3).map(function(t){return 255*t}),fadeAlpha:Q.fadeColor[3]},w=s({},b),E=function(){return Object.assign(Q,{flowColor:[].concat(o(w.flowColor.map(function(t){return t/255})),[w.flowAlpha]),baseColor:[].concat(o(w.baseColor.map(function(t){return t/255})),[w.baseAlpha]),fadeColor:[].concat(o(w.fadeColor.map(function(t){return t/255})),[w.fadeAlpha])})};v.addColor(w,"flowColor").onChange(E),v.add(w,"flowAlpha").onChange(E),v.addColor(w,"baseColor").onChange(E),v.add(w,"baseAlpha").onChange(E),v.addColor(w,"fadeColor").onChange(E),v.add(w,"fadeAlpha").onChange(E),E();var x=n.addFolder("respawn");for(var T in H.uniforms)a(H.uniforms[T]).match(/(object|array|undefined|null)/gi)||x.add(H.uniforms,T);var R={radius:.3,speed:.005},O=n.addFolder("reflow");O.add(pt,"scale",Object.keys(ft));var I=n.addFolder("time");u.forEach(function(t){return I.add(g,t)});var N=n.addFolder("audio");for(var F in S){var L=N.add(S,F);"trackURL"===F&&L.onFinishChange(it),"audible"===F&&L.onChange(function(t){var e=M.merger||M.analyser;t?e.connect(M.ctx.destination):e.disconnect()})}var j={clear:function(){return y.clear()},clearView:function(){return y.clearView()},clearFlow:function(){return y.clearFlow()},respawn:q,respawnCam:yt,respawnSampleCam:_t,respawnFlow:r,respawnFastest:i,reset:function(){return y.reset()},restart:K},D=n.addFolder("controls");for(var U in j)D.add(j,U);var B=n.addFolder("presets"),z={Flow:function(){Object.assign(Q,{flowWidth:5,colorMapAlpha:0}),Object.assign(H.uniforms,{radius:.25,speed:.01}),Object.assign(w,{flowAlpha:1,flowColor:[255,255,255],baseAlpha:0,fadeAlpha:Math.max(Q.flowDecay,.05),fadeColor:[0,0,0]})},Wings:function(){Object.assign(H.uniforms,{radius:.1,speed:0,colorMapAlpha:0}),Object.assign(w,{flowAlpha:.01,baseAlpha:.2}),Object.assign(w)},Fluid:function(){Object.assign(Q,{autoClearView:!0}),Object.assign(w,{fadeAlpha:0})},"Flow only":function(){Object.assign(Q,{flowDecay:5e-4,forceWeight:.015,wanderWeight:0,speedAlpha:0}),Object.assign(H.uniforms,{radius:.4,speed:.15}),Object.assign(w,{baseAlpha:.8,baseColor:[100,200,255],fadeAlpha:.1,fadeColor:[0,0,0]})},"Noise only":function(){Object.assign(Q,{flowWeight:0,wanderWeight:.002,noiseSpeed:0,speedAlpha:0}),Object.assign(w,{baseAlpha:.1,baseColor:[255,150,0],fadeAlpha:.005,fadeColor:[0,0,0]})},Sea:function(){Object.assign(Q,{flowWidth:5,forceWeight:.013,wanderWeight:.002,flowDecay:.005,speedAlpha:0,colorMapAlpha:.4}),Object.assign(H.uniforms,{radius:1.5,speed:0}),Object.assign(w,{baseAlpha:.8,baseColor:[55,155,255],fadeAlpha:.3,fadeColor:[0,58,90]})},Ghostly:function(){Object.assign(Q,{flowDecay:0})},Turbulence:function(){Object.assign(Q,{noiseSpeed:5e-5,noiseScale:10,forceWeight:.014,wanderWeight:.003,speedAlpha:2e-6,colorMapAlpha:.3}),Object.assign(w,{baseAlpha:.8,baseColor:[255,10,10],fadeAlpha:.01,fadeColor:[0,0,0]})},Rorschach:function(){Object.assign(Q,{noiseSpeed:1e-5,noiseScale:60,forceWeight:.014,wanderWeight:.0021,speedAlpha:2e-6,colorMapAlpha:.2}),Object.assign(pt,{scale:"mirror xy"}),Object.assign(w,{baseAlpha:.9,baseColor:[0,0,0],fadeAlpha:.01,fadeColor:[255,255,255]})},Roots:function(){Object.assign(Q,{flowDecay:0,noiseSpeed:0,noiseScale:18,forceWeight:.015,wanderWeight:.0023,speedAlpha:5e-5,lineWidth:3,colorMapAlpha:1e-4}),Object.assign(w,{flowAlpha:.01,baseAlpha:.02,baseColor:[50,255,50]})}},G=function(e){Object.assign(Q,d),Object.assign(H.uniforms,R),Object.assign(pt,ht),Object.assign(w,b),e(),t(),E(),K()};for(var X in z)z[X]=G.bind(null,z[X]),B.add(z,X);e(!0,n),function(){var e=function(){var t=arguments.length<=0||void 0===arguments[0]?A.paused:arguments[0];return t?A.play():A.pause()},n=function(t){V.timeline.seek(0),V.timeline.seek(A.currentTime+=t),e(!0)},o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];h(null,e),(0,ut["default"])(function(t){return t()},e)},a=function(e){(0,ut["default"])(function(t){return t.reset&&t.reset()},e),t()},u=(0,at.curry)(function(e,n){(0,ut["default"])(function(t){return t.adjust&&t.adjust(e)},n),t()}),c=function(t,e,n){return t[n]=e[n]},l=(0,at.curry)(c,c.length+1),p=function(t,e,n,r){return t[e]+=n*r},v=(0,at.curry)(p),g=function(t,e){return t[e]=!t[e]},m=(0,at.curry)(g,g.length+1),_=l(Q,d),b=v(Q),w=m(Q),E=function(t){return{reset:_(t),go:w(t)}},x=function(t,e){return{reset:_(t),adjust:b(t,e)}},T={},S={"`":{reset:function(){y.setup(d.rootNum),K()},adjust:function(t){y.setup(Q.rootNum*Math.pow(2,t)),K()}},P:E("autoClearView"),Z:x("damping",.001),X:x("minSpeed",1e-4),C:x("maxSpeed",1e-4),Q:x("forceWeight",.01),A:x("flowWeight",.02),W:x("wanderWeight",2e-4),S:x("flowDecay",.005),D:x("flowWidth",1),E:x("noiseScale",1),R:x("noiseSpeed",.002),G:x("speedAlpha",.002),F:x("lineWidth",.1),0:{go:z.Flow},1:{go:z.Wings},2:{go:z.Fluid},3:{go:z["Flow only"]},4:{go:z["Noise only"]},5:{go:z.Sea},6:{go:z.Ghostly},7:{go:z.Turbulence},8:{go:z.Rorschach},9:{go:z.Roots},"<control>":function(t,e){return S[t]={go:function(){return Object.assign(Q,e)}}}},R={"-":u(-.1),"=":u(.1),"<down>":u(-1),"<up>":u(1),"<left>":u(-5),"<right>":u(5),"<escape>":function(){a(S),h.apply(void 0,arguments)},"<backspace>":a,"<space>":function(){return e()},"[":function(){return n(-2)},"]":function(){return n(2)},"<enter>":h,"\\":function(){return o(function(){return y.reset()})},"'":function(){return o(r)},";":function(){return o(i)},"<shift>":function(){return o(K)},"/":function(){return o(_t)},".":function(){return o(yt)}};document.body.addEventListener("keydown",function(e){var n=T["<control>"],r=f["default"][e.keyCode],i=S[r],o=R[r];n?n(r,s({},Q)):i&&!T[r]?(T[r]=i,i.go&&i.go(T,Q)):o&&o(T,Q),t(),(i||o)&&(e.preventDefault(),e.stopPropagation())},!1),document.body.addEventListener("keyup",function(t){var e=f["default"][t.keyCode],n=S[e],r=R[e];n&&T[e]&&("<control>"===e||T["<control>"]||h(s({},Q)),T[e]=null,delete T[e]),(n||r)&&(t.preventDefault(),t.stopPropagation())},!1)}(),z.Rorschach(),V.smoothTo({to:s({},Q),call:[K],time:1e3/30})}()}}},function(t,e,n){/*!
	 * PEP v0.4.1 | https://github.com/jquery/PEP
	 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e){e=e||Object.create(null);var n=document.createEvent("Event");n.initEvent(t,e.bubbles||!1,e.cancelable||!1);for(var r,i=2;i<l.length;i++)r=l[i],n[r]=e[r]||f[i];n.buttons=e.buttons||0;var o=0;return o=e.pressure?e.pressure:n.buttons?.5:0,n.x=n.clientX,n.y=n.clientY,n.pointerId=e.pointerId||0,n.width=e.width||0,n.height=e.height||0,n.pressure=o,n.tiltX=e.tiltX||0,n.tiltY=e.tiltY||0,n.pointerType=e.pointerType||"",n.hwTimestamp=e.hwTimestamp||0,n.isPrimary=e.isPrimary||!1,n}function e(){this.array=[],this.size=0}function n(t,e,n,r){this.addCallback=t.bind(r),this.removeCallback=e.bind(r),this.changedCallback=n.bind(r),R&&(this.observer=new R(this.mutationWatcher.bind(this)))}function r(t){return"body /shadow-deep/ "+i(t)}function i(t){return'[touch-action="'+t+'"]'}function o(t){return"{ -ms-touch-action: "+t+"; touch-action: "+t+"; touch-action-delay: none; }"}function a(){if(N){P.forEach(function(t){String(t)===t?(I+=i(t)+o(t)+"\n",F&&(I+=r(t)+o(t)+"\n")):(I+=t.selectors.map(i)+o(t.rule)+"\n",F&&(I+=t.selectors.map(r)+o(t.rule)+"\n"))});var t=document.createElement("style");t.textContent=I,document.head.appendChild(t)}}function s(){if(!window.PointerEvent){if(window.PointerEvent=h,window.navigator.msPointerEnabled){var t=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:t,enumerable:!0}),w.registerSource("ms",it)}else w.registerSource("mouse",z),void 0!==window.ontouchstart&&w.registerSource("touch",tt);w.register(document)}}function u(t){if(!w.pointermap.has(t))throw new Error("InvalidPointerId")}function c(){window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:Z},releasePointerCapture:{value:Q}})}var l=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],f=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],h=t,p=window.Map&&window.Map.prototype.forEach,d=p?Map:e;e.prototype={set:function(t,e){return void 0===e?this["delete"](t):(this.has(t)||this.size++,void(this.array[t]=e))},has:function(t){return void 0!==this.array[t]},"delete":function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach(function(n,r){t.call(e,n,r,this)},this)}};var v=d,g=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],m=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],y={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},_="undefined"!=typeof SVGElementInstance,b={pointermap:new v,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(t,e){var n=e,r=n.events;r&&(r.forEach(function(t){n[t]&&(this.eventMap[t]=n[t].bind(n))},this),this.eventSources[t]=n,this.eventSourceList.push(n))},register:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,r=0;r<n&&(e=this.eventSourceList[r]);r++)e.unregister.call(e,t)},contains:function(t,e){try{return t.contains(e)}catch(n){return!1}},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){t.bubbles=!1,this.fireEvent("pointerenter",t)},leave:function(t){t.bubbles=!1,this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},eventHandler:function(t){if(!t._handledByPE){var e=t.type,n=this.eventMap&&this.eventMap[e];n&&n(t),t._handledByPE=!0}},listen:function(t,e){e.forEach(function(e){this.addEvent(t,e)},this)},unlisten:function(t,e){e.forEach(function(e){this.removeEvent(t,e)},this)},addEvent:function(t,e){t.addEventListener(e,this.boundHandler)},removeEvent:function(t,e){t.removeEventListener(e,this.boundHandler)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var n=new h(t,e);return e.preventDefault&&(n.preventDefault=e.preventDefault),n._target=n._target||e.target,n},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},cloneEvent:function(t){for(var e,n=Object.create(null),r=0;r<g.length;r++)e=g[r],n[e]=t[e]||m[r],!_||"target"!==e&&"relatedTarget"!==e||n[e]instanceof SVGElementInstance&&(n[e]=n[e].correspondingUseElement);return t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n},getTarget:function(t){var e=this.captureInfo[t.pointerId];return e?t._target!==e&&t.type in y?void 0:e:t._target},setCapture:function(t,e){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=e;var n=document.createEvent("Event");n.initEvent("gotpointercapture",!0,!1),n.pointerId=t,this.implicitRelease=this.releaseCapture.bind(this,t),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease),n._target=e,this.asyncDispatchEvent(n)},releaseCapture:function(t){var e=this.captureInfo[t];if(e){var n=document.createEvent("Event");n.initEvent("lostpointercapture",!0,!1),n.pointerId=t,this.captureInfo[t]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease),n._target=e,this.asyncDispatchEvent(n)}},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return e.dispatchEvent(t)},asyncDispatchEvent:function(t){requestAnimationFrame(this.dispatchEvent.bind(this,t))}};b.boundHandler=b.eventHandler.bind(b);var w=b,E={shadow:function(t){if(t)return t.shadowRoot||t.webkitShadowRoot},canTarget:function(t){return t&&Boolean(t.elementFromPoint)},targetingShadow:function(t){var e=this.shadow(t);if(this.canTarget(e))return e},olderShadow:function(t){var e=t.olderShadowRoot;if(!e){var n=t.querySelector("shadow");n&&(e=n.olderShadowRoot)}return e},allShadows:function(t){for(var e=[],n=this.shadow(t);n;)e.push(n),n=this.olderShadow(n);return e},searchRoot:function(t,e,n){if(t){var r,i,o=t.elementFromPoint(e,n);for(i=this.targetingShadow(o);i;){if(r=i.elementFromPoint(e,n)){var a=this.targetingShadow(r);return this.searchRoot(a,e,n)||r}i=this.olderShadow(i)}return o}},owner:function(t){for(var e=t;e.parentNode;)e=e.parentNode;return e.nodeType!==Node.DOCUMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(e=document),e},findTarget:function(t){var e=t.clientX,n=t.clientY,r=this.owner(t.target);return r.elementFromPoint(e,n)||(r=document),this.searchRoot(r,e,n)}},x=Array.prototype.forEach.call.bind(Array.prototype.forEach),A=Array.prototype.map.call.bind(Array.prototype.map),T=Array.prototype.slice.call.bind(Array.prototype.slice),S=Array.prototype.filter.call.bind(Array.prototype.filter),R=window.MutationObserver||window.WebKitMutationObserver,M="[touch-action]",C={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};n.prototype={watchSubtree:function(t){this.observer&&E.canTarget(t)&&this.observer.observe(t,C)},enableOnSubtree:function(t){this.watchSubtree(t),t===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(t)},installNewSubtree:function(t){x(this.findElements(t),this.addElement,this)},findElements:function(t){return t.querySelectorAll?t.querySelectorAll(M):[]},removeElement:function(t){this.removeCallback(t)},addElement:function(t){this.addCallback(t)},elementChanged:function(t,e){this.changedCallback(t,e)},concatLists:function(t,e){return t.concat(T(e))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(t){return t.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(t){var e=A(t,this.findElements,this);return e.push(S(t,this.isElement)),e.reduce(this.concatLists,[])},mutationWatcher:function(t){t.forEach(this.mutationHandler,this)},mutationHandler:function(t){if("childList"===t.type){var e=this.flattenMutationTree(t.addedNodes);e.forEach(this.addElement,this);var n=this.flattenMutationTree(t.removedNodes);n.forEach(this.removeElement,this)}else"attributes"===t.type&&this.elementChanged(t.target,t.oldValue)}};var O=n,P=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],I="",N=window.PointerEvent||window.MSPointerEvent,F=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,k=w.pointermap,L=25,j=[1,4,2,8,16],D=!1;try{D=1===new MouseEvent("test",{buttons:1}).buttons}catch(U){}var B,V={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){w.listen(t,this.events)},unregister:function(t){w.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,r=t.clientX,i=t.clientY,o=0,a=n.length;o<a&&(e=n[o]);o++){var s=Math.abs(r-e.x),u=Math.abs(i-e.y);if(s<=L&&u<=L)return!0}},prepareEvent:function(t){var e=w.cloneEvent(t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=this.POINTER_ID,e.isPrimary=!0,e.pointerType=this.POINTER_TYPE,e},prepareButtonsForMove:function(t,e){var n=k.get(this.POINTER_ID);t.buttons=n?n.buttons:0,e.buttons=t.buttons},mousedown:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=k.get(this.POINTER_ID),n=this.prepareEvent(t);D||(n.buttons=j[n.button],e&&(n.buttons|=e.buttons),t.buttons=n.buttons),k.set(this.POINTER_ID,t),e?w.move(n):w.down(n)}},mousemove:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);D||this.prepareButtonsForMove(e,t),w.move(e)}},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=k.get(this.POINTER_ID),n=this.prepareEvent(t);if(!D){var r=j[n.button];n.buttons=e?e.buttons&~r:0,t.buttons=n.buttons}k.set(this.POINTER_ID,t),0===n.buttons||n.buttons===j[n.button]?(this.cleanupMouse(),w.up(n)):w.move(n)}},mouseover:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);D||this.prepareButtonsForMove(e,t),w.enterOver(e)}},mouseout:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=this.prepareEvent(t);D||this.prepareButtonsForMove(e,t),w.leaveOut(e)}},cancel:function(t){var e=this.prepareEvent(t);w.cancel(e),this.cleanupMouse()},cleanupMouse:function(){k["delete"](this.POINTER_ID)}},z=V,G=w.captureInfo,X=E.findTarget.bind(E),H=E.allShadows.bind(E),Y=w.pointermap,q=2500,W=200,K="touch-action",J=!1,$={events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){J?w.listen(t,this.events):B.enableOnSubtree(t)},unregister:function(t){J&&w.unlisten(t,this.events)},elementAdded:function(t){var e=t.getAttribute(K),n=this.touchActionToScrollType(e);n&&(t._scrollType=n,w.listen(t,this.events),H(t).forEach(function(t){t._scrollType=n,w.listen(t,this.events)},this))},elementRemoved:function(t){t._scrollType=void 0,w.unlisten(t,this.events),H(t).forEach(function(t){t._scrollType=void 0,w.unlisten(t,this.events)},this)},elementChanged:function(t,e){var n=t.getAttribute(K),r=this.touchActionToScrollType(n),i=this.touchActionToScrollType(e);r&&i?(t._scrollType=r,H(t).forEach(function(t){t._scrollType=r},this)):i?this.elementRemoved(t):r&&this.elementAdded(t)},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e=t,n=this.scrollTypes;return"none"===e?"none":e===n.XSCROLLER?"X":e===n.YSCROLLER?"Y":n.SCROLLER.exec(e)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===Y.size||1===Y.size&&Y.has(1))&&(this.firstTouch=t.identifier,this.firstXY={X:t.clientX,Y:t.clientY},this.scrolling=!1,this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,W)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){var e=0;return"touchstart"!==t&&"touchmove"!==t||(e=1),e},touchToPointer:function(t){var e=this.currentTouchEvent,n=w.cloneEvent(t),r=n.pointerId=t.identifier+2;n.target=G[r]||X(n),n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount,n.button=0,n.buttons=this.typeToButtons(e.type),n.width=t.radiusX||t.webkitRadiusX||0,n.height=t.radiusY||t.webkitRadiusY||0,n.pressure=t.force||t.webkitForce||.5,n.isPrimary=this.isPrimaryTouch(t),n.pointerType=this.POINTER_TYPE;var i=this;return n.preventDefault=function(){i.scrolling=!1,i.firstXY=null,e.preventDefault()},n},processTouches:function(t,e){var n=t.changedTouches;this.currentTouchEvent=t;for(var r,i=0;i<n.length;i++)r=n[i],e.call(this,this.touchToPointer(r))},shouldScroll:function(t){if(this.firstXY){var e,n=t.currentTarget._scrollType;if("none"===n)e=!1;else if("XY"===n)e=!0;else{var r=t.changedTouches[0],i=n,o="Y"===n?"X":"Y",a=Math.abs(r["client"+i]-this.firstXY[i]),s=Math.abs(r["client"+o]-this.firstXY[o]);e=a>=s}return this.firstXY=null,e}},findTouch:function(t,e){for(var n,r=0,i=t.length;r<i&&(n=t[r]);r++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.touches;if(Y.size>=e.length){var n=[];Y.forEach(function(t,r){if(1!==r&&!this.findTouch(e,r-2)){var i=t.out;n.push(i)}},this),n.forEach(this.cancelOut,this)}},touchstart:function(t){this.vacuumTouches(t),this.setPrimaryTouch(t.changedTouches[0]),this.dedupSynthMouse(t),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){Y.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),w.over(t),w.enter(t),w.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=t,n=Y.get(e.pointerId);if(n){var r=n.out,i=n.outTarget;w.move(e),r&&i!==e.target&&(r.relatedTarget=e.target,e.relatedTarget=i,r.target=i,e.target?(w.leaveOut(r),w.enterOver(e)):(e.target=i,e.relatedTarget=null,this.cancelOut(e))),n.out=e,n.outTarget=e.target}},touchend:function(t){this.dedupSynthMouse(t),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(w.up(t),w.out(t),w.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){w.cancel(t),w.out(t),w.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){Y["delete"](t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=z.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch(n)){var r={x:n.clientX,y:n.clientY};e.push(r);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,r);setTimeout(i,q)}}};J||(B=new O($.elementAdded,$.elementRemoved,$.elementChanged,$));var Z,Q,tt=$,et=w.pointermap,nt=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,rt={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){w.listen(t,this.events)},unregister:function(t){w.unlisten(t,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(t){var e=t;return nt&&(e=w.cloneEvent(t),e.pointerType=this.POINTER_TYPES[t.pointerType]),e},cleanup:function(t){et["delete"](t)},MSPointerDown:function(t){et.set(t.pointerId,t);var e=this.prepareEvent(t);w.down(e)},MSPointerMove:function(t){var e=this.prepareEvent(t);w.move(e)},MSPointerUp:function(t){var e=this.prepareEvent(t);w.up(e),this.cleanup(t.pointerId)},MSPointerOut:function(t){var e=this.prepareEvent(t);w.leaveOut(e)},MSPointerOver:function(t){var e=this.prepareEvent(t);w.enterOver(e)},MSPointerCancel:function(t){var e=this.prepareEvent(t);w.cancel(e),this.cleanup(t.pointerId)},MSLostPointerCapture:function(t){var e=w.makeEvent("lostpointercapture",t);w.dispatchEvent(e)},MSGotPointerCapture:function(t){var e=w.makeEvent("gotpointercapture",t);w.dispatchEvent(e)}},it=rt,ot=window.navigator;ot.msPointerEnabled?(Z=function(t){u(t),this.msSetPointerCapture(t)},Q=function(t){u(t),this.msReleasePointerCapture(t)}):(Z=function(t){u(t),w.setCapture(t,this)},Q=function(t){u(t),w.releaseCapture(t,this)}),a(),s(),c();var at={dispatcher:w,Installer:O,PointerEvent:h,PointerMap:v,targetFinding:E};return at})},function(t,e,n){function r(t,e,n){function r(){n(o),i(r)}"function"==typeof e?(n=e,e={}):e=e||{};var o=t.getContext("webgl",e)||t.getContext("webgl-experimental",e)||t.getContext("experimental-webgl",e);if(!o)throw new Error("Unable to initialize WebGL");return n&&i(r),o}var i=n(5);t.exports=r},function(t,e){function n(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-r)),i=setTimeout(t,n);return r=e,i}e=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||n;var r=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;e.cancel=function(t){i.call(window,t)}},function(t,e){var n,r="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(r),o=/Opera/.test(r),a=!/like Gecko/.test(r)&&!o,s=t.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num-->",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&a?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:o?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(n=58;n<65;++n)s[n]=String.fromCharCode(n);for(n=48;n<58;++n)s[n]=n-48+"";for(n=65;n<91;++n)s[n]=String.fromCharCode(n);for(n=96;n<106;++n)s[n]="<num-"+(n-96)+">";for(n=112;n<136;++n)s[n]="F"+(n-111)},function(t,e,n){n(8);t.exports=function(t,e){var n,r=2===arguments.length,i={video:!0,audio:!0},o="PermissionDeniedError",a="PERMISSION_DENIED",s="ConstraintNotSatisfiedError";return r||(e=t,t=i),"undefined"!=typeof navigator&&navigator.getUserMedia?t.audio||t.video?(localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(t.fake=!0),void navigator.mediaDevices.getUserMedia(t).then(function(t){e(null,t)})["catch"](function(t){var n;"string"==typeof t?(n=new Error("MediaStreamError"),t===o||t===a?n.name=o:n.name=s):(n=t,n.name||(n[o]?t.name=o:t.name=s)),e(n)})):(n=new Error("MediaStreamError"),n.name="NoMediaRequestedError",setTimeout(function(){e(n)},0)):(n=new Error("MediaStreamError"),n.name="NotSupportedError",setTimeout(function(){e(n)},0))}},function(t,e,n){"use strict";!function(){var e=n(9).log,r=n(9).browserDetails;t.exports.browserDetails=r,t.exports.extractVersion=n(9).extractVersion,t.exports.disableLog=n(9).disableLog;var i=n(10)||null,o=n(12)||null,a=n(15)||null,s=n(17)||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void e("Chrome shim is not included in this adapter release.");e("adapter.js shimming chrome."),t.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void e("Firefox shim is not included in this adapter release.");e("adapter.js shimming firefox."),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void e("MS edge shim is not included in this adapter release.");e("adapter.js shimming edge."),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void e("Safari shim is not included in this adapter release.");e("adapter.js shimming safari."),t.exports.browserShim=s,s.shimGetUserMedia();break;default:e("Unsupported browser!")}}()},function(t,e){"use strict";var n=!0,r={disableLog:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(n=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(t,e,n){var r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var t={};if(t.browser=null,t.version=null,t.minVersion=null,"undefined"==typeof window||!window.navigator)return t.browser="Not a browser.",t;if(navigator.mozGetUserMedia)t.browser="firefox",t.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),t.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.browser="chrome",t.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),t.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.browser="safari",t.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),t.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return t.browser="Not a supported browser.",t;t.browser="edge",t.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),t.minVersion=10547}return t.version<t.minVersion&&r.log("Browser: "+t.browser+" Version: "+t.version+" < minimum supported version: "+t.minVersion+"\n some things might not work!"),t}};t.exports={log:r.log,disableLog:r.disableLog,browserDetails:r.detectBrowser(),extractVersion:r.extractVersion}},function(t,e,n){"use strict";var r=n(9).log,i=n(9).browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){var e=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[t.stream],e.dispatchEvent(r)}),t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.streams=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(t){var e=this;return this._srcObject=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(t,e){r("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy);var n=new webkitRTCPeerConnection(t,e),i=n.getStats.bind(n);return n.getStats=function(t,e,n){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof t)return i(t,e);var a=function(t){var e={},n=t.result();return n.forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),e[n.id]=n}),e},s=function(t,e){var n=new Map(Object.keys(t).map(function(e){return[e,t[e]]}));return e=e||t,Object.keys(e).forEach(function(t){n[t]=e[t]}),n};if(arguments.length>=2){var u=function(t){o[1](s(a(t)))};return i.apply(this,[u,arguments[0]])}return new Promise(function(e,n){1===o.length&&"object"==typeof t?i.apply(r,[function(t){e(s(a(t)))},n]):i.apply(r,[function(t){e(s(a(t),t.result()))},n])}).then(e,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){e.apply(t,[r,i,n])})}return e.apply(this,arguments)}}),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){var t=arguments,n=this,r=new Promise(function(r,i){e.apply(n,[t[0],r,i])});return t.length<2?r:r.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():t.apply(this,arguments)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=webkitRTCPeerConnection.prototype[t];webkitRTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}})},attachMediaStream:function(t,e){r("DEPRECATED, attachMediaStream will soon be removed."),i.version>=43?t.srcObject=e:"undefined"!=typeof t.src?t.src=URL.createObjectURL(e):r("Error attaching stream to element.")},reattachMediaStream:function(t,e){r("DEPRECATED, reattachMediaStream will soon be removed."),i.version>=43?t.srcObject=e.srcObject:t.src=e.src}};t.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(11),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e,n){"use strict";var r=n(9).log;t.exports=function(){var t=function(t){if("object"!=typeof t||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof t[n]?t[n]:{ideal:t[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.ideal){e.optional=e.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,e.optional.push(o),o={},o[i("max",n)]=r.ideal,e.optional.push(o)):(o[i("",n)]=r.ideal,e.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(e.mandatory=e.mandatory||{},e.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(t){void 0!==r[t]&&(e.mandatory=e.mandatory||{},e.mandatory[i(t,n)]=r[t])})}}),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},e=function(e,n){if(e=JSON.parse(JSON.stringify(e)),e&&e.audio&&(e.audio=t(e.audio)),e&&"object"==typeof e.video){var i=e.video.facingMode;if(i=i&&("object"==typeof i?i:{ideal:i}),i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(o){o=o.filter(function(t){return"videoinput"===t.kind});var a=o.find(function(t){return t.label.toLowerCase().indexOf("back")!==-1})||o.length&&o[o.length-1];return a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=t(e.video),r("chrome: "+JSON.stringify(e)),n(e)});e.video=t(e.video)}return r("chrome: "+JSON.stringify(e)),n(e)},n=function(t){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[t.name]||t.name,message:t.message,constraint:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(t,r,i){e(t,function(t){navigator.webkitGetUserMedia(t,r,function(t){i(n(t))})})};navigator.getUserMedia=i;var o=function(t){return new Promise(function(e,n){navigator.getUserMedia(t,e,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,enumerateDevices:function(){return new Promise(function(t){var e={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){t(n.map(function(t){return{label:t.label,kind:e[t.kind],deviceId:t.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t)["catch"](function(t){return Promise.reject(n(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return o(t)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,n){"use strict";var r=n(13),i=n(9).log,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t})),window.RTCPeerConnection=function(t){var e=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){
e[t]=n[t].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return e.localStreams},this.getRemoteStreams=function(){return e.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},t&&t.iceTransportPolicy)switch(t.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=t.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers){var r=JSON.parse(JSON.stringify(t.iceServers));this.iceOptions.iceServers=r.filter(function(t){if(t&&t.urls){var e=t.urls;return"string"==typeof e&&(e=[e]),e=e.filter(function(t){return 0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1})[0],!!e}return!1})}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var t=this,e=r.splitSections(t.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var r=!n.candidate||0===Object.keys(n.candidate).length;if(r)for(var i=1;i<e.length;i++)e[i].indexOf("\r\na=end-of-candidates\r\n")===-1&&(e[i]+="a=end-of-candidates\r\n");else n.candidate.candidate.indexOf("typ endOfCandidates")===-1&&(e[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");if(t.localDescription.sdp=e.join(""),t.dispatchEvent(n),null!==t.onicecandidate&&t.onicecandidate(n),!n.candidate&&"complete"!==t.iceGatheringState){var o=t.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});o&&(t.iceGatheringState="complete")}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(t){this.localStreams.push(t.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.localStreams.indexOf(t);e>-1&&(this.localStreams.splice(e,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(t){return!!t.rtpSender}).map(function(t){return t.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(t){return!!t.rtpReceiver}).map(function(t){return t.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return t.codecs.forEach(function(t){for(var r=0;r<e.codecs.length;r++){var i=e.codecs[r];if(t.name.toLowerCase()===i.name.toLowerCase()&&t.clockRate===i.clockRate&&t.numChannels===i.numChannels){n.codecs.push(i);break}}}),t.headerExtensions.forEach(function(t){for(var r=0;r<e.headerExtensions.length;r++){var i=e.headerExtensions[r];if(t.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(t,e){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:t,sdpMLineIndex:e};var u=a.candidate,c=!u||0===Object.keys(u).length;c?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(u.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(u));var l=r.splitSections(n.localDescription.sdp);s.candidate.candidate.indexOf("typ endOfCandidates")===-1?l[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":l[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=l.join("");var f=n.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),c&&f&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),f&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete");break;case"complete":}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(t,e,n){var i=this._getCommonCapabilities(t.localCapabilities,t.remoteCapabilities);e&&t.rtpSender&&(i.encodings=t.sendEncodingParameters,i.rtcp={cname:r.localCName},t.recvEncodingParameters.length&&(i.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(i)),n&&t.rtpReceiver&&(i.encodings=t.recvEncodingParameters,i.rtcp={cname:t.cname},t.sendEncodingParameters.length&&(i.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,n,i=this;if("offer"===t.type)this._pendingOffer&&(e=r.splitSections(t.sdp),n=e.shift(),e.forEach(function(t,e){var n=r.parseRtpParameters(t);i._pendingOffer[e].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===t.type){e=r.splitSections(i.remoteDescription.sdp),n=e.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;e.forEach(function(t,e){var a=i.transceivers[e],s=a.iceGatherer,u=a.iceTransport,c=a.dtlsTransport,l=a.localCapabilities,f=a.remoteCapabilities,h="0"===t.split("\n",1)[0].split(" ",2)[1];if(!h){var p=r.getIceParameters(t,n);if(o){var d=r.matchPrefix(t,"a=candidate:").map(function(t){return r.parseCandidate(t)}).filter(function(t){return"1"===t.component});d.length&&u.setRemoteCandidates(d)}var v=r.getDtlsParameters(t,n);o&&(v.role="server"),i.usingBundle&&0!==e||(u.start(s,p,o?"controlling":"controlled"),c.start(v));var g=i._getCommonCapabilities(l,f);i._transceive(a,g.codecs.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1];if(a){var s=arguments[1];window.setTimeout(function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var u=Promise.resolve();return u.then(function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),u},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,n=new MediaStream,i=[],o=r.splitSections(t.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach(function(o,u){var c,l,f,h,p,d,v,g,m,y,_,b,w=r.splitLines(o),E=w[0].substr(2).split(" "),x=E[0],A="0"===E[1],T=r.getDirection(o,a),S=r.parseRtpParameters(o);A||(_=r.getIceParameters(o,a),b=r.getDtlsParameters(o,a),b.role="client"),g=r.parseRtpEncodingParameters(o);var R=r.matchPrefix(o,"a=mid:");R=R.length?R[0].substr(6):r.generateIdentifier();var M,C=r.matchPrefix(o,"a=ssrc:").map(function(t){return r.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute})[0];C&&(M=C.value);var O=r.matchPrefix(o,"a=end-of-candidates").length>0,P=r.matchPrefix(o,"a=candidate:").map(function(t){return r.parseCandidate(t)}).filter(function(t){return"1"===t.component});if("offer"!==t.type||A)"answer"!==t.type||A||(c=e.transceivers[u],l=c.iceGatherer,f=c.iceTransport,h=c.dtlsTransport,p=c.rtpSender,d=c.rtpReceiver,v=c.sendEncodingParameters,m=c.localCapabilities,e.transceivers[u].recvEncodingParameters=g,e.transceivers[u].remoteCapabilities=S,e.transceivers[u].cname=M,(s||O)&&P.length&&f.setRemoteCandidates(P),e.usingBundle&&0!==u||(f.start(l,_,"controlling"),h.start(b)),e._transceive(c,"sendrecv"===T||"recvonly"===T,"sendrecv"===T||"sendonly"===T),!d||"sendrecv"!==T&&"sendonly"!==T?delete c.rtpReceiver:(y=d.track,i.push([y,d]),n.addTrack(y)));else{var I=e.usingBundle&&u>0?{iceGatherer:e.transceivers[0].iceGatherer,iceTransport:e.transceivers[0].iceTransport,dtlsTransport:e.transceivers[0].dtlsTransport}:e._createIceAndDtlsTransports(R,u);if(O&&I.iceTransport.setRemoteCandidates(P),m=RTCRtpReceiver.getCapabilities(x),v=[{ssrc:1001*(2*u+2)}],d=new RTCRtpReceiver(I.dtlsTransport,x),y=d.track,i.push([y,d]),n.addTrack(y),e.localStreams.length>0&&e.localStreams[0].getTracks().length>=u){var N=e.localStreams[0].getTracks()[u];p=new RTCRtpSender(N,I.dtlsTransport)}e.transceivers[u]={iceGatherer:I.iceGatherer,iceTransport:I.iceTransport,dtlsTransport:I.dtlsTransport,localCapabilities:m,remoteCapabilities:S,rtpSender:p,rtpReceiver:d,kind:x,mid:R,cname:M,sendEncodingParameters:v,recvEncodingParameters:g},e._transceive(e.transceivers[u],!1,"sendrecv"===T||"sendonly"===T)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return n.getTracks().length&&(e.remoteStreams.push(n),window.setTimeout(function(){var t=new Event("addstream");t.stream=n,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),i.forEach(function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],e.dispatchEvent(t),null!==e.ontrack&&window.setTimeout(function(){e.ontrack(a)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var t,e=this,n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(t){n[t.iceTransport.state]++,n[t.dtlsTransport.state]++}),n.connected+=n.completed,t="new",n.failed>0?t="failed":n.connecting>0||n.checking>0?t="connecting":n.disconnected>0?t="disconnected":n["new"]>0?t="new":(n.connected>0||n.completed>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(t){n.push({kind:t.kind,track:t,wantReceive:"audio"===t.kind?i>0:o>0}),"audio"===t.kind?i--:"video"===t.kind&&o--});i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach(function(e,n){var i,o,a=e.track,u=e.kind,c=r.generateIdentifier(),l=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(c,n),f=RTCRtpSender.getCapabilities(u),h=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,l.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(l.dtlsTransport,u)),s[n]={iceGatherer:l.iceGatherer,iceTransport:l.iceTransport,dtlsTransport:l.dtlsTransport,localCapabilities:f,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:u,mid:c,sendEncodingParameters:h,recvEncodingParameters:null}}),this.usingBundle&&(a+="a=group:BUNDLE "+s.map(function(t){return t.mid}).join(" ")+"\r\n"),n.forEach(function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])}),this._pendingOffer=s;var u=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=r.writeSessionBoilerplate();this.usingBundle&&(e+="a=group:BUNDLE "+this.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){var i=t._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);e+=r.writeMediaSection(n,i,"answer",t.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(null===t)this.transceivers.forEach(function(t){t.iceTransport.addRemoteCandidate({})});else{var e=t.sdpMLineIndex;if(t.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===t.sdpMid){e=n;break}var i=this.transceivers[e];if(i){var o=Object.keys(t.candidate).length>0?r.parseCandidate(t.candidate):{};if("tcp"===o.protocol&&0===o.port)return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[e+1]+=(o.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){e[n]&&t.push(e[n].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){r.set(e,t[e]),r[e]=t[e]})}),e&&window.setTimeout(e,0,r),n(r)})})}},attachMediaStream:function(t,e){i("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},reattachMediaStream:function(t,e){i("DEPRECATED, reattachMediaStream will soon be removed."),t.srcObject=e.srcObject}};t.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(14),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e){"use strict";var n={};n.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},n.localCName=n.generateIdentifier(),n.splitLines=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},n.splitSections=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},n.matchPrefix=function(t,e){return n.splitLines(t).filter(function(t){return 0===t.indexOf(e)})},n.parseCandidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:e[1],protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":n.relatedAddress=e[r+1];break;case"rport":n.relatedPort=parseInt(e[r+1],10);break;case"tcptype":n.tcpType=e[r+1]}return n},n.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),"candidate:"+e.join(" ")},n.parseRtpMap=function(t){var e=t.substr(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.numChannels=3===e.length?parseInt(e[2],10):1,n},n.writeRtpMap=function(t){var e=t.payloadType;return void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType),"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==t.numChannels?"/"+t.numChannels:"")+"\r\n"},n.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),uri:e[1]}},n.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+" "+t.uri+"\r\n"},n.parseFmtp=function(t){for(var e,n={},r=t.substr(t.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)e=r[i].trim().split("="),n[e[0].trim()]=e[1];return n},n.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return e},n.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},n.writeRtcpFb=function(t){var e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),e},n.parseSsrcMedia=function(t){var e=t.indexOf(" "),n={ssrc:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(n.attribute=t.substr(e+1,r-e-1),n.value=t.substr(r+1)):n.attribute=t.substr(e+1),n},n.getDtlsParameters=function(t,e){var r=n.splitLines(t);r=r.concat(n.splitLines(e));var i=r.filter(function(t){return 0===t.indexOf("a=fingerprint:")})[0].substr(14),o={role:"auto",fingerprints:[{algorithm:i.split(" ")[0],value:i.split(" ")[1]}]};return o},n.writeDtlsParameters=function(t,e){var n="a=setup:"+e+"\r\n";return t.fingerprints.forEach(function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},n.getIceParameters=function(t,e){var r=n.splitLines(t);r=r.concat(n.splitLines(e));var i={usernameFragment:r.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return i},n.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},n.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(t),i=r[0].split(" "),o=3;o<i.length;o++){var a=i[o],s=n.matchPrefix(t,"a=rtpmap:"+a+" ")[0];if(s){var u=n.parseRtpMap(s),c=n.matchPrefix(t,"a=fmtp:"+a+" ");switch(u.parameters=c.length?n.parseFmtp(c[0]):{},u.rtcpFeedback=n.matchPrefix(t,"a=rtcp-fb:"+a+" ").map(n.parseRtcpFb),e.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(u.name.toUpperCase())}}}return n.matchPrefix(t,"a=extmap:").forEach(function(t){e.headerExtensions.push(n.parseExtmap(t))}),e},n.writeRtpDescription=function(t,e){var r="";return r+="m="+t+" ",r+=e.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach(function(t){r+=n.writeRtpMap(t),r+=n.writeFmtp(t),r+=n.writeRtcpFb(t)}),r+="a=rtcp-mux\r\n"},n.parseRtpEncodingParameters=function(t){var e,r=[],i=n.parseRtpParameters(t),o=i.fecMechanisms.indexOf("RED")!==-1,a=i.fecMechanisms.indexOf("ULPFEC")!==-1,s=n.matchPrefix(t,"a=ssrc:").map(function(t){return n.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute}),u=s.length>0&&s[0].ssrc,c=n.matchPrefix(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});c.length>0&&c[0].length>1&&c[0][0]===u&&(e=c[0][1]),i.codecs.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var n={ssrc:u,codecPayloadType:parseInt(t.parameters.apt,10),rtx:{payloadType:t.payloadType,ssrc:e}};r.push(n),o&&(n=JSON.parse(JSON.stringify(n)),n.fec={ssrc:e,mechanism:a?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&u&&r.push({ssrc:u});var l=n.matchPrefix(t,"b=");return l.length&&(0===l[0].indexOf("b=TIAS:")?l=parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")&&(l=parseInt(l[0].substr(5),10)),r.forEach(function(t){t.maxBitrate=l})),r},n.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(t,e,r,i){var o=n.writeRtpDescription(t.kind,e);if(o+=n.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.mid+"\r\n",o+=t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var a="msid:"+i.id+" "+t.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+a}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n"},n.getDirection=function(t,e){for(var r=n.splitLines(t),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return e?n.getDirection(e):"sendrecv"},t.exports=n},function(t,e){"use strict";t.exports=function(){var t=function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return e(n)["catch"](function(e){return Promise.reject(t(e))})}}},function(t,e,n){"use strict";var r=n(9).log,i=n(9).browserDetails,o={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.streams=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(i.version<38&&t&&t.iceServers){for(var n=[],r=0;r<t.iceServers.length;r++){var o=t.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(t.iceServers[r])}t.iceServers=n}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():t.apply(this,arguments)};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n]),e[n]=t[n]}),e},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,r,i){return n.apply(this,[t||null]).then(function(t){return e(t)}).then(r,i)}}},attachMediaStream:function(t,e){r("DEPRECATED, attachMediaStream will soon be removed."),t.srcObject=e},reattachMediaStream:function(t,e){r("DEPRECATED, reattachMediaStream will soon be removed."),t.srcObject=e.srcObject}};t.exports={shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(16),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(t,e,n){"use strict";var r=n(9).log,i=n(9).browserDetails;t.exports=function(){var t=function(t){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,constraint:t.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,n,o){var a=function(t){if("object"!=typeof t||t.require)return t;var e=[];return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=t[n]="object"==typeof t[n]?t[n]:{ideal:t[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||e.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:t[n]=r.exact,delete r.exact),void 0!==r.ideal){t.advanced=t.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,t.advanced.push(i),delete r.ideal,Object.keys(r).length||delete t[n]}}}),e.length&&(t.require=e),t};return e=JSON.parse(JSON.stringify(e)),i.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=a(e.audio)),e.video&&(e.video=a(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,n,function(e){o(t(e))})},n=function(t){return new Promise(function(n,r){e(t,n,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(t){var e=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];t(e)})},i.version<41){var o=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(i.version<49){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return a(e)["catch"](function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,n,r){return i.version<44?e(t,n,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(n,r))}}},function(t,e){"use strict";var n={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};t.exports={shimGetUserMedia:n.shimGetUserMedia}},function(t,e){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(e instanceof r||(i=e,e=null),i=i||{},this.ctx=e=e||new r,t instanceof AudioNode||(t=t instanceof Audio||t instanceof HTMLAudioElement?e.createMediaElementSource(t):e.createMediaStreamSource(t)),this.analyser=e.createAnalyser(),this.stereo=!!i.stereo,this.audible=i.audible!==!1,this.wavedata=null,this.freqdata=null,this.splitter=null,this.merger=null,this.source=t,this.stereo){this.analyser=[this.analyser],this.analyser.push(e.createAnalyser()),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.output=this.merger,this.source.connect(this.splitter);for(var o=0;o<2;o++)this.splitter.connect(this.analyser[o],o,0),this.analyser[o].connect(this.merger,0,o);this.audible&&this.merger.connect(e.destination)}else this.output=this.source,this.source.connect(this.analyser),this.audible&&this.analyser.connect(e.destination)}var r=window.AudioContext||window.webkitAudioContext;t.exports=n,n.prototype.waveform=function(t,e){t||(t=this.wavedata||(this.wavedata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[e||0]:this.analyser;return n.getByteTimeDomainData(t),t},n.prototype.frequencies=function(t,e){t||(t=this.freqdata||(this.freqdata=new Uint8Array((this.analyser[0]||this.analyser).frequencyBinCount)));var n=this.stereo?this.analyser[e||0]:this.analyser;return n.getByteFrequencyData(t),t}},function(t,e,n){function r(t){if(t)throw t}function i(t,e){l||(u(".npm-scb-wrap {\n  font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 200;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999;\n}\n\n.npm-scb-wrap a {\n  text-decoration: none;\n  color: #000;\n}\n.npm-scb-white\n.npm-scb-wrap a {\n  color: #fff;\n}\n\n.npm-scb-inner {\n  position: absolute;\n  top: -120px; left: 0;\n  padding: 8px;\n  width: 100%;\n  height: 150px;\n  z-index: 2;\n  -webkit-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n     -moz-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n      -ms-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n       -o-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n          transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n}\n.npm-scb-wrap:hover\n.npm-scb-inner {\n  top: 0;\n}\n\n.npm-scb-artwork {\n  position: absolute;\n  top: 16px; left: 16px;\n  width: 104px; height: 104px;\n  box-shadow: 0 0 8px -3px #000;\n  outline: 1px solid rgba(0,0,0,0.1);\n  z-index: 2;\n}\n.npm-scb-white\n.npm-scb-artwork {\n  outline: 1px solid rgba(255,255,255,0.1);\n  box-shadow: 0 0 10px -2px rgba(255,255,255,0.9);\n}\n\n.npm-scb-info {\n  position: absolute;\n  top: 16px;\n  left: 120px;\n  width: 300px;\n  z-index: 1;\n}\n\n.npm-scb-info > a {\n  display: block;\n}\n\n.npm-scb-now-playing {\n  font-size: 12px;\n  line-height: 12px;\n  position: absolute;\n  width: 500px;\n  z-index: 1;\n  padding: 15px 0;\n  top: 0; left: 138px;\n  opacity: 1;\n  -webkit-transition: opacity 0.25s;\n     -moz-transition: opacity 0.25s;\n      -ms-transition: opacity 0.25s;\n       -o-transition: opacity 0.25s;\n          transition: opacity 0.25s;\n}\n\n.npm-scb-wrap:hover\n.npm-scb-now-playing {\n  opacity: 0;\n}\n\n.npm-scb-white\n.npm-scb-now-playing {\n  color: #fff;\n}\n.npm-scb-now-playing > a {\n  font-weight: bold;\n}\n\n.npm-scb-info > a > p {\n  margin: 0;\n  padding-bottom: 0.25em;\n  line-height: 1.35em;\n  margin-left: 1em;\n  font-size: 1em;\n}\n\n.npm-scb-title {\n  font-weight: bold;\n}\n\n.npm-scb-icon {\n  position: absolute;\n  top: 120px;\n  padding-top: 0.75em;\n  left: 16px;\n}\n"),
l=!0),h||(h=s.compile('<div class="npm-scb-wrap">\n  <div class="npm-scb-inner">\n    <a target="_blank" href="{{!urls.song}}">\n      <img class="npm-scb-icon" src="{{!icon}}">\n      <img class="npm-scb-artwork" src="{{!artwork}}">\n    </a>\n    <div class="npm-scb-info">\n      <a target="_blank" href="{{!urls.song}}">\n        <p class="npm-scb-title">{{!title}}</p>\n      </a>\n      <a target="_blank" href="{{!urls.artist}}">\n        <p class="npm-scb-artist">{{!artist}}</p>\n      </a>\n    </div>\n  </div>\n  <div class="npm-scb-now-playing">\n    Now Playing:\n    <a href="{{!urls.song}}">{{!title}}</a>\n    by\n    <a href="{{!urls.artist}}">{{!artist}}</a>\n  </div>\n</div>')),!f&&t.getFonts&&(a.add({"Open Sans":[300,600]}),f=!0),t=t||{},e=e||r;var n=t.el||document.createElement("div"),i="dark"in t&&!t.dark?"white":"black",p=t.client_id,d=t.song;return o(p,d,function(t,r){if(t)return e(t);if("track"!==r.kind)throw new Error("soundcloud-badge only supports individual tracks at the moment");n.classList["black"===i?"remove":"add"]("npm-scb-white"),n.innerHTML=h({artwork:r.artwork_url||r.user.avatar_url,artist:r.user.username,title:r.title,icon:c[i],urls:{song:r.permalink_url,artist:r.user.permalink_url}}),document.body.appendChild(n),e(null,r.stream_url+"?client_id="+p,r,n)}),n}var o=n(20),a=n(27),s=n(28),u=n(29),c=(n(30),{black:"https://developers.soundcloud.com/assets/logo_black.png",white:"https://developers.soundcloud.com/assets/logo_white.png"});t.exports=i;var l=!1,f=!1,h=null},function(t,e,n){function r(t,e,n){var r="https://api.soundcloud.com/resolve.json?"+i.stringify({url:e,client_id:t});o({uri:r,method:"GET"},function(e,r,i){if(e)return n(e);try{i=JSON.parse(i)}catch(o){return n(o)}if(i.errors)return n(new Error(i.errors[0].error_message));var a="track"===i.kind&&i.stream_url+"?client_id="+t;return n(null,i,a)})}var i=n(21),o=n(24);t.exports=r},function(t,e,n){"use strict";e.decode=e.parse=n(22),e.encode=e.stringify=n(23)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,h,p,d=t[c].replace(a,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),f=d.substr(v+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),n(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){function r(t,e){function n(){4===l.readyState&&r()}function r(){var t=null,n=l.statusCode=l.status,r=l.body=l.response||l.responseText||l.responseXML;if(0===n||n>=400&&n<600){var i=l.responseText||s[String(l.status).charAt(0)];t=new Error(i),t.statusCode=l.status}if(v)try{r=l.body=JSON.parse(r)}catch(o){}e(t,l,r)}function o(t){e(t,l)}"string"==typeof t&&(t={uri:t}),t=t||{},e=a(e);var l;l=t.cors?new c:new u;var f=l.url=t.uri,h=l.method=t.method||"GET",p=t.body||t.data,d=l.headers=t.headers||{},v=!1;return"json"in t&&(v=!0,d["Content-Type"]="application/json",p=JSON.stringify(t.json)),l.onreadystatechange=n,l.onload=r,l.onerror=o,l.onprogress=function(){},l.ontimeout=i,l.open(h,f),t.cors&&(l.withCredentials=!0),l.timeout="timeout"in t?t.timeout:5e3,l.setRequestHeader&&Object.keys(d).forEach(function(t){l.setRequestHeader(t,d[t])}),l.send(p),l}function i(){}var o=n(25),a=n(26),s={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},u=o.XMLHttpRequest||i,c="withCredentials"in new u?o.XMLHttpRequest:o.XDomainRequest;t.exports=r},function(t,e){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:t.exports={}}).call(e,function(){return this}())},function(t,e){function n(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},function(t,e){function n(t){var e=i(t);return'<link href="'+e+'" rel="stylesheet" type="text/css">'}function r(t){var e=i(t),n=document.createElement("link");return n.setAttribute("href",e),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n}function i(t){var e=Object.keys(t).map(function(e){var n=t[e];return e=e.replace(/\s+/,"+"),"boolean"==typeof n?e:e+":"+a(n).join(",")}).join("|");return"http://fonts.googleapis.com/css?family="+e}function o(t){var e=r(t);return document.head.appendChild(e),e}function a(t){return Array.isArray(t)?t:[t]}t.exports=n,t.exports.add=o},function(t,e){function n(t,e){e=e||{};var n=r(t);return n(e)}function r(t){for(var e,n=[],r=o(t),c=0;c<r.length;++c)if(e=r[c],c%2==0)n.push('"'+e.replace(/"/g,'\\"')+'"');else switch(e[0]){case"/":e=e.slice(1),n.push(") + ");break;case"^":e=e.slice(1),i(e),n.push(' + section(obj, "'+e+'", true, ');break;case"#":e=e.slice(1),i(e),n.push(' + section(obj, "'+e+'", false, ');break;case"!":e=e.slice(1),i(e),n.push(" + obj."+e+" + ");break;default:i(e),n.push(" + escape(obj."+e+") + ")}return n="\n"+a(u.toString())+";\n\n"+a(s.toString())+";\n\n  return "+n.join("").replace(/\n/g,"\\n"),new Function("obj",n)}function i(t){if(!t.match(/^[\w.]+$/))throw new Error('invalid property "'+t+'"')}function o(t){return t.split(/\{\{|\}\}/)}function a(t){return t.replace(/^/gm,"  ")}function s(t,e,n,r){var i=t[e];return"function"==typeof i?i.call(t,r):(n&&(i=!i),i?r:"")}function u(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}e=t.exports=n,e.compile=r},function(t,e){var n=[];t.exports=function(t){if(!(n.indexOf(t)>=0)){n.push(t);var e=document.createElement("style"),r=document.createTextNode(t);e.appendChild(r),document.head.childNodes.length?document.head.insertBefore(e,document.head.childNodes[0]):document.head.appendChild(e)}}},function(t,e){},function(t,e){function n(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i=t.clientX||0,o=t.clientY||0,a=r(e);return n[0]=i-a.left,n[1]=o-a.top,n}function r(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}var i={left:0,top:0};t.exports=n},function(t,e,n){function r(t,e,n){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),i(t,e,{leading:r,maxWait:e,trailing:s})}var i=n(33),o=n(34),a="Expected a function";t.exports=r},function(t,e,n){function r(t,e,n){function r(e){var n=y,r=_;return y=_=void 0,A=e,w=t.apply(r,n)}function l(t){return A=t,E=setTimeout(p,e),T?r(t):w}function f(t){var n=t-x,r=t-A,i=e-n;return S?c(i,b-r):i}function h(t){var n=t-x,r=t-A;return void 0===x||n>=e||n<0||S&&r>=b}function p(){var t=o();return h(t)?d(t):void(E=setTimeout(p,f(t)))}function d(t){return E=void 0,R&&y?r(t):(y=_=void 0,w)}function v(){void 0!==E&&clearTimeout(E),A=0,y=x=_=E=void 0}function g(){return void 0===E?w:d(o())}function m(){var t=o(),n=h(t);if(y=arguments,_=this,x=t,n){if(void 0===E)return l(x);if(S)return E=setTimeout(p,e),r(x)}return void 0===E&&(E=setTimeout(p,e)),w}var y,_,b,w,E,x,A=0,T=!1,S=!1,R=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,i(n)&&(T=!!n.leading,S="maxWait"in n,b=S?u(a(n.maxWait)||0,e):b,R="trailing"in n?!!n.trailing:R),m.cancel=v,m.flush=g,m}var i=n(34),o=n(35),a=n(38),s="Expected a function",u=Math.max,c=Math.min;t.exports=r},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var r=n(36),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){var r=n(37),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?f(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(34),o=n(39),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||i(t)&&s.call(t)==o}var i=n(40),o="[object Symbol]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t,e,n){o(typeof t===e,"range-fit expects typeof("+n+") to be "+e)}function i(t,e){r(t,"number",e)}var o=n(42);t.exports=function(t,e,n,r,a){i(t,"value"),i(e,"lowerInitial"),i(n,"upperInitial"),i(r,"lowerNew"),i(a,"upperNew");var s=n-e;if(0===s)return r;o(e<=t,"range-fit expects lowerInitial<=value"),o(n>=t,"range-fit expects upperInitial>=value");var u=a-r;return(t-e)*u/s+r}},function(t,e,n){(function(e){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function r(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function o(t){return Object.prototype.toString.call(t)}function a(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(b.isFunction(t)){if(x)return t.name;var e=t.toString(),n=e.match(T);return n&&n[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function c(t){if(x||!b.isFunction(t))return b.inspect(t);var e=s(t),n=e?": "+e:"";return"[Function"+n+"]"}function l(t){return u(c(t.actual),128)+" "+t.operator+" "+u(c(t.expected),128)}function f(t,e,n,r,i){throw new A.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function h(t,e){t||f(t,!0,e,"==",A.ok)}function p(t,e,n,s){if(t===e)return!0;if(i(t)&&i(e))return 0===r(t,e);if(b.isDate(t)&&b.isDate(e))return t.getTime()===e.getTime();if(b.isRegExp(t)&&b.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(a(t)&&a(e)&&o(t)===o(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(t);return u!==-1&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),v(t,e,n,s))}return n?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function v(t,e,n,r){if(null===t||void 0===t||null===e||void 0===e)return!1;if(b.isPrimitive(t)||b.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),o=d(e);if(i&&!o||!i&&o)return!1;if(i)return t=E.call(t),e=E.call(e),p(t,e,n);var a,s,u=S(t),c=S(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!==c[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!p(t[a],e[a],n,r))return!1;return!0}function g(t,e,n){p(t,e,!0)&&f(t,e,n,"notDeepStrictEqual",g)}function m(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(n){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function y(t){var e;try{t()}catch(n){e=n}return e}function _(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&b.isError(i),s=!t&&i&&!n;if((a&&o&&m(i,n)||s)&&f(i,n,"Got unwanted exception"+r),t&&i&&n&&!m(i,n)||!t&&i)throw i}var b=n(43),w=Object.prototype.hasOwnProperty,E=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),A=t.exports=h,T=/\s*function\s+([^\(\s]*)\s*/;A.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var e=t.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=s(e),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},b.inherits(A.AssertionError,Error),A.fail=f,A.ok=h,A.equal=function(t,e,n){t!=e&&f(t,e,n,"==",A.equal)},A.notEqual=function(t,e,n){t==e&&f(t,e,n,"!=",A.notEqual)},A.deepEqual=function(t,e,n){p(t,e,!1)||f(t,e,n,"deepEqual",A.deepEqual)},A.deepStrictEqual=function(t,e,n){p(t,e,!0)||f(t,e,n,"deepStrictEqual",A.deepStrictEqual)},A.notDeepEqual=function(t,e,n){p(t,e,!1)&&f(t,e,n,"notDeepEqual",A.notDeepEqual)},A.notDeepStrictEqual=g,A.strictEqual=function(t,e,n){t!==e&&f(t,e,n,"===",A.strictEqual)},A.notStrictEqual=function(t,e,n){t===e&&f(t,e,n,"!==",A.notStrictEqual)},A["throws"]=function(t,e,n){_(!0,t,e,n)},A.doesNotThrow=function(t,e,n){_(!1,t,e,n)},A.ifError=function(t){if(t)throw t};var S=Object.keys||function(t){var e=[];for(var n in t)w.call(t,n)&&e.push(n);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return _(i)||(i=u(t,i,r)),i}var o=c(t,n);if(o)return o;var a=Object.keys(n),v=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),T(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(S(n)){var g=n.name?": "+n.name:"";return t.stylize("[Function"+g+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return l(n)}var m="",y=!1,b=["{","}"];if(d(n)&&(y=!0,b=["[","]"]),S(n)){var w=n.name?": "+n.name:"";m=" [Function"+w+"]"}if(E(n)&&(m=" "+RegExp.prototype.toString.call(n)),A(n)&&(m=" "+Date.prototype.toUTCString.call(n)),T(n)&&(m=" "+l(n)),0===a.length&&(!y||0==n.length))return b[0]+m+b[1];if(r<0)return E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=y?f(t,n,r,v,a):a.map(function(e){return h(t,n,r,v,e,y)}),t.seen.pop(),p(x,m,b)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)P(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var a,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),P(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(n)?u(t,c.value,null):u(t,c.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function E(t){return x(t)&&"[object RegExp]"===M(t)}function x(t){return"object"==typeof t&&null!==t}function A(t){return x(t)&&"[object Date]"===M(t)}function T(t){return x(t)&&("[object Error]"===M(t)||t instanceof Error)}function S(t){return"function"==typeof t}function R(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function M(t){return Object.prototype.toString.call(t)}function C(t){return t<10?"0"+t.toString(10):t.toString(10)}function O(){var t=new Date,e=[C(t.getHours()),C(t.getMinutes()),C(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];n<o;s=r[++n])a+=g(s)||!x(s)?" "+s:" "+i(s);return a},e.deprecate=function(n,i){function o(){if(!a){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),a=!0}return n.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var a=!1;return o};var N,F={};e.debuglog=function(t){if(w(N)&&(N=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!F[t])if(new RegExp("\\b"+t+"\\b","i").test(N)){var n=r.pid;F[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else F[t]=function(){};return F[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=v,e.isNull=g,e.isNullOrUndefined=m,e.isNumber=y,e.isString=_,e.isSymbol=b,e.isUndefined=w,e.isRegExp=E,e.isObject=x,e.isDate=A,e.isError=T,e.isFunction=S,e.isPrimitive=R,e.isBuffer=n(45);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",O(),e.format.apply(e,arguments))},e.inherits=n(46),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(44))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],v=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(48),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,s,u,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=o,l[5]=a,l[6]=s,l[7]=u,l[8]=c,l},i.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,h=-l*o+s*u,p=c*o-a*u,d=n*f+r*h+i*p;return d?(d=1/d,t[0]=f*d,t[1]=(-l*r+i*c)*d,t[2]=(s*r-i*a)*d,t[3]=h*d,t[4]=(l*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-c*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],p=n[1],d=n[2],v=n[3],g=n[4],m=n[5],y=n[6],_=n[7],b=n[8];return t[0]=h*r+p*a+d*c,t[1]=h*i+p*s+d*l,t[2]=h*o+p*u+d*f,t[3]=v*r+g*a+m*c,t[4]=v*i+g*s+m*l,t[5]=v*o+g*u+m*f,t[6]=y*r+_*a+b*c,t[7]=y*i+_*s+b*l,t[8]=y*o+_*u+b*f,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*r+p*a+c,t[7]=h*i+p*s+l,t[8]=h*o+p*u+f,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*a,t[1]=p*i+h*s,t[2]=p*o+h*u,t[3]=p*a-h*r,t[4]=p*s-h*i,t[5]=p*u-h*o,t[6]=c,t[7]=l,t[8]=f,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,p=i*s,d=i*u,v=o*a,g=o*s,m=o*u;return t[0]=1-f-d,t[3]=l-m,t[6]=h+g,t[1]=l+m,t[4]=1-c-d,t[7]=p-v,t[2]=h-g,t[5]=p+v,t[8]=1-c-f,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],v=e[13],g=e[14],m=e[15],y=n*s-r*a,_=n*u-i*a,b=n*c-o*a,w=r*u-i*s,E=r*c-o*s,x=i*c-o*u,A=l*v-f*d,T=l*g-h*d,S=l*m-p*d,R=f*g-h*v,M=f*m-p*v,C=h*m-p*g,O=y*C-_*M+b*R+w*S-E*T+x*A;return O?(O=1/O,t[0]=(s*C-u*M+c*R)*O,t[1]=(u*S-a*C-c*T)*O,t[2]=(a*M-s*S+c*A)*O,t[3]=(i*M-r*C-o*R)*O,t[4]=(n*C-i*S+o*T)*O,t[5]=(r*S-n*M-o*A)*O,t[6]=(v*x-g*E+m*w)*O,t[7]=(g*b-d*x-m*_)*O,t[8]=(d*E-v*b+m*y)*O,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=e[0],p=e[1],d=e[2],v=e[3],g=e[4],m=e[5],y=t[6],_=e[7],b=e[8];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-v)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(l-_)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(f-b)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(b))},t.exports=i},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r=n(48),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},t.exports=i},function(t,e){function n(t){return/^[a-z_$][0-9a-z_$]*$/gi.test(t)&&!i.test(t)}function r(t){if(o)return t.toString();var e=t.source.replace(/\//g,function(t,e,n){return 0===e||"\\"!==n[e-1]?"\\/":"/"}),n=(t.global&&"g"||"")+(t.ignoreCase&&"i"||"")+(t.multiline&&"m"||"");return"/"+e+"/"+n}t.exports=function(t,e,i,o){function a(t,e,i,o,s){function u(t){return i.slice(1)+t.join(","+(i&&"\n")+c)+(i?" ":"")}var c=o+i;switch(t=e?e(t):t,typeof t){case"string":return JSON.stringify(t);case"boolean":case"number":case"undefined":return""+t;case"function":return t.toString()}if(null===t)return"null";if(t instanceof RegExp)return r(t);if(t instanceof Date)return"new Date("+t.getTime()+")";var l=s.indexOf(t)+1;if(l>0)return"{$circularReference:"+l+"}";if(s.push(t),Array.isArray(t))return"["+u(t.map(function(t){return a(t,e,i,c,s.slice())}))+"]";var f=Object.keys(t);return f.length?"{"+u(f.map(function(r){return(n(r)?r:JSON.stringify(r))+":"+a(t[r],e,i,c,s.slice())}))+"}":"{}"}var s=[];return a(t,e,void 0===i?"  ":i||"",o||"",s)};var i=/^(abstract|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|undefined|var|void|volatile|while|with)$/,o="\\/"===new RegExp("/").source},function(t,e,n){"use strict";function r(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,e){return t.name<e.name?-1:1}function o(t,e,n,i,o){var a=new r(t);return a.update(e,n,i,o),a}var a=n(52),s=n(55),u=n(53),c=n(56),l=n(76),f=n(54),h=r.prototype;h.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(e>n)for(t=n;t<e;t++)this.gl.enableVertexAttribArray(t);else if(n>e)for(t=e;t<n;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},h.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},h.update=function(t,e,n,r){function o(){p.program=c.program(d,p._vref,p._fref,w,E);for(var t=0;t<n.length;++t)M[t]=d.getUniformLocation(p.program,n[t].name)}if(!e||1===arguments.length){var h=t;t=h.vertex,e=h.fragment,n=h.uniforms,r=h.attributes}var p=this,d=p.gl,v=p._vref;p._vref=c.shader(d,d.VERTEX_SHADER,t),v&&v.dispose(),p.vertShader=p._vref.shader;var g=this._fref;if(p._fref=c.shader(d,d.FRAGMENT_SHADER,e),g&&g.dispose(),p.fragShader=p._fref.shader,!n||!r){var m=d.createProgram();if(d.attachShader(m,p.fragShader),d.attachShader(m,p.vertShader),d.linkProgram(m),!d.getProgramParameter(m,d.LINK_STATUS)){var y=d.getProgramInfoLog(m);throw new f(y,"Error linking program:"+y)}n=n||l.uniforms(d,m),r=r||l.attributes(d,m),d.deleteProgram(m)}r=r.slice(),r.sort(i);var _,b=[],w=[],E=[];for(_=0;_<r.length;++_){var x=r[_];if(x.type.indexOf("mat")>=0){for(var A=0|x.type.charAt(x.type.length-1),T=new Array(A),S=0;S<A;++S)T[S]=E.length,w.push(x.name+"["+S+"]"),"number"==typeof x.location?E.push(x.location+S):Array.isArray(x.location)&&x.location.length===A&&"number"==typeof x.location[S]?E.push(0|x.location[S]):E.push(-1);b.push({name:x.name,type:x.type,locations:T})}else b.push({name:x.name,type:x.type,locations:[E.length]}),w.push(x.name),"number"==typeof x.location?E.push(0|x.location):E.push(-1)}var R=0;for(_=0;_<E.length;++_)if(E[_]<0){for(;E.indexOf(R)>=0;)R+=1;E[_]=R}var M=new Array(n.length);o(),p._relink=o,p.types={uniforms:u(n),attributes:u(r)},p.attributes=s(d,p,b,E),Object.defineProperty(p,"uniforms",a(d,p,n,M))},t.exports=o},function(t,e,n){"use strict";function r(t){var e=new Function("y","return function(){return y}");return e(t)}function i(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e,n,o){function u(n){var r=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+n+"])}");return r(t,e,o)}function c(t,e,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new s("","Unknown uniform data type for "+name+": "+n)}var i=n.charCodeAt(n.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new s("","Unrecognized data type for vector "+name+": "+n)}}}function l(t,e){if("object"!=typeof e)return[[t,e]];var n=[];for(var r in e){var i=e[r],o=t;o+=parseInt(r)+""===r?"["+r+"]":"."+r,"object"==typeof i?n.push.apply(n,l(o,i)):n.push([o,i])}return n}function f(e){for(var r=["return function updateProperty(obj){"],i=l("",e),a=0;a<i.length;++a){var s=i[a],u=s[0],f=s[1];o[f]&&r.push(c(u,f,n[f].type))}r.push("return obj}");var h=new Function("gl","locations",r.join("\n"));return h(t,o)}function h(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid data type");return"b"===t.charAt(0)?i(n,!1):i(n,0)}if(0===t.indexOf("mat")&&4===t.length){var n=t.charCodeAt(t.length-1)-48;if(n<2||n>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+t);return i(n*n,0)}throw new s("","Unknown uniform data type for "+name+": "+t)}}function p(t,e,i){if("object"==typeof i){var a=d(i);Object.defineProperty(t,e,{get:r(a),set:f(i),enumerable:!0,configurable:!1})}else o[i]?Object.defineProperty(t,e,{get:u(i),set:f(i),enumerable:!0,configurable:!1}):t[e]=h(n[i].type)}function d(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var n=0;n<t.length;++n)p(e,n,t[n])}else{e={};for(var r in t)p(e,r,t[r])}return e}var v=a(n,!0);return{get:r(d(v)),set:f(v),enumerable:!0,configurable:!0}}var a=n(53),s=n(54);t.exports=o},function(t,e){"use strict";function n(t,e){for(var n={},r=0;r<t.length;++r)for(var i=t[r].name,o=i.split("."),a=n,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var c=1;c<u.length;++c){var l=parseInt(u[c]);c<u.length-1||s<o.length-1?(l in a||(c<u.length-1?a[l]=[]:a[l]={}),a=a[l]):e?a[l]=r:a[l]=t[r].type}}else s<o.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):e?a[u[0]]=r:a[u[0]]=t[r].type}return n}t.exports=n},function(t,e){function n(t,e,n){this.shortMessage=e||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(n?"\n"+n:""),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name="GLError",n.prototype.constructor=n,t.exports=n},function(t,e,n){"use strict";function r(t,e,n,r,i,o){this._gl=t,this._wrapper=e,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}function i(t,e,n,i,o,a,s){for(var u=["gl","v"],c=[],l=0;l<o;++l)u.push("x"+l),c.push("x"+l);u.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,u),h=new r(t,e,n,i,o,f);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(i[n]),f(t,i[n],e),e},get:function(){return h},enumerable:!0})}function o(t,e,n,r,o,a,s){for(var u=new Array(o),c=new Array(o),l=0;l<o;++l)i(t,e,n[l],r,o,u,l),c[l]=u[l];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<o;++e)c[e].location=t[e];else for(var e=0;e<o;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(o),e=0;e<o;++e)t[e]=r[n[e]];return t},enumerable:!0}),u.pointer=function(e,i,a,s){e=e||t.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var u=0;u<o;++u){var c=r[n[u]];t.vertexAttribPointer(c,o,e,i,a,s+u*o),t.enableVertexAttribArray(c)}};var f=new Array(o),h=t["vertexAttrib"+o+"fv"];Object.defineProperty(a,s,{set:function(e){for(var i=0;i<o;++i){var a=r[n[i]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))h.call(t,a,e[i]);else{for(var s=0;s<o;++s)f[s]=e[o*i+s];h.call(t,a,f)}}return e},get:function(){return u},enumerable:!0})}function a(t,e,n,r){for(var a={},u=0,c=n.length;u<c;++u){var l=n[u],f=l.name,h=l.type,p=l.locations;switch(h){case"bool":case"int":case"float":i(t,e,p[0],r,1,a,f);break;default:if(h.indexOf("vec")>=0){var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+f+": "+h);i(t,e,p[0],r,d,a,f)}else{if(!(h.indexOf("mat")>=0))throw new s("","Unknown data type for attribute "+f+": "+h);var d=h.charCodeAt(h.length-1)-48;if(d<2||d>4)throw new s("","Invalid data type for attribute "+f+": "+h);o(t,e,p,r,d,a,f)}}}return a}t.exports=a;var s=n(54),u=r.prototype;u.pointer=function(t,e,n,r){var i=this,o=i._gl,a=i._locations[i._index];o.vertexAttribPointer(a,i._dimension,t||o.FLOAT,!!e,n||0,r||0),o.enableVertexAttribArray(a)},u.set=function(t,e,n,r){return this._constFunc(this._locations[this._index],t,e,n,r)},Object.defineProperty(u,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){this.id=t,this.src=e,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function o(t,e,n){
var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);try{var o=f(i,n,e)}catch(a){throw console.warn("Failed to format compiler error: "+a),new l(i,"Error compiling shader:\n"+i)}throw new l(i,o["short"],o["long"])}return r}function a(t,e,n,r,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,n);for(var a=0;a<r.length;++a)t.bindAttribLocation(o,i[a],r[a]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var s=t.getProgramInfoLog(o);throw new l(s,"Error linking program: "+s)}return o}function s(t){var e=p.get(t);return e||(e=new i(t),p.set(t,e)),e}function u(t,e,n){return s(t).getShaderReference(e,n)}function c(t,e,n,r,i){return s(t).getProgram(e,n,r,i)}e.shader=u,e.program=c;var l=n(54),f=n(57),h="undefined"==typeof WeakMap?n(73):WeakMap,p=new h,d=0;r.prototype.dispose=function(){if(0===--this.count){for(var t=this.cache,e=t.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=t.programs[n[r]];o&&(delete t.programs[r],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var v=i.prototype;v.getShaderReference=function(t,e){var n=this.gl,i=this.shaders[t===n.FRAGMENT_SHADER|0],a=i[e];if(a&&n.isShader(a.shader))a.count+=1;else{var s=o(n,t,e);a=i[e]=new r((d++),e,t,s,[],1,this)}return a},v.getProgram=function(t,e,n,r){var i=[t.id,e.id,n.join(":"),r.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=a(this.gl,t.shader,e.shader,n,r),t.programs.push(i),e.programs.push(i)),o}},function(t,e,n){function r(t,e,n){"use strict";var r=a(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==n&&(u=n===o.FRAGMENT_SHADER?"fragment":"vertex");for(var c=i("Error compiling %s shader %s:\n",u,r),l=i("%s%s",c,t),f=t.split("\n"),h={},p=0;p<f.length;p++){var d=f[p];if(""!==d){var v=parseInt(d.split(":")[2]);if(isNaN(v))throw new Error(i("Could not parse error: %s",d));h[v]=d}}for(var g=s(e).split("\n"),p=0;p<g.length;p++)if(h[p+3]||h[p+2]||h[p+1]){var m=g[p];if(c+=m+"\n",h[p+1]){var y=h[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),c+=i("^^^ %s\n\n",y)}}return{"long":c.trim(),"short":l.trim()}}var i=n(58).sprintf,o=n(59),a=n(61),s=n(70);t.exports=r},function(t,e,n){!function(t){function n(){var t=arguments[0],e=n.cache;return e[t]&&e.hasOwnProperty(t)||(e[t]=n.parse(t)),n.format.call(null,e[t],arguments)}function r(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function i(t,e){return Array(e+1).join(t)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(t,e){var a,s,u,c,l,f,h,p=1,d=t.length,v="",g=[],m=!0,y="";for(s=0;s<d;s++)if(v=r(t[s]),"string"===v)g[g.length]=t[s];else if("array"===v){if(c=t[s],c[2])for(a=e[p],u=0;u<c[2].length;u++){if(!a.hasOwnProperty(c[2][u]))throw new Error(n("[sprintf] property '%s' does not exist",c[2][u]));a=a[c[2][u]]}else a=c[1]?e[c[1]]:e[p++];if("function"==r(a)&&(a=a()),o.not_string.test(c[8])&&o.not_json.test(c[8])&&"number"!=r(a)&&isNaN(a))throw new TypeError(n("[sprintf] expecting number but found %s",r(a)));switch(o.number.test(c[8])&&(m=a>=0),c[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":case"i":a=parseInt(a,10);break;case"j":a=JSON.stringify(a,null,c[6]?parseInt(c[6]):0);break;case"e":a=c[7]?a.toExponential(c[7]):a.toExponential();break;case"f":a=c[7]?parseFloat(a).toFixed(c[7]):parseFloat(a);break;case"g":a=c[7]?parseFloat(a).toPrecision(c[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&c[7]?a.substring(0,c[7]):a;break;case"u":a>>>=0;break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}o.json.test(c[8])?g[g.length]=a:(!o.number.test(c[8])||m&&!c[3]?y="":(y=m?"+":"-",a=a.toString().replace(o.sign,"")),f=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",h=c[6]-(y+a).length,l=c[6]&&h>0?i(f,h):"",g[g.length]=c[5]?y+a+l:"0"===f?y+l+a:l+y+a)}return g.join("")},n.cache={},n.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=o.text.exec(e)))r[r.length]=n[0];else if(null!==(n=o.modulo.exec(e)))r[r.length]="%";else{if(null===(n=o.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){i|=1;var a=[],s=n[2],u=[];if(null===(u=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=u[1];""!==(s=s.substring(u[0].length));)if(null!==(u=o.key_access.exec(s)))a[a.length]=u[1];else{if(null===(u=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=u[1]}n[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=n}e=e.substring(n[0].length)}return r};var a=function(t,e,r){return r=(e||[]).slice(0),r.splice(0,0,t),n.apply(null,r)};e.sprintf=n,e.vsprintf=a}("undefined"==typeof window?this:window)},function(t,e,n){var r=n(60);t.exports=function(t){return r[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,n){function r(t){for(var e=Array.isArray(t)?t:i(t),n=0;n<e.length;n++){var r=e[n];if("preprocessor"===r.type){var a=r.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],u=a[2];return(s?o(u):u).trim()}}}}var i=n(62),o=n(69);t.exports=r},function(t,e,n){function r(t,e){var n=i(e),r=[];return r=r.concat(n(t)),r=r.concat(n(null))}var i=n(63);t.exports=r},function(t,e,n){function r(t){function e(t){t.length&&z.push({type:x[B],data:t,position:H,line:G,column:X})}function n(t){D=0,W+=t,j=W.length;for(var e;k=W[D],D<j;){switch(e=D,B){case f:D=M();break;case h:D=R();break;case p:D=S();break;case d:D=C();break;case v:D=I();break;case E:D=P();break;case g:D=N();break;case l:D=F();break;case b:D=T();break;case c:D=A()}if(e!==D)switch(W[e]){case"\n":X=0,++G;break;default:++X}}return U+=D,W=W.slice(D),z}function r(t){return V.length&&e(V.join("")),B=w,e("(eof)"),z}function A(){return V=V.length?[]:V,"/"===L&&"*"===k?(H=U+D-1,B=f,L=k,D+1):"/"===L&&"/"===k?(H=U+D-1,B=h,L=k,D+1):"#"===k?(B=p,H=U+D,D):/\s/.test(k)?(B=b,H=U+D,D):(Y=/\d/.test(k),q=/[^\w_]/.test(k),H=U+D,B=Y?v:q?d:l,D)}function T(){return/[^\s]/g.test(k)?(e(V.join("")),B=c,D):(V.push(k),L=k,D+1)}function S(){return"\r"!==k&&"\n"!==k||"\\"===L?(V.push(k),L=k,D+1):(e(V.join("")),B=c,D)}function R(){return S()}function M(){return"/"===k&&"*"===L?(V.push(k),e(V.join("")),B=c,D+1):(V.push(k),L=k,D+1)}function C(){if("."===L&&/\d/.test(k))return B=g,D;if("/"===L&&"*"===k)return B=f,D;if("/"===L&&"/"===k)return B=h,D;if("."===k&&V.length){for(;O(V););return B=g,D}if(";"===k||")"===k||"("===k){if(V.length)for(;O(V););return e(k),B=c,D+1}var t=2===V.length&&"="!==k;if(/[\w_\d\s]/.test(k)||t){for(;O(V););return B=c,D}return V.push(k),L=k,D+1}function O(t){for(var n,r,i=0;;){if(n=o.indexOf(t.slice(0,t.length+i).join("")),r=o[n],n===-1){if(i--+t.length>0)continue;r=t.slice(0,1).join("")}return e(r),H+=r.length,V=V.slice(r.length),V.length}}function P(){return/[^a-fA-F0-9]/.test(k)?(e(V.join("")),B=c,D):(V.push(k),L=k,D+1)}function I(){return"."===k?(V.push(k),B=g,L=k,D+1):/[eE]/.test(k)?(V.push(k),B=g,L=k,D+1):"x"===k&&1===V.length&&"0"===V[0]?(B=E,V.push(k),L=k,D+1):/[^\d]/.test(k)?(e(V.join("")),B=c,D):(V.push(k),L=k,D+1)}function N(){return"f"===k&&(V.push(k),L=k,D+=1),/[eE]/.test(k)?(V.push(k),L=k,D+1):"-"===k&&/[eE]/.test(L)?(V.push(k),L=k,D+1):/[^\d]/.test(k)?(e(V.join("")),B=c,D):(V.push(k),L=k,D+1)}function F(){if(/[^\d\w_]/.test(k)){var t=V.join("");return B=J.indexOf(t)>-1?_:K.indexOf(t)>-1?y:m,e(V.join("")),B=c,D}return V.push(k),L=k,D+1}var k,L,j,D=0,U=0,B=c,V=[],z=[],G=1,X=0,H=0,Y=!1,q=!1,W="";t=t||{};var K=a,J=i;return"300 es"===t.version&&(K=u,J=s),function(t){return z=[],null!==t?n(t.replace?t.replace(/\r\n/g,"\n"):t):r()}}t.exports=r;var i=n(64),o=n(65),a=n(66),s=n(67),u=n(68),c=999,l=9999,f=0,h=1,p=2,d=3,v=4,g=5,m=6,y=7,_=8,b=9,w=10,E=11,x=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e,n){var r=n(64);t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,n){var r=n(66);r=r.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,n){function r(t,e,n){e="number"==typeof e?e:1,n=n||": ";var r=t.split(/\r?\n/),o=String(r.length+e-1).length;return r.map(function(t,r){var a=r+e,s=String(a).length,u=i(a,o-s);return u+n+t}).join("\n")}var i=n(71);t.exports=r},function(t,e,n){/*!
	 * pad-left <https://github.com/jonschlinkert/pad-left>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT license.
	 */
"use strict";var r=n(72);t.exports=function(t,e,n){return n="undefined"!=typeof n?n+"":" ",r(n,e)+t}},function(t,e){/*!
	 * repeat-string <https://github.com/jonschlinkert/repeat-string>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("repeat-string expects a string.");if(1===e)return t;if(2===e)return t+t;var n=t.length*e;for(r===t&&"undefined"!=typeof r||(r=t,i="");n>i.length&&e>0&&(1&e&&(i+=t),e>>=1);)t+=t;return i.substr(0,n)}var r,i="";t.exports=n},function(t,e,n){function r(){var t=i();return{get:function(e,n){var r=t(e);return r.hasOwnProperty("value")?r.value:n},set:function(e,n){t(e).value=n},has:function(e){return"value"in t(e)},"delete":function(e){return delete t(e).value}}}var i=n(74);t.exports=r},function(t,e,n){function r(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var n=e.valueOf(t);return n&&n.identity===t?n:i(e,t)}}var i=n(75);t.exports=r},function(t,e){function n(t,e){var n={identity:e},r=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?r.apply(this,arguments):n},writable:!0}),n}t.exports=n},function(t,e){"use strict";function n(t,e){if(!a){var n=Object.keys(o);a={};for(var r=0;r<n.length;++r){var i=n[r];a[t[i]]=o[i]}}return a[e]}function r(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=[],o=0;o<r;++o){var a=t.getActiveUniform(e,o);if(a){var s=n(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)i.push({name:a.name.replace("[0]","["+u+"]"),type:s});else i.push({name:a.name,type:s})}}return i}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=[],o=0;o<r;++o){var a=t.getActiveAttrib(e,o);a&&i.push({name:a.name,type:n(t,a.type)})}return i}e.uniforms=r,e.attributes=i;var o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null},function(t,e,n){t.exports=n(78),t.exports.color=n(79)},function(t,e){var n=t.exports=n||{};n.gui=n.gui||{},n.utils=n.utils||{},n.controllers=n.controllers||{},n.dom=n.dom||{},n.color=n.color||{},n.utils.css=function(){return{load:function(t,e){e=e||document;var n=e.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e.getElementsByTagName("head")[0].appendChild(n)},inject:function(t,e){e=e||document;var n=document.createElement("style");n.type="text/css",n.innerHTML=t,e.getElementsByTagName("head")[0].appendChild(n)}}}(),n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),r=t.length-1;r>=0;r--)n=[t[r].apply(this,n)];return n[0]}},each:function(e,n,r){if(t&&e.forEach===t)e.forEach(n,r);else if(e.length===e.length+0){for(var i=0,o=e.length;i<o;i++)if(i in e&&n.call(r,e[i],i)===this.BREAK)return}else for(var i in e)if(n.call(r,e[i],i)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.controllers.Controller=function(t){var e=function(t,e){this.initialValue=t[e],this.domElement=document.createElement("div"),this.object=t,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0};return t.extend(e.prototype,{onChange:function(t){return this.__onChange=t,this},onFinishChange:function(t){return this.__onFinishChange=t,this},setValue:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),e}(n.utils.common),n.dom.dom=function(t){function e(e){if("0"===e||t.isUndefined(e))return 0;var n=e.match(i);return t.isNull(n)?0:parseFloat(n[1])}var n={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},r={};t.each(n,function(e,n){t.each(e,function(t){r[t]=n})});var i=/(\d+(\.\d+)?)px/,o={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(e,n,r){t.isUndefined(n)&&(n=!0),t.isUndefined(r)&&(r=!0),e.style.position="absolute",n&&(e.style.left=0,e.style.right=0),r&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,n,i,o){i=i||{};var a=r[n];if(!a)throw new Error("Event type "+n+" not supported.");var s=document.createEvent(a);switch(a){case"MouseEvents":var u=i.x||i.clientX||0,c=i.y||i.clientY||0;s.initMouseEvent(n,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=s.initKeyboardEvent||s.initKeyEvent;t.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(n,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:s.initEvent(n,i.bubbles||!1,i.cancelable||!0)}t.defaults(s,o),e.dispatchEvent(s)},bind:function(t,e,n,r){return r=r||!1,t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on"+e,n),o},unbind:function(t,e,n,r){return r=r||!1,t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n),o},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);n.indexOf(e)==-1&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return o},removeClass:function(t,e){if(e)if(void 0===t.className);else if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);r!=-1&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return o},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var n=getComputedStyle(t);return e(n["border-left-width"])+e(n["border-right-width"])+e(n["padding-left"])+e(n["padding-right"])+e(n.width)},getHeight:function(t){var n=getComputedStyle(t);return e(n["border-top-width"])+e(n["border-bottom-width"])+e(n["padding-top"])+e(n["padding-bottom"])+e(n.height)},getOffset:function(t){var e={left:0,top:0};if(t.offsetParent)do e.left+=t.offsetLeft,e.top+=t.offsetTop;while(t=t.offsetParent);return e},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}};return o}(n.utils.common),n.controllers.OptionController=function(t,e,n){var r=function(t,i,o){r.superclass.call(this,t,i);var a=this;if(this.__select=document.createElement("select"),n.isArray(o)){var s={};n.each(o,function(t){s[t]=t}),o=s}n.each(o,function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)}),this.updateDisplay(),e.bind(this.__select,"change",function(){var t=this.options[this.selectedIndex].value;a.setValue(t)}),this.domElement.appendChild(this.__select)};return r.superclass=t,n.extend(r.prototype,t.prototype,{setValue:function(t){var e=r.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),e},updateDisplay:function(){return this.__select.value=this.getValue(),r.superclass.prototype.updateDisplay.call(this)}}),r}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.NumberController=function(t,e){function n(t){return t=t.toString(),t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var r=function(t,i,o){r.superclass.call(this,t,i),o=o||{},this.__min=o.min,this.__max=o.max,this.__step=o.step,e.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=n(this.__impliedStep)};return r.superclass=t,e.extend(r.prototype,t.prototype,{setValue:function(t){return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),r.superclass.prototype.setValue.call(this,t)},min:function(t){return this.__min=t,this},max:function(t){return this.__max=t,this},step:function(t){return this.__step=t,this}}),r}(n.controllers.Controller,n.utils.common),n.controllers.NumberControllerBox=function(t,e,n){function r(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var i=function(t,r,o){function a(){var t=parseFloat(h.__input.value);n.isNaN(t)||h.setValue(t)}function s(){a(),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function u(t){e.bind(window,"mousemove",c),e.bind(window,"mouseup",l),f=t.clientY}function c(t){var e=f-t.clientY;h.setValue(h.getValue()+e*h.__impliedStep),f=t.clientY}function l(){e.unbind(window,"mousemove",c),e.unbind(window,"mouseup",l)}this.__truncationSuspended=!1,i.superclass.call(this,t,r,o);var f,h=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"change",a),e.bind(this.__input,"blur",s),e.bind(this.__input,"mousedown",u),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&(h.__truncationSuspended=!0,this.blur(),h.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return i.superclass=t,n.extend(i.prototype,t.prototype,{updateDisplay:function(){return this.__input.value=this.__truncationSuspended?this.getValue():r(this.getValue(),this.__precision),i.superclass.prototype.updateDisplay.call(this)}}),i}(n.controllers.NumberController,n.dom.dom,n.utils.common),n.controllers.NumberControllerSlider=function(t,e,n,r,i){function o(t,e,n,r,i){return r+(i-r)*((t-e)/(n-e))}var a=function(t,n,r,i,s){function u(t){e.bind(window,"mousemove",c),e.bind(window,"mouseup",l),c(t)}function c(t){t.preventDefault();var n=e.getOffset(f.__background),r=e.getWidth(f.__background);return f.setValue(o(t.clientX,n.left,n.left+r,f.__min,f.__max)),!1}function l(){e.unbind(window,"mousemove",c),e.unbind(window,"mouseup",l),f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}a.superclass.call(this,t,n,{min:r,max:i,step:s});var f=this;this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),e.bind(this.__background,"mousedown",u),e.addClass(this.__background,"slider"),e.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)};return a.superclass=t,a.useDefaultStyles=function(){n.inject(i)},r.extend(a.prototype,t.prototype,{updateDisplay:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",a.superclass.prototype.updateDisplay.call(this)}}),a}(n.controllers.NumberController,n.dom.dom,n.utils.css,n.utils.common,".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"),n.controllers.FunctionController=function(t,e,n){var r=function(t,n,i){r.superclass.call(this,t,n);var o=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===i?"Fire":i,e.bind(this.__button,"click",function(t){return t.preventDefault(),o.fire(),!1}),e.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)};return r.superclass=t,n.extend(r.prototype,t.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),r}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.BooleanController=function(t,e,n){var r=function(t,n){function i(){o.setValue(!o.__prev)}r.superclass.call(this,t,n);var o=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),e.bind(this.__checkbox,"change",i,!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()};return r.superclass=t,n.extend(r.prototype,t.prototype,{setValue:function(t){var e=r.superclass.prototype.setValue.call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),e},updateDisplay:function(){return this.getValue()===!0?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,r.superclass.prototype.updateDisplay.call(this)}}),r}(n.controllers.Controller,n.dom.dom,n.utils.common),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.color.interpret=function(t,e){var n,r,i=function(){r=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(i){if(i.litmus(t))return e.each(i.conversions,function(i,o){if(n=i.read(t),r===!1&&n!==!1)return r=n,n.conversionName=o,n.conversion=i,e.BREAK}),e.BREAK}),r},o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return i}(n.color.toString,n.utils.common),n.GUI=n.gui.GUI=function(t,e,n,r,i,o,a,s,u,c,l,f,h,p,d){function v(t,e,n,o){if(void 0===e[n])throw new Error("Object "+e+' has no property "'+n+'"');var a;if(o.color)a=new l(e,n);else{var s=[e,n].concat(o.factoryArgs);a=r.apply(t,s)}o.before instanceof i&&(o.before=o.before.__li),y(t,a),p.addClass(a.domElement,"c");var u=document.createElement("span");p.addClass(u,"property-name"),u.innerHTML=a.property;var c=document.createElement("div");c.appendChild(u),c.appendChild(a.domElement);var f=g(t,c,o.before);return p.addClass(f,D.CLASS_CONTROLLER_ROW),p.addClass(f,typeof a.getValue()),m(t,f,a),t.__controllers.push(a),a}function g(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,params.before):t.__ul.appendChild(r),t.onResize(),r}function m(t,e,n){if(n.__li=e,n.__gui=t,d.extend(n,{options:function(e){return arguments.length>1?(n.remove(),v(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[d.toArray(arguments)]})):d.isArray(e)||d.isObject(e)?(n.remove(),v(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof u){var r=new s(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});d.each(["updateDisplay","onChange","onFinishChange"],function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return e.apply(n,t),i.apply(r,t)}}),p.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof s){var i=function(e){return d.isNumber(n.__min)&&d.isNumber(n.__max)?(n.remove(),v(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):e};n.min=d.compose(i,n.min),n.max=d.compose(i,n.max)}else n instanceof o?(p.bind(e,"click",function(){p.fakeEvent(n.__checkbox,"click")}),p.bind(n.__checkbox,"click",function(t){t.stopPropagation()})):n instanceof a?(p.bind(e,"click",function(){p.fakeEvent(n.__button,"click")}),p.bind(e,"mouseover",function(){p.addClass(n.__button,"hover")}),p.bind(e,"mouseout",function(){p.removeClass(n.__button,"hover")})):n instanceof l&&(p.addClass(e,"color"),n.updateDisplay=d.compose(function(t){return e.style.borderLeftColor=n.__color.toString(),t},n.updateDisplay),n.updateDisplay());n.setValue=d.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&S(t.getRoot(),!0),e},n.setValue)}function y(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(r!=-1){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var o,a=n.load.remembered;if(a[t.preset])o=a[t.preset];else{if(!a[N])return;o=a[N]}if(o[r]&&void 0!==o[r][e.property]){var s=o[r][e.property];e.initialValue=s,e.setValue(s)}}}}function _(t,e){return document.location.href+"."+e}function b(t){function e(){c.style.display=t.useLocalStorage?"block":"none"}var n=t.__save_row=document.createElement("li");p.addClass(t.domElement,"has-save"),t.__ul.insertBefore(n,t.__ul.firstChild),p.addClass(n,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",p.addClass(r,"button gears");var i=document.createElement("span");i.innerHTML="Save",p.addClass(i,"button"),p.addClass(i,"save");var o=document.createElement("span");o.innerHTML="New",p.addClass(o,"button"),p.addClass(o,"save-as");var a=document.createElement("span");a.innerHTML="Revert",p.addClass(a,"button"),p.addClass(a,"revert");var s=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?d.each(t.load.remembered,function(e,n){A(t,n,n==t.preset)}):A(t,N,!1),p.bind(s,"change",function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value}),n.appendChild(s),n.appendChild(r),n.appendChild(i),n.appendChild(o),n.appendChild(a),F){var u=document.getElementById("dg-save-locally"),c=document.getElementById("dg-local-explain");u.style.display="block";var l=document.getElementById("dg-local-storage");"true"===localStorage.getItem(_(t,"isLocal"))&&l.setAttribute("checked","checked"),e(),p.bind(l,"change",function(){t.useLocalStorage=!t.useLocalStorage,e()})}var f=document.getElementById("dg-new-constructor");p.bind(f,"keydown",function(t){!t.metaKey||67!==t.which&&67!=t.keyCode||M.hide()}),p.bind(r,"click",function(){f.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),M.show(),f.focus(),f.select()}),p.bind(i,"click",function(){t.save()}),p.bind(o,"click",function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)}),p.bind(a,"click",function(){t.revert()})}function w(t){function e(e){return e.preventDefault(),i=e.clientX,p.addClass(t.__closeButton,D.CLASS_DRAG),p.bind(window,"mousemove",n),p.bind(window,"mouseup",r),!1}function n(e){return e.preventDefault(),t.width+=i-e.clientX,t.onResize(),i=e.clientX,!1}function r(){p.removeClass(t.__closeButton,D.CLASS_DRAG),p.unbind(window,"mousemove",n),p.unbind(window,"mouseup",r)}t.__resize_handle=document.createElement("div"),d.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});var i;p.bind(t.__resize_handle,"mousedown",e),p.bind(t.__closeButton,"mousedown",e),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function E(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function x(t,e){var n={};return d.each(t.__rememberedObjects,function(r,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];d.each(a,function(t,n){o[n]=e?t.initialValue:t.getValue()}),n[i]=o}),n}function A(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function T(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value==t.preset&&(t.__preset_select.selectedIndex=e)}function S(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];e?n.innerHTML=n.value+"*":n.innerHTML=n.value}function R(t){0!=t.length&&f(function(){R(t)}),d.each(t,function(t){t.updateDisplay()})}t.inject(n);var M,C,O="dg",P=72,I=20,N="Default",F=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),k=!0,L=!1,j=[],D=function(t){function e(){localStorage.setItem(_(r,"gui"),JSON.stringify(r.getSaveObject()))}function n(){var t=r.getRoot();t.width+=1,d.defer(function(){t.width-=1})}var r=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),p.addClass(this.domElement,O),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=d.defaults(t,{autoPlace:!0,width:D.DEFAULT_WIDTH}),t=d.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),d.isUndefined(t.load)?t.load={preset:N}:t.preset&&(t.load.preset=t.preset),d.isUndefined(t.parent)&&t.hideable&&j.push(this),t.resizable=d.isUndefined(t.parent)&&t.resizable,t.autoPlace&&d.isUndefined(t.scrollable)&&(t.scrollable=!0);var i=F&&"true"===localStorage.getItem(_(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return r.parent?r.getRoot().preset:t.load.preset},set:function(e){r.parent?r.getRoot().preset=e:t.load.preset=e,T(this),r.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,E(r,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,a&&(a.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?p.addClass(r.__ul,D.CLASS_CLOSED):p.removeClass(r.__ul,D.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=e?D.TEXT_OPEN:D.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return i},set:function(t){F&&(i=t,t?p.bind(window,"unload",e):p.unbind(window,"unload",e),localStorage.setItem(_(r,"isLocal"),t))}}}),d.isUndefined(t.parent)){if(t.closed=!1,p.addClass(this.domElement,D.CLASS_MAIN),p.makeSelectable(this.domElement,!1),F&&i){r.useLocalStorage=!0;var o=localStorage.getItem(_(this,"gui"));o&&(t.load=JSON.parse(o))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=D.TEXT_CLOSED,p.addClass(this.__closeButton,D.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),p.bind(this.__closeButton,"click",function(){r.closed=!r.closed})}else{void 0===t.closed&&(t.closed=!0);var a=document.createTextNode(t.name);p.addClass(a,"controller-name");var s=g(r,a),u=function(t){return t.preventDefault(),r.closed=!r.closed,!1};p.addClass(this.__ul,D.CLASS_CLOSED),p.addClass(s,"title"),p.bind(s,"click",u),t.closed||(this.closed=!1)}t.autoPlace&&(d.isUndefined(t.parent)&&(k&&(C=document.createElement("div"),p.addClass(C,O),p.addClass(C,D.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(C),k=!1),C.appendChild(this.domElement),p.addClass(this.domElement,D.CLASS_AUTO_PLACE)),this.parent||E(r,t.width)),p.bind(window,"resize",function(){r.onResize()}),p.bind(this.__ul,"webkitTransitionEnd",function(){r.onResize()}),p.bind(this.__ul,"transitionend",function(){r.onResize()}),p.bind(this.__ul,"oTransitionEnd",function(){r.onResize()}),this.onResize(),t.resizable&&w(this);r.getRoot();t.parent||n()};return D.toggleHide=function(){L=!L,d.each(j,function(t){t.domElement.style.zIndex=L?-999:999,t.domElement.style.opacity=L?0:1})},D.CLASS_AUTO_PLACE="a",D.CLASS_AUTO_PLACE_CONTAINER="ac",D.CLASS_MAIN="main",D.CLASS_CONTROLLER_ROW="cr",D.CLASS_TOO_TALL="taller-than-window",D.CLASS_CLOSED="closed",D.CLASS_CLOSE_BUTTON="close-button",D.CLASS_DRAG="drag",D.DEFAULT_WIDTH=245,D.TEXT_CLOSED="Close Controls",D.TEXT_OPEN="Open Controls",p.bind(window,"keydown",function(t){"text"===document.activeElement.type||t.which!==P&&t.keyCode!=P||D.toggleHide()},!1),d.extend(D.prototype,{add:function(t,e){return v(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return v(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.slice(this.__controllers.indexOf(t),1);var e=this;d.defer(function(){e.onResize()})},destroy:function(){this.autoPlace&&C.removeChild(this.domElement)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new D(e);this.__folders[t]=n;var r=g(this,n.domElement);return p.addClass(r,"folder"),n},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=p.getOffset(t.__ul).top,n=0;d.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(n+=p.getHeight(e))}),window.innerHeight-e-I<n?(p.addClass(t.domElement,D.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-I+"px"):(p.removeClass(t.domElement,D.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&d.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(d.isUndefined(M)&&(M=new h,M.domElement.innerHTML=e),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;d.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&b(t),t.__rememberedObjects.indexOf(e)==-1&&t.__rememberedObjects.push(e)}),this.autoPlace&&E(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=x(this)),t.folders={},d.each(this.__folders,function(e,n){t.folders[n]=e.getSaveObject()}),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=x(this),S(this,!1)},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[N]=x(this,!0)),this.load.remembered[t]=x(this),this.preset=t,A(this,t,!0)},revert:function(t){d.each(this.__controllers,function(e){this.getRoot().load.remembered?y(t||this.getRoot(),e):e.setValue(e.initialValue)},this),d.each(this.__folders,function(t){t.revert(t)}),t||S(this.getRoot(),!1)},listen:function(t){var e=0==this.__listening.length;this.__listening.push(t),e&&R(this.__listening)}}),D}(n.utils.css,'<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",n.controllers.factory=function(t,e,n,r,i,o,a){
return function(s,u){var c=s[u];return a.isArray(arguments[2])||a.isObject(arguments[2])?new t(s,u,arguments[2]):a.isNumber(c)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?new n(s,u,arguments[2],arguments[3]):new e(s,u,{min:arguments[2],max:arguments[3]}):a.isString(c)?new r(s,u):a.isFunction(c)?new i(s,u,""):a.isBoolean(c)?new o(s,u):void 0}}(n.controllers.OptionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.StringController=function(t,e,n){var r=function(t,n){function i(){a.setValue(a.__input.value)}function o(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}r.superclass.call(this,t,n);var a=this;this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),e.bind(this.__input,"keyup",i),e.bind(this.__input,"change",i),e.bind(this.__input,"blur",o),e.bind(this.__input,"keydown",function(t){13===t.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)};return r.superclass=t,n.extend(r.prototype,t.prototype,{updateDisplay:function(){return e.isActive(this.__input)||(this.__input.value=this.getValue()),r.superclass.prototype.updateDisplay.call(this)}}),r}(n.controllers.Controller,n.dom.dom,n.utils.common),n.controllers.FunctionController,n.controllers.BooleanController,n.utils.common),n.controllers.Controller,n.controllers.BooleanController,n.controllers.FunctionController,n.controllers.NumberControllerBox,n.controllers.NumberControllerSlider,n.controllers.OptionController,n.controllers.ColorController=function(t,e,n,r,i){function o(t,e,n,r){t.style.background="",i.each(u,function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "})}function a(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var s=function(t,u){function c(t){p(t),e.bind(window,"mousemove",p),e.bind(window,"mouseup",l)}function l(){e.unbind(window,"mousemove",p),e.unbind(window,"mouseup",l)}function f(){var t=r(this.value);t!==!1?(v.__color.__state=t,v.setValue(v.__color.toOriginal())):this.value=v.__color.toString()}function h(){e.unbind(window,"mousemove",d),e.unbind(window,"mouseup",h)}function p(t){t.preventDefault();var n=e.getWidth(v.__saturation_field),r=e.getOffset(v.__saturation_field),i=(t.clientX-r.left+document.body.scrollLeft)/n,o=1-(t.clientY-r.top+document.body.scrollTop)/n;return o>1?o=1:o<0&&(o=0),i>1?i=1:i<0&&(i=0),v.__color.v=o,v.__color.s=i,v.setValue(v.__color.toOriginal()),!1}function d(t){t.preventDefault();var n=e.getHeight(v.__hue_field),r=e.getOffset(v.__hue_field),i=1-(t.clientY-r.top+document.body.scrollTop)/n;return i>1?i=1:i<0&&(i=0),v.__color.h=360*i,v.setValue(v.__color.toOriginal()),!1}s.superclass.call(this,t,u),this.__color=new n(this.getValue()),this.__temp=new n(0);var v=this;this.domElement=document.createElement("div"),e.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",e.bind(this.__input,"keydown",function(t){13===t.keyCode&&f.call(this)}),e.bind(this.__input,"blur",f),e.bind(this.__selector,"mousedown",function(t){e.addClass(this,"drag").bind(window,"mouseup",function(t){e.removeClass(v.__selector,"drag")})});var g=document.createElement("div");i.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),i.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),i.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),i.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),i.extend(g.style,{width:"100%",height:"100%",background:"none"}),o(g,"top","rgba(0,0,0,0)","#000"),i.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),a(this.__hue_field),i.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),e.bind(this.__saturation_field,"mousedown",c),e.bind(this.__field_knob,"mousedown",c),e.bind(this.__hue_field,"mousedown",function(t){d(t),e.bind(window,"mousemove",d),e.bind(window,"mouseup",h)}),this.__saturation_field.appendChild(g),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()};s.superclass=t,i.extend(s.prototype,t.prototype,{updateDisplay:function(){var t=r(this.getValue());if(t!==!1){var e=!1;i.each(n.COMPONENTS,function(n){if(!i.isUndefined(t[n])&&!i.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}},this),e&&i.extend(this.__color.__state,t)}i.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var a=this.__color.v<.5||this.__color.s>.5?255:0,s=255-a;i.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+a+","+a+","+a+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,o(this.__saturation_field,"left","#fff",this.__temp.toString()),i.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+a+","+a+","+a+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}});var u=["-moz-","-o-","-webkit-","-ms-",""];return s}(n.controllers.Controller,n.dom.dom,n.color.Color=function(t,e,n,r){function i(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(a(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(a(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function o(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(s(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(s(this),this.__state.space="HSV"),this.__state[e]=t}})}function a(t,n,i){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,i);else{if("HSV"!==t.__state.space)throw"Corrupted color state";r.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function s(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);r.extend(t.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var u=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(u.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(u.prototype,"r",2),i(u.prototype,"g",1),i(u.prototype,"b",0),o(u.prototype,"h"),o(u.prototype,"s"),o(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),u}(n.color.interpret,n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r,i,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return 0==a?{h:NaN,s:0,v:0}:(i=s/a,r=t==a?(e-n)/s:e==a?2+(n-t)/s:4+(t-e)/s,r/=6,r<0&&(r+=1),{h:360*r,s:i,v:a/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,r){return r<<(t=8*n)|e&~(255<<t)}}}(),n.color.toString,n.utils.common),n.color.interpret,n.utils.common),n.utils.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)}}(),n.dom.CenteredDiv=function(t,e){var n=function(){this.backgroundElement=document.createElement("div"),e.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),t.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),e.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var n=this;t.bind(this.backgroundElement,"click",function(){n.hide()})};return n.prototype.show=function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),e.defer(function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"})},n.prototype.hide=function(){var e=this,n=function(){e.domElement.style.display="none",e.backgroundElement.style.display="none",t.unbind(e.domElement,"webkitTransitionEnd",n),t.unbind(e.domElement,"transitionend",n),t.unbind(e.domElement,"oTransitionEnd",n)};t.bind(this.domElement,"webkitTransitionEnd",n),t.bind(this.domElement,"transitionend",n),t.bind(this.domElement,"oTransitionEnd",n),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},n.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-t.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-t.getHeight(this.domElement)/2+"px"},n}(n.dom.dom,n.utils.common),n.dom.dom,n.utils.common)},function(t,e){var n=t.exports=n||{};n.color=n.color||{},n.utils=n.utils||{},n.utils.common=function(){var t=Array.prototype.forEach,e=Array.prototype.slice;return{BREAK:{},extend:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(e[n])||(t[n]=e[n])},this),t},defaults:function(t){return this.each(e.call(arguments,1),function(e){for(var n in e)this.isUndefined(t[n])&&(t[n]=e[n])},this),t},compose:function(){var t=e.call(arguments);return function(){for(var n=e.call(arguments),r=t.length-1;r>=0;r--)n=[t[r].apply(this,n)];return n[0]}},each:function(e,n,r){if(t&&e.forEach===t)e.forEach(n,r);else if(e.length===e.length+0){for(var i=0,o=e.length;i<o;i++)if(i in e&&n.call(r,e[i],i)===this.BREAK)return}else for(var i in e)if(n.call(r,e[i],i)===this.BREAK)return},defer:function(t){setTimeout(t,0)},toArray:function(t){return t.toArray?t.toArray():e.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){return t!==t},isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return t===!1||t===!0},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)}}}(),n.color.toString=function(t){return function(e){if(1==e.a||t.isUndefined(e.a)){for(var n=e.hex.toString(16);n.length<6;)n="0"+n;return"#"+n}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}}(n.utils.common),n.Color=n.color.Color=function(t,e,n,r){function i(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space?this.__state[e]:(a(this,e,n),this.__state[e])},set:function(t){"RGB"!==this.__state.space&&(a(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function o(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space?this.__state[e]:(s(this),this.__state[e])},set:function(t){"HSV"!==this.__state.space&&(s(this),this.__state.space="HSV"),this.__state[e]=t}})}function a(t,n,i){if("HEX"===t.__state.space)t.__state[n]=e.component_from_hex(t.__state.hex,i);else{if("HSV"!==t.__state.space)throw"Corrupted color state";r.extend(t.__state,e.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}}function s(t){var n=e.rgb_to_hsv(t.r,t.g,t.b);r.extend(t.__state,{s:n.s,v:n.v}),r.isNaN(n.h)?r.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=n.h}var u=function(){if(this.__state=t.apply(this,arguments),this.__state===!1)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1};return u.COMPONENTS=["r","g","b","h","s","v","hex","a"],r.extend(u.prototype,{toString:function(){return n(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),i(u.prototype,"r",2),i(u.prototype,"g",1),i(u.prototype,"b",0),o(u.prototype,"h"),o(u.prototype,"s"),o(u.prototype,"v"),Object.defineProperty(u.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(u.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=e.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}}),u}(n.color.interpret=function(t,e){var n,r,i=function(){r=!1;var t=arguments.length>1?e.toArray(arguments):arguments[0];return e.each(o,function(i){if(i.litmus(t))return e.each(i.conversions,function(i,o){if(n=i.read(t),r===!1&&n!==!1)return r=n,n.conversionName=o,n.conversion=i,e.BREAK}),e.BREAK}),r},o=[{litmus:e.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString())}},write:t},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString())}},write:t},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:t},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:t}}},{litmus:e.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:e.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4==t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:e.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b)&&e.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(e.isNumber(t.r)&&e.isNumber(t.g)&&e.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v)&&e.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(e.isNumber(t.h)&&e.isNumber(t.s)&&e.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}];return i}(n.color.toString,n.utils.common),n.color.math=function(){var t;return{hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,o],[a,n,o],[o,n,s],[o,a,n],[s,o,n],[n,o,a]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r,i,o=Math.min(t,e,n),a=Math.max(t,e,n),s=a-o;return 0==a?{h:NaN,s:0,v:0}:(i=s/a,r=t==a?(e-n)/s:e==a?2+(n-t)/s:4+(t-e)/s,r/=6,r<0&&(r+=1),{h:360*r,s:i,v:a/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(e,n,r){return r<<(t=8*n)|e&~(255<<t)}}}(),n.color.toString,n.utils.common)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.defaultExcept=["127.0.0.1","0.0.0.0","localhost"],r=e.redirect=function(){var t=arguments.length<=0||void 0===arguments[0]?"https":arguments[0],e=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=t+":";document.location.protocol!==r&&e.indexOf(document.location.hostname)<0&&(document.location.protocol=r)};e["default"]=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r){n(this,t),this.time=0,this.since=0,this.offset=0,this.rate=1,this.step=-1,this.dt=0,this.paused=!1,this.end=-1,this.loop=!1,this.reset(e,r)}return r(t,[{key:"now",value:function(){var t=arguments.length<=0||void 0===arguments[0]?Date.now():arguments[0];return(t-this.offset)*this.rate}},{key:"tick",value:function(t){var e=this.time,n=0;if(this.step>=0)n=this.step*this.rate,e+=n;else{var r=e;e=this.now(t),n=e-r}return this.paused?(this.offset+=n,n=0):this.end<0?this.time=e:this.loop?this.time=e%this.end:(this.time=(this.rate>0?Math.min:Math.max)(e,this.end),this.time!==e&&(this.paused=!0)),this.dt=n,this}},{key:"seek",value:function(t){return this.offset=-t,this}},{key:"scrub",value:function(t){return this.offset-=t,this}},{key:"reset",value:function(){var t=arguments.length<=0||void 0===arguments[0]?Date.now():arguments[0],e=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return this.since=this.offset=e,this.time=this.now(t),this}}]),t}();e.Timer=i,e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Tendrils=e.glSettings=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(51),c=r(u),l=n(83),f=r(l),h=n(85),p=r(h),d=n(100),v=r(d),g=n(81),m=r(g),y=n(116),_=n(118),b=r(_),w=n(120),E=n(121),x=r(E),A=n(122),T=r(A),S=n(123),R=r(S),M=n(124),C=r(M),O=n(125),P=r(O),I=n(126),N=r(I),F=n(117),k=r(F),L=n(127),j=r(L),D=n(128),U=r(D),B=e.defaults=function(){return{state:{rootNum:Math.pow(2,9),autoClearView:!1,damping:.043,minSpeed:1e-6,maxSpeed:.01,forceWeight:.017,flowWeight:1,wanderWeight:.002,flowDecay:.003,flowWidth:5,noiseScale:2.125,noiseSpeed:25e-5,lineWidth:1,speedAlpha:1e-6,colorMapAlpha:.5,flowColor:[1,1,1,.02],baseColor:[1,1,1,.5],fadeColor:[0,0,0,0]},timer:Object.assign(new m["default"],{step:1e3/60}),numBuffers:0,logicShader:null,renderShader:[R["default"],C["default"]],flowShader:[P["default"],N["default"]],copyShader:[k["default"],U["default"]],colorMapData:(0,p["default"])([1,1,0,0],[1,1,4])}},V=(e.glSettings={preserveDrawingBuffer:!0},e.Tendrils=function(){function t(e,n){o(this,t);var r=a({},B(),n);this.gl=e,this.state=r.state,this.colorMapData=r.colorMapData,this.state.colorMap||(this.state.colorMap=(0,f["default"])(this.gl,[1,1],{"float":!0}),this.fillColorMap()),this.screen=new x["default"](this.gl),this.flow=(0,f["default"])(this.gl,[1,1],{"float":!0}),this.buffers=[],this.baseShader=(0,c["default"])(this.gl,k["default"],j["default"]),this.logicShader=null,this.renderShader=Array.isArray(r.renderShader)?c["default"].apply(void 0,[this.gl].concat(i(r.renderShader))):r.renderShader,this.flowShader=Array.isArray(r.flowShader)?c["default"].apply(void 0,[this.gl].concat(i(r.flowShader))):r.flowShader,this.copyShader=Array.isArray(r.copyShader)?c["default"].apply(void 0,[this.gl].concat(i(r.copyShader))):r.copyShader,this.uniforms={render:{},update:{}},this.particles=null,this.viewRes=[0,0],this.viewSize=[0,0],this.timer=r.timer,this.tempData=[],this.respawnOffset=[0,0],this.respawnShape=[0,0],this.spawnCache=null,this.spawnCacheOffset=0}return s(t,[{key:"setup",value:function(){return this.setupBuffers(),this.setupParticles.apply(this,arguments),this.reset(),this}},{key:"reset",value:function(){return this.respawn(),this}},{key:"dispose",value:function(){return this.particles.dispose(),delete this.particles,delete this.spawnCache,this}},{key:"setupBuffers",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.buffers.length<t;)this.buffers.push((0,f["default"])(this.gl,[1,1]));for(;this.buffers.length>t;)this.buffers.pop().dispose();return this}},{key:"setupParticles",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.state.rootNum:arguments[0],e=arguments.length<=1||void 0===arguments[1]?2:arguments[1];this.state.rootNum=t;var n=[t,t];return this.particles=new v["default"](this.gl,{shape:n,geomShape:[n[0],2*n[1]],logicFrag:T["default"],render:this.renderShader}),this.logicShader=this.particles.logic,this.particles.setup(e),this}},{key:"clear",value:function(){return this.clearView(),this.clearFlow(),this}},{key:"clearView",value:function(){var t=this;return this.buffers.forEach(function(e){e.bind(),t.gl.clear(t.gl.COLOR_BUFFER_BIT)}),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this}},{key:"clearFlow",value:function(){return this.flow.bind(),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this}},{key:"restart",value:function(){return this.clear(),this.reset(),this}},{key:"draw",value:function(){return this.resize(),this.timer.paused||(this.particles.logic=this.logicShader,this.gl.disable(this.gl.BLEND),Object.assign(this.uniforms.update,this.state,{dt:this.timer.dt,time:this.timer.time,start:this.timer.since,flow:this.flow.color[0].bind(1),viewSize:this.viewSize,viewRes:this.viewRes}),this.particles.step(this.uniforms.update),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),Object.assign(this.uniforms.render,this.state,{time:this.timer.time,previous:this.particles.buffers[1].color[0].bind(2),viewSize:this.viewSize,viewRes:this.viewRes,colorMap:this.state.colorMap.color[0].bind(3),colorMapRes:this.state.colorMap.shape}),this.particles.render=this.flowShader,this.flow.bind(),this.gl.lineWidth(Math.max(0,this.state.flowWidth)),this.particles.draw(this.uniforms.render,this.gl.LINES),this.state.fadeColor[3]>0&&(this.baseShader.bind(),this.baseShader.uniforms.color=this.state.fadeColor,this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.screen.render()),this.particles.render=this.renderShader,this.gl.lineWidth(Math.max(0,this.state.lineWidth)),0===this.buffers.length?(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.state.autoClearView&&this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.particles.draw(this.uniforms.render,this.gl.LINES)):(this.buffers[0].bind(),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.copyShader.bind(),Object.assign(this.copyShader.uniforms,{view:this.buffers[1].color[0].bind(1),viewRes:this.viewRes}),this.screen.render(),this.particles.draw(this.uniforms.render,this.gl.LINES),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.copyShader.bind(),this.copyShader.uniforms.view=this.buffers[0].color[0].bind(2),this.screen.render(),(0,y.step)(this.buffers)),this}},{key:"resize",value:function(){var t=this;return this.viewRes[0]=this.gl.drawingBufferWidth,this.viewRes[1]=this.gl.drawingBufferHeight,(0,w.maxAspect)(this.viewSize,this.viewRes),this.buffers.forEach(function(e){return e.shape=t.viewRes}),this.flow.shape=this.viewRes,this.gl.viewport(0,0,this.viewRes[0],this.viewRes[1]),this}},{key:"respawn",value:function(){var t=arguments.length<=0||void 0===arguments[0]?b["default"]:arguments[0];return this.particles.spawn(t),this}},{key:"respawnShader",value:function(t,e){return this.resize(),this.timer.tick(),this.particles.logic=t,this.gl.disable(this.gl.BLEND),this.particles.step(v["default"].applyUpdate(a({},this.state,{time:this.timer.time,viewSize:this.viewSize,viewRes:this.viewRes}),e)),this.particles.logic=this.logicShader,this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this}},{key:"fillColorMap",value:function(){for(var t,e=(arguments.length<=0||void 0===arguments[0]?this.colorMapData:arguments[0],arguments.length),n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(t=this.state.colorMap.color[0]).setPixels.apply(t,[this.colorMapData].concat(n))}}]),t}());e["default"]=V},function(t,e,n){"use strict";function r(t){var e=t.getParameter(t.FRAMEBUFFER_BINDING),n=t.getParameter(t.RENDERBUFFER_BINDING),r=t.getParameter(t.TEXTURE_BINDING_2D);return[e,n,r]}function i(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function o(t,e){var n=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);y=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),o=0;o<r;++o)i[o]=t.COLOR_ATTACHMENT0+o;for(var o=r;o<n;++o)i[o]=t.NONE;y[r]=i}}function a(t){switch(t){case d:throw new Error("gl-fbo: Framebuffer unsupported");case v:throw new Error("gl-fbo: Framebuffer incomplete attachment");case g:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case m:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function s(t,e,n,r,i,o){if(!r)return null;var a=p(t,e,n,i,r);return a.magFilter=t.NEAREST,a.minFilter=t.NEAREST,a.mipSamples=1,a.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,o,t.TEXTURE_2D,a.handle,0),a}function u(t,e,n,r,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,r,e,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function c(t){var e=r(t.gl),n=t.gl,o=t.handle=n.createFramebuffer(),c=t._shape[0],l=t._shape[1],f=t.color.length,h=t._ext,p=t._useStencil,d=t._useDepth,v=t._colorType;n.bindFramebuffer(n.FRAMEBUFFER,o);for(var g=0;g<f;++g)t.color[g]=s(n,c,l,v,n.RGBA,n.COLOR_ATTACHMENT0+g);0===f?(t._color_rb=u(n,c,l,n.RGBA4,n.COLOR_ATTACHMENT0),h&&h.drawBuffersWEBGL(y[0])):f>1&&h.drawBuffersWEBGL(y[f]);var m=n.getExtension("WEBGL_depth_texture");m?p?t.depth=s(n,c,l,m.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):d&&(t.depth=s(n,c,l,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):d&&p?t._depth_rb=u(n,c,l,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):d?t._depth_rb=u(n,c,l,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(t._depth_rb=u(n,c,l,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var _=n.checkFramebufferStatus(n.FRAMEBUFFER);if(_!==n.FRAMEBUFFER_COMPLETE){t._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(n.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(var g=0;g<t.color.length;++g)t.color[g].dispose(),t.color[g]=null;t._color_rb&&(n.deleteRenderbuffer(t._color_rb),t._color_rb=null),i(n,e),a(_)}i(n,e)}function l(t,e,n,r,i,o,a,s){this.gl=t,this._shape=[0|e,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var u=0;u<i;++u)this.color[u]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var l=this,f=[0|e,0|n];Object.defineProperties(f,{0:{get:function(){return l._shape[0]},set:function(t){return l.width=t}},1:{get:function(){return l._shape[1]},set:function(t){return l.height=t}}}),this._shapeVector=f,c(this)}function f(t,e,n){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==n){var o=t.gl,s=o.getParameter(o.MAX_RENDERBUFFER_SIZE);if(e<0||e>s||n<0||n>s)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=n;for(var u=r(o),c=0;c<t.color.length;++c)t.color[c].shape=t._shape;t._color_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,t._color_rb),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(o.bindRenderbuffer(o.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&o.renderbufferStorage(o.RENDERBUFFER,o.STENCIL_INDEX,t._shape[0],t._shape[1])),o.bindFramebuffer(o.FRAMEBUFFER,t.handle);var l=o.checkFramebufferStatus(o.FRAMEBUFFER);l!==o.FRAMEBUFFER_COMPLETE&&(t.dispose(),i(o,u),a(l)),i(o,u)}}function h(t,e,n,r){d||(d=t.FRAMEBUFFER_UNSUPPORTED,v=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,g=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,m=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var i=t.getExtension("WEBGL_draw_buffers");if(!y&&i&&o(t,i),Array.isArray(e)&&(r=n,n=0|e[1],e=0|e[0]),"number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var a=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-fbo: Parameters are too large for FBO");r=r||{};var s=1;if("color"in r){if(s=Math.max(0|r.color,0),s<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(s>1){if(!i)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(s>t.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+s+" draw buffers")}}var u=t.UNSIGNED_BYTE,c=t.getExtension("OES_texture_float");if(r["float"]&&s>0){if(!c)throw new Error("gl-fbo: Context does not support floating point textures");
u=t.FLOAT}else r.preferFloat&&s>0&&c&&(u=t.FLOAT);var f=!0;"depth"in r&&(f=!!r.depth);var h=!1;return"stencil"in r&&(h=!!r.stencil),new l(t,e,n,u,s,f,h,i)}var p=n(84);t.exports=h;var d,v,g,m,y=null,_=l.prototype;Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],n=0|t[1];return f(this,e,n),[e,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return t=0|t,f(this,t,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t=0|t,f(this,this._shape[0],t),t},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(t,e,n){"use strict";function r(t){g=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],m=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],y=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t,e,n){var r=t.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(e<0||e>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,n],t.bind(),r.texImage2D(r.TEXTURE_2D,0,t.format,e,n,0,t.format,t.type,null),t._mipLevels=[0],t}function o(t,e,n,r,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=u}function a(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function s(t,e,n,r,i,o,s,u){var c=u.dtype,l=u.shape.slice();if(l.length<2||l.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var f=0,h=0,g=a(l,u.stride.slice());"float32"===c?f=t.FLOAT:"float64"===c?(f=t.FLOAT,g=!1,c="float32"):"uint8"===c?f=t.UNSIGNED_BYTE:(f=t.UNSIGNED_BYTE,g=!1,c="uint8");var m=1;if(2===l.length)h=t.LUMINANCE,l=[l[0],l[1],1],u=p(u.data,l,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==l.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===l[2])h=t.ALPHA;else if(2===l[2])h=t.LUMINANCE_ALPHA;else if(3===l[2])h=t.RGB;else{if(4!==l[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");h=t.RGBA}m=l[2]}if(h!==t.LUMINANCE&&h!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(h=i),h!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=u.size,b=s.indexOf(r)<0;if(b&&s.push(r),f===o&&g)0===u.offset&&u.data.length===y?b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,u.data):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,u.data):b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,u.data.subarray(u.offset,u.offset+y));else{var w;w=o===t.FLOAT?v.mallocFloat32(y):v.mallocUint8(y);var E=p(w,l,[l[2],l[2]*l[0],1]);f===t.FLOAT&&o===t.UNSIGNED_BYTE?_(E,u):d.assign(E,u),b?t.texImage2D(t.TEXTURE_2D,r,i,l[0],l[1],0,i,o,w.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,r,e,n,l[0],l[1],i,o,w.subarray(0,y)),o===t.FLOAT?v.freeFloat32(w):v.freeUint8(w)}}function u(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function c(t,e,n,r,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>a||n<0||n>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var s=u(t);return t.texImage2D(t.TEXTURE_2D,0,r,e,n,0,r,i,null),new o(t,s,e,n,r,i)}function l(t,e,n,r){var i=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,n,r,e),new o(t,i,0|e.width,0|e.height,n,r)}function f(t,e){var n=e.dtype,r=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(r[0]<0||r[0]>i||r[1]<0||r[1]>i)throw new Error("gl-texture2d: Invalid texture size");var s=a(r,e.stride.slice()),c=0;"float32"===n?c=t.FLOAT:"float64"===n?(c=t.FLOAT,s=!1,n="float32"):"uint8"===n?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,s=!1,n="uint8");var l=0;if(2===r.length)l=t.LUMINANCE,r=[r[0],r[1],1],e=p(e.data,r,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==r.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===r[2])l=t.ALPHA;else if(2===r[2])l=t.LUMINANCE_ALPHA;else if(3===r[2])l=t.RGB;else{if(4!==r[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");l=t.RGBA}}c!==t.FLOAT||t.getExtension("OES_texture_float")||(c=t.UNSIGNED_BYTE,s=!1);var f,h,g=e.size;if(s)f=0===e.offset&&e.data.length===g?e.data:e.data.subarray(e.offset,e.offset+g);else{var m=[r[2],r[2]*r[0],1];h=v.malloc(g,n);var y=p(h,r,m,0);"float32"!==n&&"float64"!==n||c!==t.UNSIGNED_BYTE?d.assign(y,e):_(y,e),f=h.subarray(0,g)}var b=u(t);return t.texImage2D(t.TEXTURE_2D,0,l,r[0],r[1],0,l,c,f),s||v.free(h),new o(t,b,r[0],r[1],l,c)}function h(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(g||r(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1];if(e instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof ImageData)return l(t,e,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return f(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var p=n(85),d=n(88),v=n(93);t.exports=h;var g=null,m=null,y=null,_=function(t,e){d.muls(t,e,255)},b=o.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),m.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(y.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return i(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t=0|t,i(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t=0|t,i(this,this._shape[0],t),t}}}),b.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},b.dispose=function(){this.gl.deleteTexture(this.handle)},b.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},b.setPixels=function(t,e,n,r){var i=this.gl;if(this.bind(),Array.isArray(e)?(r=n,n=0|e[1],e=0|e[0]):(e=e||0,n=n||0),r=r||0,t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLVideoElement){var o=this._mipLevels.indexOf(r)<0;o?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,t),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,e,n,this.format,this.type,t)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>r||n+t.shape[0]>this._shape[0]>>>r||e<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");s(i,e,n,r,this.format,this.type,this._mipLevels,t)}}},function(t,e,n){function r(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(r);var i=new Array(n.length);for(t=0;t<i.length;++t)i[t]=n[t][1];return i}function o(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(e===-1){var o="function "+n+"(a){this.data=a;};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return -1};\tproto.size=0;\tproto.dimension=-1;\tproto.shape=proto.stride=proto.order=[];\tproto.lo=proto.hi=proto.transpose=proto.step=\tfunction(){return new "+n+"(this.data);};\tproto.get=proto.set=function(){};\tproto.pick=function(){return null};\treturn function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+n+"(a,d) {\tthis.data = a;\tthis.offset = d\t};\tvar proto="+n+".prototype;\tproto.dtype='"+t+"';\tproto.index=function(){return this.offset};\tproto.dimension=0;\tproto.size=1;\tproto.shape=\tproto.stride=\tproto.order=[];\tproto.lo=\tproto.hi=\tproto.transpose=\tproto.step=function "+n+"_copy() {\treturn new "+n+"(this.data,this.offset)\t};\tproto.pick=function "+n+"_pick(){\treturn TrivialArray(this.data);\t};\tproto.valueOf=proto.get=function "+n+"_get(){\treturn "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};\tproto.set=function "+n+"_set(v){\treturn "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"\t};\treturn function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(f[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),l="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+h+","+p+",d){this.data=a","this.shape=["+h+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){\treturn "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\tif(s0>s1){\tif(s1>s2){\treturn [2,1,0];\t}else if(s0>s2){\treturn [1,2,0];\t}else{\treturn [1,0,2];\t}\t}else if(s0>s2){\treturn [2,0,1];\t}else if(s2>s1){\treturn [0,1,2];\t}else{\treturn [0,2,1];\t}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),v=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+v.join(","));for(var g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){\td=i"+g+"|0;\tb+=c"+g+"*d;\ta"+g+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'){\td=i"+g+"|0;\tif(d<0){\tc+=b"+g+"*(a"+g+"-1);\ta"+g+"=ceil(-a"+g+"/d)\t}else{\ta"+g+"=ceil(a"+g+"/d)\t}\tb"+g+"*=d\t}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var m=new Array(e),y=new Array(e),g=0;g<e;++g)m[g]="a[i"+g+"]",y[g]="b[i"+g+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+m.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var g=0;g<e;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(f[t],i)}function a(t){if(c(t))return"buffer";if(l)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var i=f.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var u=s-1,c=1;u>=0;--u)n[u]=c,c*=e[u]}if(void 0===r){r=0;for(var u=0;u<s;++u)n[u]<0&&(r-=(e[u]-1)*n[u])}for(var l=a(t),h=f[l];h.length<=s+1;)h.push(o(l,h.length-1));var i=h[s+1];return i(t,e,n,r)}var u=n(86),c=n(87),l="undefined"!=typeof Float64Array,f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,e){"use strict";function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];0===e?t.args[e]={name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:t.args[e]={name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);var r=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return r(i(t))}var a=n(89),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var n=p[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=n(90);t.exports=i},function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var f=t.arrayArgs[l];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var h=new Function("compile",e.join("\n"));return h(i.bind(void 0,t))}var i=n(91);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,f=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",f,"*t",i,"p",f,")"].join(""));for(u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(f=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var f=["offset"+l],h=t;h<o;++h)f.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",f.join("+"),")"].join(""))}c.push(r(e,n,i));for(var l=t;l<o;++l)c.push("}");return c.join("\n")}function o(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var f=e.offsetArgIndex.indexOf(a),h=e.offsetArgs[f];l=h.array,c="+q"+f;case"array":c="p"+l+c;var p="l"+a,d="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",p,"=",d,".get(",c,")"].join("")),r=r.replace(u,p),o.push([d,".set(",c,",",p,")"].join(""))):r=r.replace(u,[d,".get(",c,")"].join("")):r=r.replace(u,[d,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",p,"=",d,".get(",c,")"].join("")),r=r.replace(u,p),s.lvalue&&o.push([d,".set(",c,",",p,")"].join(""))):(i.push(["var ",p,"=",d,"[",c,"]"].join("")),r=r.replace(u,p),s.lvalue&&o.push([d,"[",c,"]=",p].join("")));else{for(var v=[s.name],g=[c],m=0;m<Math.abs(e.arrayBlockIndices[l]);m++)v.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(m+1)+"*t"+l+"b"+m);if(u=new RegExp(v.join(""),"g"),c=g.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function u(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),f=0;f<t.arrayArgs.length;++f)l[f]=e[2*f],u[f]=e[2*f+1];for(var h=[],p=[],d=[],v=[],g=[],f=0;f<t.arrayArgs.length;++f){t.arrayBlockIndices[f]<0?(d.push(0),v.push(n),h.push(n),p.push(n+t.arrayBlockIndices[f])):(d.push(t.arrayBlockIndices[f]),v.push(t.arrayBlockIndices[f]+n),h.push(0),p.push(t.arrayBlockIndices[f]));for(var m=[],y=0;y<u[f].length;y++)d[f]<=u[f][y]&&u[f][y]<v[f]&&m.push(u[f][y]-d[f]);g.push(m)}for(var _=["SS"],b=["'use strict'"],w=[],y=0;y<n;++y)w.push(["s",y,"=SS[",y,"]"].join(""));for(var f=0;f<t.arrayArgs.length;++f){_.push("a"+f),_.push("t"+f),_.push("p"+f);for(var y=0;y<n;++y)w.push(["t",f,"p",y,"=t",f,"[",d[f]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[f]);++y)w.push(["t",f,"b",y,"=t",f,"[",h[f]+y,"]"].join(""))}for(var f=0;f<t.scalarArgs.length;++f)_.push("Y"+f);if(t.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var E=new Array(n),f=0;f<n;++f)E[f]="0";w.push(["index=[",E.join(","),"]"].join(""))}for(var f=0;f<t.offsetArgs.length;++f){for(var x=t.offsetArgs[f],A=[],y=0;y<x.offset.length;++y)0!==x.offset[y]&&(1===x.offset[y]?A.push(["t",x.array,"p",y].join("")):A.push([x.offset[y],"*t",x.array,"p",y].join("")));0===A.length?w.push("q"+f+"=0"):w.push(["q",f,"=",A.join("+")].join(""))}var T=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));w=w.concat(T),b.push("var "+w.join(","));for(var f=0;f<t.arrayArgs.length;++f)b.push("p"+f+"|=0");t.pre.body.length>3&&b.push(a(t.pre,t,l));var S=a(t.body,t,l),R=o(g);R<n?b.push(i(R,g[0],t,S)):b.push(r(g[0],t,S)),t.post.body.length>3&&b.push(a(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+b.join("\n")+"\n----------");var M=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",R,s(l)].join(""),C=new Function(["function ",M,"(",_.join(","),"){",b.join("\n"),"} return ",M].join(""));return C()}var c=n(92);t.exports=u},function(t,e){"use strict";function n(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function r(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,r=t[o],r!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function i(t,e,i){return 0===t.length?t:e?(i||t.sort(e),n(t,e)):(i||t.sort(),r(t))}t.exports=i},function(t,e,n){(function(t,r){"use strict";function i(t){if(t){var e=t.length||t.byteLength,n=y.log2(e);E[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=y.nextPow2(t),e=y.log2(t),n=E[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function c(t){return new Uint32Array(a(4*t),0,t)}function l(t){return new Int8Array(a(t),0,t)}function f(t){return new Int16Array(a(2*t),0,t)}function h(t){return new Int32Array(a(4*t),0,t)}function p(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function v(t){return b?new Uint8ClampedArray(a(t),0,t):s(t)}function g(t){return new DataView(a(t),0,t)}function m(t){t=y.nextPow2(t);var e=y.log2(t),n=x[e];return n.length>0?n.pop():new r(t)}var y=n(98),_=n(99);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var b="undefined"!=typeof Uint8ClampedArray,w=t.__TYPEDARRAY_POOL;w.UINT8C||(w.UINT8C=_([32,0])),w.BUFFER||(w.BUFFER=_([32,0]));var E=w.DATA,x=w.BUFFER;e.free=function(t){if(r.isBuffer(t))x[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|y.log2(e);E[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function(t){x[y.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return c(t);case"int8":return l(t);case"int16":return f(t);case"int32":return h(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return v(t);case"buffer":return m(t);case"data":case"dataview":return g(t);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=c,e.mallocInt8=l,e.mallocInt16=f,e.mallocInt32=h,e.mallocFloat32=e.mallocFloat=p,e.mallocFloat64=e.mallocDouble=d,e.mallocUint8Clamped=v,e.mallocDataView=g,e.mallocBuffer=m,e.clearCache=function(){for(var t=0;t<32;++t)w.UINT8[t].length=0,w.UINT16[t].length=0,w.UINT32[t].length=0,w.INT8[t].length=0,w.INT16[t].length=0,w.INT32[t].length=0,w.FLOAT[t].length=0,w.DOUBLE[t].length=0,w.UINT8C[t].length=0,E[t].length=0,x[t].length=0}}).call(e,function(){return this}(),n(94).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return s(this,e,n,r)}function s(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?f(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}function l(e,n){if(u(n),e=a(e,n<0?0:0|v(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function f(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(n,r);e=a(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function h(t,e){var n=e.length<0?0:0|v(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=h(e,n),e}function d(e,n){if(t.isBuffer(n)){var r=0|v(n.length);return e=a(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||J(n.length)?a(e,0):h(e,n);if("Buffer"===n.type&&Q(n.data))return h(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(e){return+e!=e&&(e=0),t.alloc(+e)}function m(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return H(e).length;n=(""+n).toLowerCase(),i=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:w(e,n,r,i,o);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):w(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*a}else l!==-1&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var f=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){f=!1;break}if(f)return c}return-1}function E(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return K(H(e,t.length-n),t,n,r)}function A(t,e,n,r){return K(Y(e),t,n,r)}function T(t,e,n,r){return A(t,e,n,r)}function S(t,e,n,r){return K(W(e),t,n,r)}function R(t,e,n,r){return K(q(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?$.fromByteArray(t):$.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(a=f));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(a=f));break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=X(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,n,r,52,8),n+8}function z(t){if(t=G(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return $.toByteArray(z(t))}function K(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function J(t){return t!==t}var $=n(95),Z=n(96),Q=n(97);e.Buffer=t,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return s(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return l(null,t)},t.allocUnsafeSlow=function(t){return l(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=m,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):y.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=r-n,u=Math.min(a,s),c=this.slice(i,o),l=e.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){a=c[f],s=l[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,(void 0));for(var a=0;a<o;++a)i[a]=this[a+e]}return i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),Z.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),Z.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),Z.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),Z.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=1,a=0;for(this[e]=255&t;++a<n&&(o*=256);)this[e+a]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;L(this,t,e,n,i,0)}var o=n-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):D(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):j(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):j(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):D(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||L(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,a=i-r;if(this===e&&r<n&&n<i)for(o=a-1;o>=0;--o)e[o+n]=this[o+r];else if(a<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),n);return a},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:H(new t(e,i).toString()),u=s.length;for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(94).Buffer,function(){return this}())},function(t,e){"use strict";function n(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=t.length;e<n;++e)s[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function r(t){var e,n,r,i,o,a,s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===t[s-2]?2:"="===t[s-1]?1:0,a=new c(3*s/4-o),r=o>0?s-4:s;var l=0;for(e=0,n=0;e<r;e+=4,n+=3)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,a[l++]=255&i):1===o&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function o(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",a=[],u=16383,c=0,l=n-r;c<l;c+=u)a.push(o(t,c,c+u>l?l:c+u));return 1===r?(e=t[n-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),a.push(i),a.join("")}e.toByteArray=r,e.fromByteArray=a;var s=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var r=32;e.INT_BITS=r,e.INT_MAX=2147483647,e.INT_MIN=-1<<r-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>r-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e){"use strict";function n(t,e,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=n(t,e,r+1);return a}function r(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function i(t,e){switch("undefined"==typeof e&&(e=0),typeof t){case"number":if(t>0)return r(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}t.exports=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Particles=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(101),c=r(u),l=n(51),f=r(l),h=n(83),p=r(h),d=n(114),v=r(d),g=n(85),m=r(g),y=n(115),_=r(y),b=n(116),w=n(117),E=r(w),x=e.defaults=function(){return{shape:[64,64],geomShape:null,logic:null,logicVert:E["default"],logicFrag:null,render:null,renderVert:null,renderFrag:null}},A=e.Particles=function(){function t(e,n){o(this,t);var r=a({},x(),n);this.gl=e,this.triangle=(0,v["default"])(this.gl),this.shape=r.shape,this.geomShape=r.geomShape||[].concat(i(this.shape));var s=r.logic||[r.logicVert,r.logicFrag];this.logic=Array.isArray(s)?f["default"].apply(void 0,[e].concat(i(s))):s;var u=r.render||[r.renderVert,r.renderFrag];this.render=Array.isArray(u)?f["default"].apply(void 0,[e].concat(i(u))):u,this.geom=(0,c["default"])(e),this.geom.attr("uv",t.generateLUT(this.geomShape),{size:2}),this.buffers=[],this.pixels=(0,m["default"])(new Float32Array(this.shape[0]*this.shape[1]*4),[this.shape[0],this.shape[1],4])}return s(t,[{key:"setup",value:function(){for(var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.buffers.length<t;)this.buffers.push((0,p["default"])(this.gl,[this.shape[0],this.shape[1]],{"float":!0}));for(;this.buffers.length>t;)this.buffers.pop().dispose()}},{key:"spawn",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?this.pixels:arguments[1],n=arguments.length<=2||void 0===arguments[2]?[0,0]:arguments[2],r=new Float32Array(4),i=e.shape,o=e.data,a=0,s=0;s<i[0];++s)for(var u=0;u<i[1];++u)r[0]=r[1]=r[2]=r[3]=0,t(r,s,u),o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],o[a++]=r[3];this.buffers.forEach(function(t){return t.color[0].setPixels(e,n)})}},{key:"step",value:function(e){(0,b.step)(this.buffers),this.buffers[0].bind(),this.gl.viewport(0,0,this.shape[0],this.shape[1]),this.logic.bind(),t.applyUpdate(Object.assign(this.logic.uniforms,{dataRes:this.shape,geomRes:this.geomShape,particles:this.buffers[1].color[0].bind(0)}),e),this.triangle.bind(),this.triangle.draw(),this.triangle.unbind(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)}},{key:"draw",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?this.gl.POINTS:arguments[1];this.geom.bind(this.render),t.applyUpdate(Object.assign(this.render.uniforms,{dataRes:this.shape,geomRes:this.geomShape,particles:this.buffers[0].color[0].bind(0)}),e),this.geom.draw(n)}},{key:"updateLogic",value:function(t){this.logic.update(E["default"],t)}},{key:"updateRender",value:function(t,e){this.render.update(e,t)}},{key:"dispose",value:function(){}}],[{key:"generateLUT",value:function(t){for(var e=t[0]*t[1]*2,n=new Float32Array(e),r=0,i=Math.max(t[0],2),o=Math.max(t[1],2),a=1/(i-1),s=1/(o-1),u=0;u<i;++u)for(var c=0;c<o;++c)n[r++]=u*a,n[r++]=c*s;return n}},{key:"applyUpdate",value:function(t,e){return(0,_["default"])(e)?e(t):Object.assign(t,e)}}]),t}();e["default"]=A},function(t,e,n){function r(t){return this instanceof r?(this._elementsType=5123,this._elementsBytes=2,this._attributes=[],this._dirty=!0,this._attrLength=0,this._facesLength=0,this._index=null,this._vao=null,this._keys=[],void(this.gl=t)):new r(t)}var i=n(102),o=n(109),a=n(110),s=n(108);t.exports=r,r.prototype.dispose=function(){for(var t=0;t<this._attributes.length;t++)this._attributes[t].buffer.dispose();this._attributes=[],this._keys=[],this._attrLength=0,this._facesLength=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},r.prototype.faces=function(t,e){var n=e&&e.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i.create(this.gl,t,n,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._facesLength=this._index.length*n,this._index=this._index.buffer,this},r.prototype.attr=function(t,e,n){if(e.cells&&e.positions)return this.attr(t,e.positions).faces(e.cells,n);n=n||{};var r=n.size||3,o=this._keys.indexOf(t);if(o>-1){var a=this._attributes[o].buffer,s=n.offset||void 0;return i.update(a,e,r,"float32",s),this._attrLength=a.length/r/4,this}this._dirty=!0;var u=this.gl,c=!this._attributes.length,l=i.create(u,e,r,u.ARRAY_BUFFER,"float32");if(!l)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var f=l.buffer,h=l.length;return this._keys.push(t),this._attributes.push({size:r,buffer:f}),c&&(this._attrLength=h),this},r.prototype.bind=function(t){if(this.update(),this._vao.bind(),this._keys&&t){for(var e=0;e<this._keys.length;e++){var n=t.attributes[this._keys[e]];n&&(n.location=e)}t.bind()}},r.prototype.draw=function(t,e,n){e="undefined"==typeof e?0:e,t="undefined"==typeof t?this.gl.TRIANGLES:t,this.update(),this._vao._useElements?(n="undefined"==typeof n?this._facesLength:n,this.gl.drawElements(t,n-e,this._elementsType,e*this._elementsBytes)):(n="undefined"==typeof n?this._attrLength:n,this.gl.drawArrays(t,e,n-e))},r.prototype.unbind=function(){this.update(),this._vao.unbind()},r.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=a(this.gl,this._attributes,this._index),this._elementsType=this._vao._elementsType,this._elementsBytes=s(o(this._elementsType)||"array").BYTES_PER_ELEMENT||2)}},function(t,e,n){function r(t,e,n,r,i){if(e.handle instanceof WebGLBuffer)return{buffer:e,length:e.length/n/4};var a=o(e,n,i);return{buffer:l(t,a.data,r),length:a.length}}function i(t,e,n,r,i){if(e.handle instanceof WebGLBuffer)throw new Error("Unhandled update case: WebGLBuffer");var a=o(e,n,r);t.update(a.data,i)}function o(t,e,n){return Array.isArray(t)&&Array.isArray(t[0])?{data:u(t,n),length:t.length}:Array.isArray(t)&&c(t[0])?{data:u(t,n),length:t.length*t[0].length/e}:Array.isArray(t)?{data:new(h(n))(t),length:t.length/e}:f(t)?{data:t,length:a(t.shape)/e}:c(t)?(!n||t instanceof h(n)||(t=s(t,h(n))),{data:t,length:t.length/e}):void 0}function a(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function s(t,e){for(var n=new e(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}var u=n(103),c=n(105),l=n(106),f=n(107),h=n(108);t.exports.create=r,t.exports.update=i},function(t,e,n){function r(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var n="string"==typeof e?i(e):e,r=t[0].length,o=new n(t.length*r),a=0,s=0;s<t.length;s++)for(var u=0;u<r;u++)o[a++]=t[s][u];return o}var i=n(104);t.exports=r},function(t,e,n){(function(e){
t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return"undefined"==typeof e?ArrayBuffer:e}}}).call(e,n(94).Buffer)},function(t,e){function n(t){return r(t)||i(t)}function r(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function i(t){return a[o.call(t)]}t.exports=n,n.strict=r,n.loose=i;var o=Object.prototype.toString,a={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(t,e,n){"use strict";function r(t,e,n,r,i){this.gl=t,this.type=e,this.handle=n,this.length=r,this.usage=i}function i(t,e,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,r),a;if(a+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),n}function o(t,e){for(var n=u.malloc(t.length,e),r=t.length,i=0;i<r;++i)n[i]=t[i];return n}function a(t,e){for(var n=1,r=e.length-1;r>=0;--r){if(e[r]!==n)return!1;n*=t[r]}return!0}function s(t,e,n,i){if(n=n||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,n!==t.ARRAY_BUFFER&&n!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var o=t.createBuffer(),a=new r(t,n,o,0,i);return a.update(e),a}var u=n(93),c=n(88),l=n(85),f=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],h=r.prototype;h.bind=function(){this.gl.bindBuffer(this.type,this.handle)},h.unbind=function(){this.gl.bindBuffer(this.type,null)},h.dispose=function(){this.gl.deleteBuffer(this.handle)},h.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&"undefined"!=typeof t.shape){var n=t.dtype;if(f.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var r=gl.getExtension("OES_element_index_uint");n=r&&"uint16"!==n?"uint32":"uint16"}if(n===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,e):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=u.malloc(t.size,n),h=l(s,t.shape);c.assign(h,t),e<0?this.length=i(this.gl,this.type,this.length,this.usage,s,e):this.length=i(this.gl,this.type,this.length,this.usage,s.subarray(0,t.size),e),u.free(s)}}else if(Array.isArray(t)){var p;p=this.type===this.gl.ELEMENT_ARRAY_BUFFER?o(t,"uint16"):o(t,"float32"),e<0?this.length=i(this.gl,this.type,this.length,this.usage,p,e):this.length=i(this.gl,this.type,this.length,this.usage,p.subarray(0,t.length),e),u.free(p)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t=0|t,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=s},function(t,e){t.exports=function(t){if(!t)return!1;if(!t.dtype)return!1;var e=new RegExp("function View[0-9]+d(:?"+t.dtype+")+");return e.test(String(t.constructor))}},function(t,e){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(t,e){function n(t){switch(t){case 5126:return"float32";case 5125:return"uint32";case 5124:return"int32";case 5123:return"uint16";case 32819:return"uint16";case 32820:return"uint16";case 33635:return"uint16";case 5122:return"int16";case 5121:return"uint8";case 5120:return"int8";default:return null}}t.exports=n},function(t,e,n){"use strict";function r(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,e,n,i){var s,u=t.createVertexArray?new r(t):t.getExtension("OES_vertex_array_object");return s=u?o(t,u):a(t),s.update(e,n,i),s}var o=n(111),a=n(113);t.exports=i},function(t,e,n){"use strict";function r(t,e,n,r,i,o){this.location=t,this.dimension=e,this.a=n,this.b=r,this.c=i,this.d=o}function i(t,e,n){this.gl=t,this._ext=e,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function o(t,e){return new i(t,e,e.createVertexArrayOES())}var a=n(112);r.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,n){if(this.bind(),a(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var o=t[i];"number"==typeof o?this._attribs.push(new r(i,1,o)):Array.isArray(o)&&this._attribs.push(new r(i,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},t.exports=o},function(t,e){"use strict";function n(t,e,n){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var r=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,u=o.type||t.FLOAT,c=!!o.normalized,l=o.stride||0,f=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,u,c,l,f)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<r;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<r;++i)t.disableVertexAttribArray(i)}}t.exports=n},function(t,e,n){"use strict";function r(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new r(t)}var o=n(112);r.prototype.bind=function(){o(this.gl,this._elements,this._attributes)},r.prototype.update=function(t,e,n){this._elements=e,this._attributes=t,this._elementsType=n||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(t,e,n){n=n||0;var r=this.gl;this._elements?r.drawElements(t,e,this._elementsType,n):r.drawArrays(t,n,e)},t.exports=i},function(t,e,n){function r(t){return this instanceof r?(this.gl=t,void(this.vao=o(t,[{size:2,type:t.FLOAT,buffer:i(t,new Float32Array([-1,-1,-1,4,4,-1]))}]))):new r(t)}var i=n(106),o=n(110);t.exports=r,r.prototype.bind=function(){this.vao.bind()},r.prototype.draw=function(){this.gl.drawArrays(this.gl.TRIANGLES,0,3)},r.prototype.unbind=function(){this.vao.unbind()}},function(t,e,n){function r(t){var e=i(t)?u.call(t):"";return e==o||e==a}var i=n(34),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,u=s.toString;t.exports=r},function(t,e){"use strict";function n(t){var e=Array.prototype.pop.call(t);return Array.prototype.unshift.call(t,e),e}Object.defineProperty(e,"__esModule",{value:!0}),e.step=n;var r=(e.wrapIndex=function(t,e){return e[(e.length+t)%e.length]},1/Math.log(2));e.nextPow2=function(t){return Math.pow(2,Math.ceil(Math.log(t)*r))}},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0, 1.0);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(119),o=r(i);e["default"]=function(t){return t[0]=t[1]=o["default"],t[2]=t[3]=0,t}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=-1e6},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.maxAspect=e.minAspect=e.aspect=void 0;var i=n(49),o=r(i),a=e.aspect=function(t,e,n){return o["default"].scale(t,o["default"].inverse(t,e),n)};e.minAspect=function(t,e){return a(t,e,Math.min(e[0],e[1]))},e.maxAspect=function(t,e){return a(t,e,Math.max(e[0],e[1]))};e["default"]=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.Screen=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function h(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:h(i,e,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},c=n(114),l=r(c),f=e.Screen=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"render",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"draw",this).call(this),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"unbind",this).call(this)}}]),e}(l["default"]);e["default"]=f},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D flow;\n\nuniform vec2 dataRes;\n\nuniform vec2 viewSize;\n\nuniform float time;\nuniform float dt;\n\nuniform float minSpeed;\nuniform float maxSpeed;\nuniform float damping;\n\nuniform float flowDecay;\n\nuniform float noiseSpeed;\nuniform float noiseScale;\n\nuniform float forceWeight;\nuniform float flowWeight;\nuniform float wanderWeight;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nconst vec2 inert = vec2(-1000000.0);\n\n/**\n * @requires {float} levels The number of samples to take at different LODs\n * @requires {float} stride The step up to take between each LOD\n */\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nvec2 posToUV(vec2 pos) {\n    return map(pos, posRange.xy, posRange.zw, uvRange.xy, uvRange.zw);\n}\n\n// Time/decay\n\nvec2 get(vec3 data, float time, float decay) {\n    return data.xy*max(0.0, 1.0-((time-data.z)*decay));\n}\n\nvec2 get(vec4 data, float time, float decay) {\n    return get(data.xyz, time, decay);\n}\n\n// No time/decay\n\nvec2 get(vec2 data) {\n    return data.xy;\n}\n\nvec2 get(vec3 data) {\n    return get(data.xy);\n}\n\nvec2 get(vec4 data) {\n    return get(data.xy);\n}\n\n/**\n * @return The flow velocity and age for a given screen position, sampling\n *         several scales.\n */\nvec2 flowAtScreenPos(vec2 pos, sampler2D flow, float time, float flowDecay) {\n    vec2 uv = posToUV(pos);\n    vec2 flowForce = vec2(0.0);\n    float flowMax = 0.0;\n\n    for(float level = 0.0; level < 1.0*1.0; level += 1.0) {\n        vec4 flowData = texture2D(flow, uv, level);\n        float factor = 1.0/(level+1.0);\n\n        flowForce += get(flowData, time, flowDecay)*factor;\n        flowMax += factor;\n    }\n\n    return flowForce/flowMax;\n}\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy/dataRes;\n\n    vec4 state = texture2D(particles, uv);\n    vec2 pos = state.xy;\n    vec2 vel = state.zw;\n\n    vec2 newPos = pos;\n    vec2 newVel = vel;\n\n    if(pos != inert) {\n        // Wander force\n\n        vec2 noisePos = pos*noiseScale;\n        float noiseTime = time*noiseSpeed;\n\n        vec2 wanderForce = vec2(snoise(vec3(noisePos, uv.x+noiseTime)),\n                snoise(vec3(noisePos, uv.y+noiseTime+1234.5678)));\n\n        // Flow force - left by preceeding particles\n        // (Ensure this is checked before the next flow step is rendered, to avoid\n        // self-influence.)\n\n        vec2 flowForce = flowAtScreenPos(pos*viewSize, flow, time, flowDecay);\n\n        // Accumulate weighted forces and damping\n        newVel = (vel*damping*dt)+\n            (forceWeight*\n                ((flowForce*flowWeight*dt)+\n                    (wanderForce*wanderWeight*dt)));\n        \n        // Normalize and clamp the velocity\n        /**\n         * @todo This seems to cause some problems when dealing with larger max\n         *       speeds - the particles no longer follow flow forces somehow...\n         */\n        float speed = length(newVel);\n\n        newVel *= min(speed, maxSpeed)/speed;\n\n        // Integrate motion\n        newPos = pos+newVel;\n    }\n\n    gl_FragColor = vec4(newPos, newVel);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D previous;\nuniform sampler2D particles;\n\nuniform sampler2D colorMap;\n\nuniform vec4 flowColor;\nuniform vec4 baseColor;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\n\nuniform vec2 viewSize;\n\nuniform float time;\nuniform float speedAlpha;\nuniform float colorMapAlpha;\nuniform float maxSpeed;\nuniform float flowDecay;\n\nattribute vec2 uv;\n\nvarying vec4 color;\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec2 inert = vec2(-1000000.0);\n\nconst float tau = 6.28318530717958647692;\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 preAlpha(vec3 color, float alpha) {\n    return vec4(color.rgb*alpha, alpha);\n}\n\nvec4 preAlpha(vec4 color) {\n    return preAlpha(color.rgb, color.a);\n}\n\nconst float frameOffset = 0.25;\n\n/**\n * For every data point, we have two vertices - current and previous state.\n * Every other vertex looks up previous data. In this way, (vertical)\n * neighbours alternate from previous to current state.\n * (Vertical neighbours, because WebGL iterates column-major.)\n *\n * @return State data for the vertex, either current or previous.\n */\n\nvec4 stateAtFrame(vec2 uv, vec2 shape, sampler2D previous, sampler2D current) {\n    float nearIndex = uv.y*shape.y;\n    float offset = fract(nearIndex);\n    vec2 lookup = vec2(uv.x, floor(nearIndex)/shape.y);\n\n    return texture2D(((offset > frameOffset)? current : previous), lookup);\n}\n\nconst vec3 flowColorAxis = vec3(tau/3.0, tau*2.0/3.0, tau);\n\nconst vec4 minColor = vec4(0.0);\nconst vec4 maxColor = vec4(1.0);\n\nconst vec4 minAlign = vec4(-1.0);\nconst vec4 maxAlign = vec4(1.0);\n\nvoid main() {\n    vec4 state = stateAtFrame(uv, dataRes, previous, particles);\n\n    if(state.xy != inert) {\n        vec2 vel = state.zw/maxSpeed;\n        float speedRate = min(length2(vel)/speedAlpha, 1.0);\n\n        // Color map\n\n        vec4 mappedColor = texture2D(colorMap, uv*geomRes/dataRes);\n        \n        mappedColor.a *= colorMapAlpha;\n\n        // Flow color\n        \n        vec3 alignRGB = vec3(dot(vel, angleToVec(flowColorAxis.r)),\n                dot(vel, angleToVec(flowColorAxis.g)),\n                dot(vel, angleToVec(flowColorAxis.b)));\n\n        vec3 flowAlign = map(mix(alignRGB, alignRGB.brg*(1.0-flowDecay),\n                    sin(time*flowDecay)),\n                minAlign.rgb, maxAlign.rgb, minColor.rgb, maxColor.rgb);\n\n        // Color summation (pre-multiplying alpha so they don't cross over)\n\n        color = preAlpha(mappedColor)+\n            preAlpha(flowColor.rgb*flowAlign, flowColor.a)+\n            baseColor;\n\n        color = clamp(vec4(color.rgb, color.a*speedRate), minColor, maxColor);\n\n        // Position\n        gl_Position = vec4(state.xy*viewSize, 0.0, 1.0);\n    }\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 color;\n\nvoid main() {\n    gl_FragColor = color;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D previous;\nuniform sampler2D data;\n\nuniform vec2 dataRes;\n\nuniform vec2 viewSize;\n\nuniform float time;\nuniform float maxSpeed;\nuniform float flowDecay;\n\nattribute vec2 uv;\n\nvarying vec4 color;\n\n/**\n * @requires {float} time The current time in ms\n */\n\nvec4 flow(vec2 vel) {\n    // Faster particles leave a greater influence (opacity).\n    // Linear interpolation - inaccurate for vectors, will it be OK without\n    // sudden turns, or do we need a per-fragment lookup?\n    return vec4(vel, time, length(vel));\n}\n\nvec4 flow(vec2 vel, float maxSpeed) {\n    vec4 values = flow(vel);\n\n    return vec4(values.xyz, min(values.a/maxSpeed, 1.0));\n}\n\n/**\n * @requires `./head.vert`\n * @requires {function} apply A function applying a `vec4` state into a `vec3`\n *                            color to be drawn.\n */\n\nconst vec2 inert = vec2(-1000000.0);\n\nconst float frameOffset = 0.25;\n\n/**\n * For every data point, we have two vertices - current and previous state.\n * Every other vertex looks up previous data. In this way, (vertical)\n * neighbours alternate from previous to current state.\n * (Vertical neighbours, because WebGL iterates column-major.)\n *\n * @return State data for the vertex, either current or previous.\n */\n\nvec4 stateAtFrame(vec2 uv, vec2 shape, sampler2D previous, sampler2D current) {\n    float nearIndex = uv.y*shape.y;\n    float offset = fract(nearIndex);\n    vec2 lookup = vec2(uv.x, floor(nearIndex)/shape.y);\n\n    return texture2D(((offset > frameOffset)? current : previous), lookup);\n}\n\nvoid main() {\n    vec4 state = stateAtFrame(uv, dataRes, previous, data);\n\n    if(state.xy != inert) {\n        gl_Position = vec4(state.xy*viewSize, 1.0, 1.0);\n        color = flow(state.zw, maxSpeed);\n    }\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 color;\n\nvoid main() {\n    // @todo SDF from line, to weaken force further away\n    gl_FragColor = color.rgba;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main() {\n    gl_FragColor = color.rgba;\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D view;\nuniform vec2 viewRes;\n\n// #pragma glslify: fxaa = require(glsl-fxaa)\n\nvoid main() {\n    gl_FragColor = texture2D(view, gl_FragCoord.xy/viewRes);\n    // gl_FragColor = fxaa(view, gl_FragCoord.xy, viewRes);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.SpawnPixels=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(83),c=r(u),l=n(51),f=r(l),h=n(47),p=r(h),d=n(49),v=r(d),g=n(120),m=r(g),y=n(117),_=r(y),b=n(130),w=r(b),E=e.defaults=function(){return{shader:[_["default"],w["default"]],buffer:[[1,1],{"float":!0}],spawnSize:[1,1],jitterRad:2,speed:1,bias:1}},x=e.SpawnPixels=function(){function t(e,n){o(this,t),this.gl=e;var r=a({},E(),n);this.shader=Array.isArray(r.shader)?f["default"].apply(void 0,[this.gl].concat(i(r.shader))):r.shader,this.buffer=Array.isArray(r.buffer)?c["default"].apply(void 0,[this.gl].concat(i(r.buffer))):r.buffer,this.speed=r.speed,this.bias=r.bias,this.jitterRad=r.jitterRad,this.jitter=v["default"].create(),this.spawnSize=r.spawnSize,this.spawnMatrix=p["default"].create()}return s(t,[{key:"update",value:function(t){return Object.assign(t,{spawnData:this.buffer.color[0].bind(1),spawnSize:this.spawnSize,spawnMatrix:this.spawnMatrix,speed:this.speed,jitter:(0,m["default"])(this.jitter,t.viewRes,this.jitterRad),bias:this.bias})}},{key:"respawn",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.update.bind(this):arguments[1];return t.respawnShader(this.shader,e)}},{key:"setPixels",value:function(t){return this.buffer.color[0].setPixels(t)}}]),t}();e["default"]=x},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n// #pragma glslify: applier = require(./apply/color, time = time)\n// #pragma glslify: applier = require(./apply/brightest)\n// #pragma glslify: vignette = require(../../filter/pass/vignette)\n// #pragma glslify: apply = require(./apply/compose-filter, apply = applier, pass = vignette)\n\n/**\n * Directly uses a normal image - brightness being speed in a direction defined\n * by the `rgba` channels.\n *\n * @requires {float} time The current time\n */\n\nconst vec4 k = vec4(0.0, -1.0/3.0, 2.0/3.0, -1.0);\nconst float e = 1.0e-10;\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 p = ((c.g < c.b)? vec4(c.bg, k.wz) : vec4(c.gb, k.xy));\n    vec4 q = ((c.r < p.x)? vec4(p.xyw, c.r) : vec4(c.r, p.yzx));\n\n    float d = q.x-min(q.w, q.y);\n\n    return vec3(abs(q.z+(q.w-q.y)/(6.0*d+e)), d/(q.x+e), q.x);\n}\n\nconst float tau = 6.28318530717958647692;\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    vec3 hsv = rgb2hsv(pixel.rgb);\n\n    return vec4(pos,\n        angleToVec((hsv.r+(time*0.0002))*tau)*hsv.g*hsv.b*pixel.a);\n}\n\n// #pragma glslify: apply = require(./apply/brightest)\n\n/**\n * Directly spawns a particle according to its euivalent position/values in the\n * given texture.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n */\n\nvoid main() {\n    /**\n     * @todo I have no idea why this seems to be required here and not in the\n     *       main logic shader... seems to do with the data/geometry size ratio.\n     */\n    // vec2 uv = gl_FragCoord.xy/dataRes;\n    vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n\n    gl_FragColor = apply(uv, spawnToPos(uv), texture2D(spawnData, uv));\n}\n\n"},function(t,e){t.exports="/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n/**\n * Directly uses a normal image - brightness being speed in a direction defined\n * by the `rgba` channels.\n *\n * @requires {float} time The current time\n */\n\nconst vec4 k = vec4(0.0, -1.0/3.0, 2.0/3.0, -1.0);\nconst float e = 1.0e-10;\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 p = ((c.g < c.b)? vec4(c.bg, k.wz) : vec4(c.gb, k.xy));\n    vec4 q = ((c.r < p.x)? vec4(p.xyw, c.r) : vec4(c.r, p.yzx));\n\n    float d = q.x-min(q.w, q.y);\n\n    return vec3(abs(q.z+(q.w-q.y)/(6.0*d+e)), d/(q.x+e), q.x);\n}\n\nconst float tau = 6.28318530717958647692;\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    vec3 hsv = rgb2hsv(pixel.rgb);\n\n    return vec4(pos,\n        angleToVec((hsv.r+(time*0.0002))*tau)*hsv.g*hsv.b*pixel.a);\n}\n\n// #pragma glslify: applier = require(./apply/brightest)\n// @todo Uniform inputs for `const` values here.\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\nconst vec2 midUV = vec2(0.5);\nconst vec3 curve = vec3(0.0, 0.6, 1.0);\nconst float limit = 0.5;\n\nvec4 pass(vec2 uv, vec4 pixel) {\n    return vec4(pixel*max(0.0, bezier(curve, limit-length(uv-midUV))));\n}\n\n/**\n * A way to easily compose filter passes on the pixel before applying it.\n *\n * @see `../../../filter/`\n * @see `./`\n * @requires {function} pass The filter pass function, given the pixel.\n * @requires {function} apply The apply function, given the result of `pass`.\n */\n\nvec4 compose(vec2 uv, vec2 pos, vec4 pixel) {\n    return apply(uv, pos, pass(uv, pixel));\n}\n\n// #pragma glslify: apply = require(./apply/color, time = time)\n// #pragma glslify: apply = require(./apply/brightest)\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 5.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct.main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n\n        state = pick(state,\n            compose(spawnUV, spawnToPos(spawnUV), texture2D(spawnData, spawnUV)));\n    }\n\n    gl_FragColor = state;\n}\n\n";
},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\nuniform float flowDecay;\n\n/**\n * Use the pixel position, and the particle velocity.\n * Same data structure as the flow.\n *\n * @requires {float} time The current time\n * @requires {float} decay The rate of decay of the flow over time\n */\n\n// Time/decay\n\nvec2 get(vec3 data, float time, float decay) {\n    return data.xy*max(0.0, 1.0-((time-data.z)*decay));\n}\n\nvec2 get(vec4 data, float time, float decay) {\n    return get(data.xyz, time, decay);\n}\n\n// No time/decay\n\nvec2 get(vec2 data) {\n    return data.xy;\n}\n\nvec2 get(vec3 data) {\n    return get(data.xy);\n}\n\nvec2 get(vec4 data) {\n    return get(data.xy);\n}\n\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    return vec4(pos, get(pixel, time, flowDecay));\n}\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 5.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct.main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n\n        state = pick(state,\n            apply(spawnUV, spawnToPos(spawnUV), texture2D(spawnData, spawnUV)));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D particles;\nuniform sampler2D spawnData;\n\nuniform vec2 dataRes;\nuniform vec2 geomRes;\nuniform vec2 spawnSize;\n\nuniform vec2 jitter;\nuniform float time;\nuniform float speed;\n\nuniform mat3 spawnMatrix;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nfloat map(float value, float inMin, float inMax, float outMin, float outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec2 map(vec2 value, vec2 inMin, vec2 inMax, vec2 outMin, vec2 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec3 map(vec3 value, vec3 inMin, vec3 inMax, vec3 outMin, vec3 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nvec4 map(vec4 value, vec4 inMin, vec4 inMax, vec4 outMin, vec4 outMax) {\n  return outMin + (outMax - outMin) * (value - inMin) / (inMax - inMin);\n}\n\nconst vec4 uvRange = vec4(0.0, 0.0, 1.0, 1.0);\n\nconst vec4 posRange = vec4(-1.0, -1.0, 1.0, 1.0);\n\nvec2 uvToPos(vec2 uv) {\n    return map(uv, uvRange.xy, uvRange.zw, posRange.xy, posRange.zw);\n}\n\nfloat transform(mat2 m, float v) {\n    return (m*vec2(v, 1.0)).x;\n}\n\nvec2 transform(mat3 m, vec2 v) {\n    return (m*vec3(v, 1.0)).xy;\n}\n\nvec3 transform(mat4 m, vec3 v) {\n    return (m*vec4(v, 1.0)).xyz;\n}\n\nconst vec2 flipUV = vec2(1.0, -1.0);\n\nvec2 spawnToPos(vec2 uv) {\n    // Jittering around a UV cell to get rid of boxy scaled sampling artefacts\n    vec2 offset = vec2(mix(-jitter.x, jitter.x, random(uv-1.2345+(time*0.001))),\n            mix(-jitter.y, jitter.y, random(uv+1.2345+(time*0.001))));\n\n    return transform(spawnMatrix, uvToPos(uv+offset)*flipUV*spawnSize);\n}\n\n/**\n * Identity\n */\nvec4 apply(vec2 uv, vec2 pos, vec4 pixel) {\n    return pixel;\n}\n\n// @todo Uniform inputs for `const` values here.\n\n/**\n * Adapted from `bezier`.\n */\n\nfloat bezier(vec2 cp, float t) {\n    return cp.x+(cp.y-cp.x)*t;\n}\n\nfloat bezier(vec3 cp, float t) {\n    float ut = 1.0-t;\n\n    return (cp.x*ut+cp.y*t)*ut+(cp.y*ut+cp.z*t)*t;\n}\n\nfloat bezier(vec4 cp, float t) {\n    float ut = 1.0-t;\n    float a1 = cp.y*ut+cp.z*t;\n\n    return ((cp.x*ut+cp.y*t)*ut+a1*t)*ut+(a1*ut+(cp.z*ut+cp.w*t)*t)*t;\n}\n\nconst vec2 midUV = vec2(0.5);\nconst vec3 curve = vec3(0.0, 0.6, 1.0);\nconst float limit = 0.5;\n\nvec4 pass(vec2 uv, vec4 pixel) {\n    return vec4(pixel*max(0.0, bezier(curve, limit-length(uv-midUV))));\n}\n\n/**\n * A way to easily compose filter passes on the pixel before applying it.\n *\n * @see `../../../filter/`\n * @see `./`\n * @requires {function} pass The filter pass function, given the pixel.\n * @requires {function} apply The apply function, given the result of `pass`.\n */\n\nvec4 compose(vec2 uv, vec2 pos, vec4 pixel) {\n    return apply(uv, pos, pass(uv, pixel));\n}\n\n/**\n * Pick the Highest velocity.\n * Uses the same data structure as the particles.\n */\n\nfloat length2(vec2 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec3 vec) {\n    return dot(vec, vec);\n}\n\nfloat length2(vec4 vec) {\n    return dot(vec, vec);\n}\n\nfloat test(vec4 data) {\n    return length2(data.zw);\n}\n\nconst float samples = 3.0;\n\n/**\n * Tries a number of times to randomly select a pixel scored highest by a given\n * function.\n *\n * @requires {function} apply A function that transforms a `vec4` of data into a\n *                            valid `vec4` state.\n * @requires {function} test A function that returns a float value for a given\n *                           `vec4` state; greater values win the comparison.\n */\n\n// Over 1 favours changing to new data; under 1 favours current data.\nuniform float bias;\n\n/**\n * @todo Some bug with `glslify-import` & sons breaks `node_modules` aliased\n *       `require`s in `import`ed files, so we need to do it the looooooong way.\n */\n// #pragma glslify: random = require(glsl-random)\n\nvec4 pick(vec4 current, vec4 next) {\n    return ((test(current) > bias*test(next))? current : next);\n}\n\nvoid main() {\n    /**\n     * @todo This was needed in `./direct.main.frag` - is it needed here too?\n     */\n    vec2 uv = gl_FragCoord.xy/dataRes;\n    // vec2 uv = (gl_FragCoord.xy/dataRes)*(geomRes/dataRes);\n    \n    vec4 state = texture2D(particles, uv);\n\n    vec4 baseSeed = state+vec4(uv, uv)+vec4(1.2345+(time*0.001));\n\n    for(float n = 0.0; n < samples; n += 1.0) {\n        vec4 seed = baseSeed+vec4(n);\n        vec2 spawnUV = mod(vec2(random(seed.xy), random(seed.zw)), 1.0);\n\n        state = pick(state,\n            compose(spawnUV, spawnToPos(spawnUV), texture2D(spawnData, spawnUV)));\n    }\n\n    gl_FragColor = state;\n}\n\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.spawnBall=e.defaults=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(135),s=i(a),u=n(137),c=r(u),l=e.defaults=function(){return{shader:[s.defaults().shader[0],c["default"]],uniforms:{radius:1,speed:0}}},f=e.spawnBall=function(t,e){return s.spawner(t,o({},l(),e))};e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.spawner=e.defaults=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(51),s=r(a),u=n(117),c=r(u),l=n(136),f=r(l),h=e.defaults=function(){return{shader:[c["default"],f["default"]],uniforms:null}},p=e.spawner=function(t,e){var n=o({},h(),e);return{gl:t,uniforms:n.uniforms,shader:Array.isArray(n.shader)?s["default"].apply(void 0,[t].concat(i(n.shader))):n.shader,respawn:function(t){t.respawnShader(this.shader,this.uniforms)}}};e["default"]=p},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nconst vec2 inert = vec2(-1000000.0);\n\nconst vec2 pos = vec2(inert);\nconst vec2 vel = vec2(0.0);\n\nvoid main() {\n    gl_FragColor = vec4(pos, vel);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform float radius;\nuniform float speed;\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nvec2 angleToVec(float rad) {\n    return vec2(cos(rad), sin(rad));\n}\n\nconst float tau = 6.28318530717958647692;\n\nvoid main() {\n    vec4 randoms = vec4(random((gl_FragCoord.xy*1.7654)+2.3675),\n        random((gl_FragCoord.xy*1.23494)+0.36434),\n        random((gl_FragCoord.xy*0.327789)+3.498787),\n        random((gl_FragCoord.xy*9.0374)+0.2773));\n\n    gl_FragColor = vec4(angleToVec(randoms.x*tau)*randoms.y*radius,\n        angleToVec(randoms.z*tau)*randoms.w*speed);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AudioTrigger=e.defaultTest=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(116),s=n(139),u=r(s),c=n(141),l=r(c),f=n(142),h=n(243),p=e.defaultTest=function(t){return(0,h.peak)(t.nthOrderData(-1))>t.limit},d=e.AudioTrigger=function(){function t(e,n){var r=arguments.length<=2||void 0===arguments[2]?200:arguments[2],o=this,a=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=arguments.length<=4||void 0===arguments[4]?null:arguments[4];i(this,t),this.analyser=e,this.orderLog=(0,f.makeOrderLog)(n,function(t){return(0,f.makeLog)(t,function(){return(0,l["default"])(o.analyser,t===n?Uint8Array:Float32Array)})}),this.limit=r,this.test=a,this.react=s}return o(t,[{key:"sample",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"frequencies":arguments[1];return this.analyser[e]((0,a.step)(this.orderLog[0])),(0,h.orderLogRates)(this.orderLog,t),this}},{key:"nthOrderData",value:function(t){return(0,a.wrapIndex)(t,this.orderLog)[0]}},{key:"fire",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.react:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.test||p:arguments[1],n=!!e(this);return n&&t(this),n}},{key:"clear",value:function(){(0,u["default"])(function(t){return(0,u["default"])(function(t){return(0,u["default"])(function(e,n){return t[n]=0},t)},t)},this.orderLog)}}]),t}();e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.each=e.eachList=void 0;var i=n(140),o=r(i),a=e.eachList=function(t,e){return Array.prototype.forEach.call(e,t),e},s=e.each=function(t,e){return a(function(n,r,i){return t(e[n],n,e,r,i)},(0,o["default"])(e)),e};e["default"]=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.iterable=function(t){return t?Object.keys(t):[]};e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.makeData=function(t){var e=arguments.length<=1||void 0===arguments[1]?Uint8Array:arguments[1];return new e((t.analyser?t.analyser[0]||t.analyser:t[0]||t).frequencyBinCount)};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeOrderLog=e.makeLog=void 0;var i=n(143),o=r(i),a=e.makeLog=function(t){var e=arguments.length<=1||void 0===arguments[1]?function(){return[]}:arguments[1];return(0,o["default"])(t,e)},s=e.makeOrderLog=function(t){var e=arguments.length<=1||void 0===arguments[1]?a:arguments[1];return(0,o["default"])(t,function(n){return e(t-n)})};e["default"]=s},function(t,e,n){function r(t,e){if(t=a(t),t<1||t>s)return[];var n=u,r=c(t,u);e=i(e),t-=u;for(var l=o(r,e);++n<t;)e(n);return l}var i=n(144),o=n(199),a=n(241),s=9007199254740991,u=4294967295,c=Math.min;t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(145),o=n(224),a=n(237),s=n(204),u=n(238);t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(146),o=n(221),a=n(223);t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){f=n[u];var h=f[0],p=t[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in t))return!1}else{var v=new i;if(r)var g=r(p,d,h,t,e,v);if(!(void 0===g?o(d,p,r,a|s,v):g))return!1}}return!0}var i=n(147),o=n(184),a=1,s=2;t.exports=r},function(t,e,n){function r(t){this.__data__=new i(t)}var i=n(148),o=n(156),a=n(157),s=n(158),u=n(159),c=n(160);r.prototype.clear=o,r.prototype["delete"]=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(149),o=n(150),a=n(153),s=n(154),u=n(155);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e){function n(){this.__data__=[]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=n(151),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(152);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(151);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(151);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}var i=n(151);t.exports=r},function(t,e,n){function r(){this.__data__=new i}var i=n(148);t.exports=r},function(t,e){function n(t){return this.__data__["delete"](t)}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this;n=this.__data__=new a(r)}return n.set(t,e),this}var i=n(148),o=n(161),a=n(169),s=200;t.exports=r},function(t,e,n){var r=n(162),i=n(36),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(163),o=n(168);t.exports=r},function(t,e,n){function r(t){if(!s(t)||a(t))return!1;var e=i(t)||o(t)?v:l;return e.test(u(t))}var i=n(115),o=n(164),a=n(165),s=n(34),u=n(167),c=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,p=f.toString,d=h.hasOwnProperty,v=RegExp("^"+p.call(d).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(166),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(36),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(170),o=n(178),a=n(181),s=n(182),u=n(183);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(){this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(171),o=n(148),a=n(161);t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(172),o=n(174),a=n(175),s=n(176),u=n(177);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{}}var i=n(173);t.exports=r},function(t,e,n){var r=n(162),i=r(Object,"create");t.exports=i},function(t,e){function n(t){return this.has(t)&&delete this.__data__[t]}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(173),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(173),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return n[t]=i&&void 0===e?o:e,this}var i=n(173),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){return i(this,t)["delete"](t)}var i=n(179);t.exports=r},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(180);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(179);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(179);t.exports=r},function(t,e,n){function r(t,e){return i(this,t).set(t,e),this}var i=n(179);t.exports=r},function(t,e,n){function r(t,e,n,s,u){return t===e||(null==t||null==e||!o(t)&&!a(e)?t!==t&&e!==e:i(t,e,r,n,s,u))}var i=n(185),o=n(34),a=n(40);t.exports=r},function(t,e,n){function r(t,e,n,r,g,y){var _=c(t),b=c(e),w=d,E=d;_||(w=u(t),w=w==p?v:w),b||(E=u(e),E=E==p?v:E);var x=w==v&&!l(t),A=E==v&&!l(e),T=w==E;if(T&&!x)return y||(y=new i),_||f(t)?o(t,e,n,r,g,y):a(t,e,w,n,r,g,y);if(!(g&h)){var S=x&&m.call(t,"__wrapped__"),R=A&&m.call(e,"__wrapped__");if(S||R){var M=S?t.value():t,C=R?e.value():e;return y||(y=new i),n(M,C,r,g,y)}}return!!T&&(y||(y=new i),s(t,e,n,r,g,y))}var i=n(147),o=n(186),a=n(191),s=n(196),u=n(210),c=n(204),l=n(164),f=n(216),h=2,p="[object Arguments]",d="[object Array]",v="[object Object]",g=Object.prototype,m=g.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,r,u,c){var l=u&s,f=t.length,h=e.length;if(f!=h&&!(l&&h>f))return!1;var p=c.get(t);if(p&&c.get(e))return p==e;var d=-1,v=!0,g=u&a?new i:void 0;for(c.set(t,e),c.set(e,t);++d<f;){var m=t[d],y=e[d];if(r)var _=l?r(y,m,d,e,t,c):r(m,y,d,t,e,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!o(e,function(t,e){if(!g.has(e)&&(m===t||n(m,t,r,u,c)))return g.add(e)})){v=!1;break}}else if(m!==y&&!n(m,y,r,u,c)){v=!1;break}}return c["delete"](t),c["delete"](e),v}var i=n(187),o=n(190),a=1,s=2;t.exports=r},function(t,e,n){function r(t){var e=-1,n=t?t.length:0;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(169),o=n(188),a=n(189);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){function r(t,e,n,r,i,x,T){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!r(new o(t),new o(e)));case h:case p:case g:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case _:return t==e+"";case v:var S=u;case y:var R=x&f;if(S||(S=c),t.size!=e.size&&!R)return!1;var M=T.get(t);if(M)return M==e;x|=l,T.set(t,e);var C=s(S(t),S(e),r,i,x,T);return T["delete"](t),C;case b:if(A)return A.call(t)==A.call(e)}return!1}var i=n(192),o=n(193),a=n(152),s=n(186),u=n(194),c=n(195),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",v="[object Map]",g="[object Number]",m="[object RegExp]",y="[object Set]",_="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",x=i?i.prototype:void 0,A=x?x.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(36),i=r.Symbol;t.exports=i},function(t,e,n){var r=n(36),i=r.Uint8Array;t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,u){var c=a&o,l=i(t),f=l.length,h=i(e),p=h.length;if(f!=p&&!c)return!1;for(var d=f;d--;){var v=l[d];if(!(c?v in e:s.call(e,v)))return!1}var g=u.get(t);if(g&&u.get(e))return g==e;var m=!0;u.set(t,e),u.set(e,t);for(var y=c;++d<f;){v=l[d];var _=t[v],b=e[v];if(r)var w=c?r(b,_,v,e,t,u):r(_,b,v,t,e,u);if(!(void 0===w?_===b||n(_,b,r,a,u):w)){m=!1;break}y||(y="constructor"==v)}if(m&&!y){var E=t.constructor,x=e.constructor;E!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x)&&(m=!1)}return u["delete"](t),u["delete"](e),m}var i=n(197),o=2,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(198),o=n(206),a=n(202);t.exports=r},function(t,e,n){function r(t,e){var n=a(t)||o(t)?i(t.length,String):[],r=n.length,u=!!r;for(var l in t)!e&&!c.call(t,l)||u&&("length"==l||s(l,r))||n.push(l);return n}var i=n(199),o=n(200),a=n(204),s=n(205),u=Object.prototype,c=u.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return i(t)&&s.call(t,"callee")&&(!c.call(t,"callee")||u.call(t)==o)}var i=n(201),o="[object Arguments]",a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=a.propertyIsEnumerable;t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(202),o=n(40);t.exports=r},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(115),o=n(203);t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){function n(t,e){return e=null==e?r:e,!!e&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(207),o=n(208),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(209),i=r(Object.keys,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(211),i=n(161),o=n(212),a=n(213),s=n(214),u=n(215),c=n(167),l="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",v="[object DataView]",g=Object.prototype,m=g.toString,y=c(r),_=c(i),b=c(o),w=c(a),E=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=v||i&&x(new i)!=l||o&&x(o.resolve())!=h||a&&x(new a)!=p||s&&x(new s)!=d)&&(x=function(t){var e=m.call(t),n=e==f?t.constructor:void 0,r=n?c(n):void 0;if(r)switch(r){case y:return v;case _:return l;case b:return h;case w:return p;case E:return d}return e}),t.exports=x},function(t,e,n){var r=n(162),i=n(36),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(162),i=n(36),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(162),i=n(36),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(162),i=n(36),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){var r=n(217),i=n(218),o=n(219),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t.length)&&!!O[I.call(t)]}var i=n(203),o=n(40),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",v="[object RegExp]",g="[object Set]",m="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",C="[object Uint32Array]",O={};O[w]=O[E]=O[x]=O[A]=O[T]=O[S]=O[R]=O[M]=O[C]=!0,O[a]=O[s]=O[_]=O[u]=O[b]=O[c]=O[l]=O[f]=O[h]=O[p]=O[d]=O[v]=O[g]=O[m]=O[y]=!1;var P=Object.prototype,I=P.toString;t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(37),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(220)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(222),o=n(197);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(34);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,void 0,f|h)}}var i=n(184),o=n(225),a=n(234),s=n(232),u=n(222),c=n(223),l=n(233),f=1,h=2;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(226);t.exports=r},function(t,e,n){function r(t,e){e=o(e,t)?[e]:i(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}var i=n(227),o=n(232),a=n(233);t.exports=r},function(t,e,n){function r(t){return i(t)?t:o(t)}var i=n(204),o=n(228);t.exports=r},function(t,e,n){var r=n(229),i=n(230),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,u=r(function(t){t=i(t);var e=[];return o.test(t)&&e.push(""),t.replace(a,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e});t.exports=u},function(t,e,n){function r(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(r.Cache||i),n}var i=n(169),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(231);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(o(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}var i=n(192),o=n(39),a=1/0,s=i?i.prototype:void 0,u=s?s.toString:void 0;t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(204),o=n(39),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(39),o=1/0;t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(235),o=n(236);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=u(e,t)?[e]:i(e);for(var r,f=-1,h=e.length;++f<h;){var p=l(e[f]);if(!(r=null!=t&&n(t,p)))break;t=t[p]}if(r)return r;var h=t?t.length:0;return!!h&&c(h)&&s(p,h)&&(a(t)||o(t))}var i=n(227),o=n(200),a=n(204),s=n(205),u=n(232),c=n(203),l=n(233);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t);
}var i=n(239),o=n(240),a=n(232),s=n(233);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(226);t.exports=r},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(242);t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=i(t),t===o||t===-o){var e=t<0?-1:1;return e*a}return t===t?t:0}var i=n(38),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=1,r=t.length;n<r;++n)u(t[n-1][1],t[n-1][0],e,(0,s.step)(t[n]));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.weightedMean=e.mean=e.weightedSum=e.sum=e.peakPos=e.peak=e.logRates=void 0,e.orderLogRates=r;var i=n(244),o=n(245),a=n(246),s=n(116),u=e.logRates=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?new Uint8Array(t.length):arguments[3];return(0,o.mapList)(function(t,r){return(0,i.eulerDyDt)(t,e[r],n)},t,r)},c=(e.peak=function(t){return(0,a.reduceList)(function(t,e){return Math.abs(e)>Math.abs(t)?e:t},t,0)},e.peakPos=function(t){return(0,a.reduceList)(function(t,e,n){return Math.abs(e)>Math.abs(t.peak)&&(t.peak=e,t.pos=n),t},t,{peak:0,pos:-1})},e.sum=function(t){return(0,a.reduceList)(function(t,e){return t+Math.abs(e)},t,0)}),l=e.weightedSum=function(t){var e=arguments.length<=1||void 0===arguments[1]?.5:arguments[1];return(0,a.reduceList)(function(n,r,i){return n+Math.abs(r*(1-Math.abs(i/(t.length-1)-e)))},t,0)};e.mean=function(t){return c(t)/t.length},e.weightedMean=function(t){var e=arguments.length<=1||void 0===arguments[1]?.5:arguments[1];return l(t,e)/t.length}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.euler=function(t,e,n){return e+t*n};e.eulerDyDt=function(t,e,n){return(e-t)/n};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.mapList=void 0;var i=n(246),o=n(140),a=r(o),s=(e.mapList=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return(0,i.reduceList)(function(n,r,i){return n[i]=t(r,i,e),n},e,n)},e.map=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return(0,i.reduceList)(function(n,r,i,o){return n[r]=t(e[r],r,e,i,o),n},(0,a["default"])(e),n)});e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=e.reduceList=void 0;var i=n(140),o=r(i),a=e.reduceList=function(t,e,n){return void 0===n?Array.prototype.reduce.call(e,t):Array.prototype.reduce.call(e,t,n)},s=e.reduce=function(t,e,n){return a(void 0===n?function(n,r,i,o){return t(i?n:e[n],e[r],r,e,i,o)}:function(n,r,i,o){return t(n,e[r],r,e,i,o)},(0,o["default"])(e),n)};e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FlowLines=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(248),s=r(a),u=n(246),c=r(u),l=e.FlowLines=function(){function t(e){i(this,t),this.gl=e,this.active={}}return o(t,[{key:"get",value:function(t,e){return this.active[t]||(this.active[t]=new s["default"](this.gl,e))}},{key:"trim",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,c["default"])(function(t,n,r,i){return 0===n.trim.apply(n,e)&&delete i[r]?t:t+1},this.active,0)}}]),t}();e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.FlowLine=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(249),u=r(s),c=n(259),l=r(c),f=n(260),h=r(f),p=function(t,e){return t<0?e+t:t%e},d=e.FlowLine=function(){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),this.line=new u["default"](e,o({shader:[l["default"],h["default"]],uniforms:o({},(0,s.defaults)().uniforms,{speed:3,maxSpeed:.01,rad:.1,crestShape:.6}),attributes:o({},(0,s.defaults)().attributes,{previous:{getSize:function(t){return t.vertSize}},time:{size:1},dt:{size:1}})},n)),this.times=n.times||[]}return a(t,[{key:"update",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.setAttributes:arguments[0],e=this.line.closed&&this.line.path.length?this.times.concat(this.times[0]):this.times;return this.line.update(function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.apply(void 0,[e].concat(r))}),this}},{key:"draw",value:function(){var t;return(t=this.line).draw.apply(t,arguments),this}},{key:"setAttributes",value:function(t,e,n,r,i){i.setAttributes(e,n,r,i);var o=i.closed?p(n.path-1,i.path.length):Math.max(0,n.path-1);r.previous.data.set(i.path[o],n.data*r.previous.size);var a=t[n.path];r.time.data[n.data]=a,r.dt.data[n.data]=a-t[o]}},{key:"add",value:function(t,e){return this.times.push(t),this.line.path.push(e),this}},{key:"insert",value:function(t,e){var n=this.findIndex(t);return this.times.splice(n,0,t),this.line.path.splice(n,0,e),this}},{key:"at",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.time=this.times[t],e.point=this.line.path[t],e}},{key:"findIndex",value:function(t){var e=this.times.findIndex(function(e){return e>t});return e<0?this.times.length:e}},{key:"trim",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?Date.now():arguments[1],n=this.times,r=this.line.path,i=e-t;n[0]<i;)n.shift(),r.shift();return this.length}},{key:"length",get:function(){return this.times.length}}]),t}();e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Line=e.defaults=void 0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(101),c=r(u),l=n(250),f=r(l),h=n(51),p=r(h),d=n(139),v=r(d),g=n(257),m=r(g),y=n(258),_=r(y),b=e.defaults=function(){return{shader:[m["default"],_["default"]],uniforms:{color:[1,1,1,1],rad:.1,viewSize:[1,1]},attributes:null,vertNum:2,vertSize:2,path:[],closed:!1}},w=e.Line=function(){function t(e,n){var r=this;o(this,t);var s=a({},b(),n);this.gl=e,this.uniforms=s.uniforms,this.shader=Array.isArray(s.shader)?p["default"].apply(void 0,[e].concat(i(s.shader))):s.shader,this.vertNum=s.vertNum,this.vertSize=s.vertSize,this.path=s.path||[],this.closed=s.closed,this.attributes=a({position:{data:null,getSize:function(){return r.vertSize}},normal:{data:null,getSize:function(){return r.vertSize}},miter:{data:null,size:1}},s.attributes),this.drawnPath=this.drawnNormals=null,this.geom=(0,c["default"])(e)}return s(t,[{key:"update",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.setAttributes:arguments[0];this.drawnPath=this.path,this.drawnNormals=(0,f["default"])(this.drawnPath,this.closed),this.closed&&this.path.length&&(this.drawnPath=this.drawnPath.concat(this.drawnPath[0]),this.drawnNormals.push(this.drawnNormals[0])),this.initAttributes();for(var n=this.drawnPath,r=this.drawnNormals,i=this.attributes,o=this.vertNum,a={},s={},u=0,c=r.length;u<c;++u){var l=r[u];a.point=n[u],a.normal=l[0],a.miter=l[1],s.path=u,s.point=u*o;for(var h=0;h<o;++h)s.vert=h,s.data=s.point+h,e(a,s,i,this)}return(0,v["default"])(function(e,n){return t.geom.attr(n,e.data,{size:e.size})},i),this}},{key:"draw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.gl.TRIANGLE_STRIP:arguments[0];if(this.path.length>0){var e;this.geom.bind(this.shader),Object.assign(this.shader.uniforms,this.uniforms);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(e=this.geom).draw.apply(e,[t].concat(r))}return this}},{key:"initAttributes",value:function(){var t=this,e=this.drawnPath.length*this.vertNum;return(0,v["default"])(function(n){n.getSize&&(n.size=n.getSize(t));var r=e*n.size;n.data&&n.data.length===r||(n.data=new Float32Array(r))},this.attributes),this}},{key:"setAttributes",value:function(t,e,n){n.position.data.set(t.point,e.data*n.position.size),n.normal.data.set(t.normal,e.data*n.normal.size),n.miter.data[e.data]=t.miter*(e.data%2*2-1)}}]),t}();e["default"]=w},function(t,e,n){function r(t,e,n){t.push([[e[0],e[1]],n])}var i=n(251),o=[0,0],a=[0,0],s=[0,0],u=[0,0];t.exports=function(t,e){var n=null,c=[];e&&(t=t.slice(),t.push(t[0]));for(var l=t.length,f=1;f<l;f++){var h=t[f-1],p=t[f],d=f<t.length-1?t[f+1]:null;if(i.direction(o,p,h),n||(n=[0,0],i.normal(n,o)),1===f&&r(c,n,1),d){i.direction(a,d,p);var v=i.computeMiter(s,u,o,a,1);r(c,u,v)}else i.normal(n,o),r(c,n,1)}if(t.length>2&&e){var g=t[l-2],m=t[0],y=t[1];i.direction(o,m,g),i.direction(a,y,m),i.normal(n,o);var _=i.computeMiter(s,u,o,a,1);c[0][0]=u.slice(),c[l-1][0]=u.slice(),c[0][1]=_,c[l-1][1]=_,c.pop()}return c}},function(t,e,n){var r=n(252),i=n(253),o=n(254),a=n(255),s=n(256),u=[0,0];t.exports.computeMiter=function(t,e,n,a,c){return r(t,n,a),o(t,t),i(e,-t[1],t[0]),i(u,-n[1],n[0]),c/s(e,u)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),o(t,t),t}},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e,t[1]=n,t}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=n},function(t,e){t.exports="/**\n * Drawing lines in a vertex shader, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 normal;\nattribute float miter;\n\nuniform float rad;\nuniform vec2 viewSize;\n\nvarying float sdf;\n\n/**\n * Drawing lines, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius, in the direction of miter.\n */\n\nvec2 expand(vec2 position, vec2 normal, float rad, float miter) {\n    return position+(normal*rad*miter);\n}\n\nvoid main() {\n    vec2 pos = expand(position, normal, rad, miter);\n\n    sdf = sign(miter);\n\n    gl_Position = vec4(pos*viewSize, 0.0, 1.0);\n}\n"},function(t,e){t.exports="/**\n * For a smooth line, check distance from line per-fragment.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvarying float sdf;\n\nvoid main() {\n    gl_FragColor = vec4(color.rgb, color.a-abs(sdf));\n}\n"},function(t,e){t.exports="/**\n * Drawing lines in a vertex shader, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius.\n */\n\nprecision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position;\nattribute vec2 normal;\nattribute float miter;\n\nuniform float rad;\nuniform vec2 viewSize;\n\nuniform float speed;\nuniform float maxSpeed;\n// uniform float time;\n\nattribute vec2 previous;\nattribute float time;\nattribute float dt;\n\nvarying vec4 values;\nvarying vec2 crest;\nvarying float sdf;\n\n/**\n * @requires {float} time The current time in ms\n */\n\nvec4 flow(vec2 vel) {\n    // Faster particles leave a greater influence (opacity).\n    // Linear interpolation - inaccurate for vectors, will it be OK without\n    // sudden turns, or do we need a per-fragment lookup?\n    return vec4(vel, time, length(vel));\n}\n\nvec4 flow(vec2 vel, float maxSpeed) {\n    vec4 values = flow(vel);\n\n    return vec4(values.xyz, min(values.a/maxSpeed, 1.0));\n}\n\n// #pragma glslify: flow = require(../flow/apply/screen, time = time, flowDecay = 0.001)\n\nvec2 perp(vec2 vec) {\n    return vec2(-vec.y, vec.x);\n}\n\nvec2 perp(vec2 vec, bool anti) {\n    return ((anti)? vec2(vec.y, -vec.x) : perp(vec));\n}\n\n/**\n * Drawing lines, from https://mattdesl.svbtle.com/drawing-lines-is-hard#expanding-in-a-vertex-shader_2\n * Pushes a point along its normal by its radius, in the direction of miter.\n */\n\nvec2 expand(vec2 position, vec2 normal, float rad, float miter) {\n    return position+(normal*rad*miter);\n}\n\nvoid main() {\n    sdf = sign(miter);\n\n    float rate = speed/max(dt, 1.0);\n\n    // @note For some reason, using these have different effects.\n    vec2 vel = (position-previous)*rate;\n    // vec2 vel = perp(normal, true)*length(position-previous)*rate;\n\n    values = flow(vel, maxSpeed);\n\n    crest = normal*miter;\n\n    vec2 vert = expand(position, normal, rad*values.a, miter);\n\n    gl_Position = vec4(vert*viewSize, 0.0, 1.0);\n}\n"},function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\n// Where the crest limit is (0 is the path direction, 1 is perpendicular/away).\nuniform float crestShape;\n\nvarying vec4 values;\nvarying vec2 crest;\nvarying float sdf;\n\nvoid main() {\n    float d = abs(sdf);\n    float speed = length(values.rg)*(1.0-d);\n\n    vec2 vel = normalize(mix(values.rg, crest, d*crestShape))*speed;\n\n    gl_FragColor = vec4(vel, values.b, values.a-d);\n}\n"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Sequencer=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(262),s=r(a),u=n(266),c=r(u),l=n(269),f=r(l),h=n(139),p=r(h),d=e.Sequencer=function(){function t(e){i(this,t),this.timeline=new s["default"](e)}return o(t,[{key:"play",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.timeline.play(t);return n&&(Object.assign(e,n.apply),(0,c["default"])(n,e),(0,p["default"])(function(r){return r(e,t,n)},n.call)),e}},{key:"easeTo",value:function(t){for(var e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.easeJoin((e=this.timeline).add.apply(e,r),t)}},{key:"smoothTo",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.easeTo.apply(this,[1].concat(e))}},{key:"flipTo",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.easeTo.apply(this,[-1].concat(e))}},{key:"easeOver",value:function(t,e){for(var n,r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return this.easeJoin((n=this.timeline).addSpan.apply(n,[t].concat(i)),e)}},{key:"smoothOver",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.easeOver.apply(this,[t,1].concat(n))}},{key:"flipOver",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.easeOver.apply(this,[t,-1].concat(n))}},{key:"easeJoin",value:function(t,e){if(t>0){var n=this.timeline.frames[t],r=n.ease&&n.ease.length?n.ease:[0,1];r.splice(1,0,(0,f["default"])(this.timeline.frames[t-1].ease,e)),n.ease=r}return this}}]),t}();e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e,n,r){return arguments.length>1?{to:t,time:e,ease:n,call:r}:t}Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=e.changed=e.within=e.offset=e.sort=e.order=void 0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.makeFrame=a;var c=n(263),l=r(c),f=n(264),h=r(f),p=n(139),d=r(p),v=n(265),g=r(v),m=n(140),y=r(m),_=e.order=function(t,e){return t.time>e.time?1:-1},b=e.sort=function(t){return t.sort(_)},w=e.offset=function(t,e,n){var r=Math.min(t.time,e.time);return(0,l["default"])((n-r)/(Math.max(t.time,e.time)-r)||0,0,1)},E=e.within=function(t,e,n){return Math.min(t.time,e.time)<n&&n<=Math.max(t.time,e.time)},x=e.changed=function(t,e){return t===e?null:(0,y["default"])(t).length&&(0,y["default"])(e).length?(0,g["default"])(function(e,n){return e!==t[n]},e):e},A=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if((0,h["default"])(t.to)||(e.apply=Object.assign(e.apply||{},t.to)),t.call&&t.call.length){var n;(n=e.call||(e.call=[])).push.apply(n,o(t.call))}return e},T=e.Timeline=function(){function t(e,n){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=arguments.length<=3||void 0===arguments[3]||arguments[3];i(this,t),this.frames=this.setup(e,n),this.time=0,this.gap=-1,this.span=void 0,this.symmetric=o,this.rewind=r}return u(t,[{key:"setup",value:function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments.length<=1||void 0===arguments[1]||arguments[1];return this.frames=b(e?[{time:-(1/0)}].concat(o(t),[{time:1/0}]):[].concat(o(t)))}},{key:"splice",value:function(t){var e=this;return(0,d["default"])(function(t){return e.add(t)},t)}},{key:"indexOf",value:function(t){var e=this.frames.findIndex(function(e){return _(e,t)>0});return e<0?this.frames.length:e}},{key:"insertFrame",value:function(t,e){return this.frames.splice(t,0,e),this}},{key:"add",value:function(){var t=a.apply(void 0,arguments),e=this.indexOf(t);return this.insertFrame(e,t),e}},{key:"addSpan",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this.add.apply(this,n),o=this.frames[i].time-t,a=this.frames[i-1];return t&&(!a||a.time<o)&&this.add(null,o),i}},{key:"seek",value:function(t){return this.valid()&&E(this.span.past,this.span.next,t)?this.span.t=w(this.span.past,this.span.next,t):this.setTime(t),this.span}},{key:"play",value:function(t){var e=Math.max(this.gap,.5),n=this.seek(t);if(this.valid()){var r={},i=this.gap-e,o=Math.abs(i);if(o>0)for(var a=Math.sign(i),u=a<0?Math.floor:Math.ceil,c=0;c<o;++c)A(this.frames[u(e+c*a)],r);n=s({},n,r)}return n}},{key:"setTime",value:function(t){var e=this.gapAt(t);return this.span=this.spanGapAt(t,e,this.span),this.gap=e,this.time=t,this}},{key:"gapAt",value:function(t){if(this.frames.length<2)return-1;var e=this.frames.findIndex(function(e){return e.time>t});return(e<0?this.frames.length-1:Math.max(e,1))-.5}},{key:"spanGapAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.gapAt(t):arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e>=0){var r=this.frames[Math.floor(e)],i=this.frames[Math.ceil(e)],o=i.ease;if(this.rewind){this.symmetric||(o=r.ease);var a=r;r=i,i=a}n.past=r,n.next=i,n.a=r.to,n.b=i.to,n.t=w(r,i,t),n.ease=o}else n=void 0;return n}},{key:"valid",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.gap:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.span:arguments[1];return t>0&&e}},{key:"minFrame",value:function(){var t=a.apply(void 0,arguments),e=this.indexOf(t),n=this.frames[e-1],r=n&&n.to?x(n,t.to):null,i=this.frames[e+1],o=i&&i.to?x(i,t.to):null,u=(0,y["default"])(r).length||(0,y["default"])(o).length?s({},r,o):r;return s({},t,{to:u})}},{key:"start",value:function(){return this.frames.length?this.frames[0].time:0}},{key:"end",value:function(){return this.frames.length?this.frames[this.frames.length-1].time:0}},{key:"duration",value:function(){return this.start()-this.end()}}]),t}();e["default"]=T},function(t,e){function n(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}t.exports=n},function(t,e,n){function r(t){return"number"==typeof t||i(t)&&s.call(t)==o}var i=n(40),o="[object Number]",a=Object.prototype,s=a.toString;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.filter=e.filterList=void 0;var i=n(246),o=n(140),a=r(o),s=(e.filterList=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return(0,i.reduceList)(function(n,r,i){return t(r,i,e)&&n.push(r),n},e,n)},e.filter=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,i.reduceList)(function(n,r,i,o){var a=e[r];return t(a,r,e,i,o)&&((n||(n={}))[r]=a),n},(0,a["default"])(e),n)});e["default"]=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.tween=e.tweenProps=e.tweenValue=void 0;var i=n(267),o=r(i),a=n(268),s=r(a),u=n(264),c=r(u),l=n(245),f=function(t,e,n){var r=e&&e[t];return(0,c["default"])(r)?r:n&&n[t]},h=e.tweenValue=function(t,e,n,r){return t!==e&&(0,c["default"])(t)?(0,o["default"])(t,e,r?(0,s["default"])(r,n):n):e},p=e.tweenProps=function(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];return e?(0,l.map)(function(o,a){var s=f(a,t,i),u=f(a,e,i);return(0,c["default"])(s)&&(0,c["default"])(u)?h(s,u,n,r):n<1?s:u},e,i):i},d=e.tween=function v(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return r.length?((0,c["default"])(e)?h:p).apply(void 0,[t,e].concat(r)):v(t.a,t.b,t.t,t.ease,e)};e["default"]=d},function(t,e){function n(t,e,n){return t*(1-n)+e*n}t.exports=n},function(t,e){function n(t,e){return r(t.length)(t,e)}function r(t){if(t=0|+t,!t)throw new Error("Cannot create a interpolator with no elements");if(u[t])return u[t];for(var e=["var ut = 1 - t",""],n=t;n--;){for(var r=0;r<n;r+=1)n+1===t?e.push("var p"+r+" = arr["+r+"] * ut + arr["+(r+1)+"] * t"):n>1?e.push("p"+r+" = p"+r+" * ut + p"+(r+1)+" * t"):e.push("return p"+r+" * ut + p"+(r+1)+" * t");n>1&&e.push("")}return e=["return function bezier"+t+"(arr, t) {",e.map(function(t){return"  "+t}).join("\n"),"}"].join("\n"),Function(e)()}function i(t){return t[0]}function o(t,e){return t[0]+(t[1]-t[0])*e}function a(t,e){var n=1-e;return(t[0]*n+t[1]*e)*n+(t[1]*n+t[2]*e)*e}function s(t,e){var n=1-e,r=t[1]*n+t[2]*e;return((t[0]*n+t[1]*e)*n+r*e)*n+(r*n+(t[2]*n+t[3]*e)*e)*e}var u={1:i,2:o,3:a,4:s};t.exports=n,t.exports.prepare=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.join=function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];return t&&0!==t.length?1===t.length?t[0]:(t[t.length-1]-t[t.length-2])*e:0};e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.part=function r(t){return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length?r(function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(void 0,n.concat(r))}):t()}};e.curry=function i(t){var e=arguments.length<=1||void 0===arguments[1]?t.length:arguments[1];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e>r.length?i(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(void 0,r.concat(n))},e-r.length):t.apply(void 0,r)}};e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){for(var t=s.indexOf(document.readyState);c<=t;++c){var e=u[s[c]];e&&e()}}n(272);var o=n(2),a=r(o),s=["loading","interactive","complete"],u={loading:function(){document.addEventListener("readystatechange",i)},interactive:function(){(0,a["default"])(document.querySelector("canvas")),document.removeEventListener("readystatechange",i)}},c=0;i()},function(t,e,n){(function(t){"use strict";function e(t,e,n){t[e]||Object[r](t,e,{writable:!0,configurable:!0,value:n})}if(n(273),n(564),n(565),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,function(){return this}())},function(t,e,n){n(274),n(323),n(324),n(325),n(326),n(328),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(341),n(343),n(345),n(347),n(350),n(351),n(352),n(356),n(358),n(360),n(363),n(364),n(365),n(366),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(376),n(377),n(378),n(380),n(381),n(382),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(402),n(403),n(407),n(408),n(409),n(410),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(430),n(431),n(437),n(438),n(440),n(441),n(442),n(446),n(447),n(448),n(449),n(450),n(452),n(453),n(454),n(455),n(458),n(460),n(461),n(462),n(464),n(466),n(468),n(469),n(470),n(472),n(473),n(474),n(475),n(482),n(485),n(486),n(488),n(489),n(492),n(493),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(515),n(516),n(517),n(518),n(519),n(520),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(531),n(532),n(534),n(535),n(536),n(537),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(562),n(563),t.exports=n(280)},function(t,e,n){"use strict";var r=n(275),i=n(276),o=n(277),a=n(279),s=n(289),u=n(293).KEY,c=n(278),l=n(294),f=n(295),h=n(290),p=n(296),d=n(297),v=n(298),g=n(300),m=n(313),y=n(316),_=n(283),b=n(303),w=n(287),E=n(288),x=n(317),A=n(320),T=n(322),S=n(282),R=n(301),M=T.f,C=S.f,O=A.f,P=r.Symbol,I=r.JSON,N=I&&I.stringify,F="prototype",k=p("_hidden"),L=p("toPrimitive"),j={}.propertyIsEnumerable,D=l("symbol-registry"),U=l("symbols"),B=l("op-symbols"),V=Object[F],z="function"==typeof P,G=r.QObject,X=!G||!G[F]||!G[F].findChild,H=o&&c(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(V,e);r&&delete V[e],C(t,e,n),r&&t!==V&&C(V,e,r)}:C,Y=function(t){var e=U[t]=x(P[F]);return e._k=t,e},q=z&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},W=function(t,e,n){return t===V&&W(B,e,n),_(t),e=w(e,!0),_(n),i(U,e)?(n.enumerable?(i(t,k)&&t[k][e]&&(t[k][e]=!1),n=x(n,{enumerable:E(0,!1)})):(i(t,k)||C(t,k,E(1,{})),t[k][e]=!0),H(t,e,n)):C(t,e,n)},K=function(t,e){_(t);for(var n,r=m(e=b(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},J=function(t,e){return void 0===e?x(t):K(x(t),e)},$=function(t){var e=j.call(this,t=w(t,!0));return!(this===V&&i(U,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,k)&&this[k][t])||e)},Z=function(t,e){if(t=b(t),e=w(e,!0),t!==V||!i(U,e)||i(B,e)){var n=M(t,e);return!n||!i(U,e)||i(t,k)&&t[k][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=O(b(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==k||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===V,r=O(n?B:b(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(V,e)||o.push(U[e]);return o};z||(P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(B,n),i(this,k)&&i(this[k],t)&&(this[k][t]=!1),H(this,t,E(1,n))};return o&&X&&H(V,t,{configurable:!0,set:e}),Y(t)},s(P[F],"toString",function(){return this._k}),T.f=Z,S.f=W,n(321).f=A.f=Q,n(315).f=$,n(314).f=tt,o&&!n(299)&&s(V,"propertyIsEnumerable",$,!0),d.f=function(t){return Y(p(t))}),a(a.G+a.W+a.F*!z,{Symbol:P});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var et=R(p.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!z,"Symbol",{"for":function(t){return i(D,t+="")?D[t]:D[t]=P(t)},keyFor:function(t){if(q(t))return g(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!z,"Object",{create:J,defineProperty:W,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!z||c(function(){var t=P();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,N.apply(I,r)}}}),P[F][L]||n(281)(P[F],L,P[F].valueOf),f(P,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(278)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(275),i=n(280),o=n(281),a=n(289),s=n(291),u="prototype",c=function(t,e,n){var l,f,h,p,d=t&c.F,v=t&c.G,g=t&c.S,m=t&c.P,y=t&c.B,_=v?r:g?r[e]||(r[e]={}):(r[e]||{})[u],b=v?i:i[e]||(i[e]={}),w=b[u]||(b[u]={});v&&(n=e);for(l in n)f=!d&&_&&void 0!==_[l],h=(f?_:n)[l],p=y&&f?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,_&&a(_,l,h,t&c.U),b[l]!=h&&o(b,l,p),m&&w[l]!=h&&(w[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(282),i=n(288);t.exports=n(277)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(283),i=n(285),o=n(287),a=Object.defineProperty;e.f=n(277)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(284);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){
return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(277)&&!n(278)(function(){return 7!=Object.defineProperty(n(286)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(284),i=n(275).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(284);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(275),i=n(281),o=n(276),a=n(290)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(280).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(292);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(290)("meta"),i=n(284),o=n(276),a=n(282).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(278)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},p=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:p}},function(t,e,n){var r=n(275),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(282).f,i=n(276),o=n(296)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(294)("wks"),i=n(290),o=n(275).Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},function(t,e,n){e.f=n(296)},function(t,e,n){var r=n(275),i=n(280),o=n(299),a=n(297),s=n(282).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){t.exports=!1},function(t,e,n){var r=n(301),i=n(303);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){var r=n(302),i=n(312);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(276),i=n(303),o=n(307)(!1),a=n(311)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(304),i=n(306);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(305);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(303),i=n(308),o=n(310);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(309),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(309),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(294)("keys"),i=n(290);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(301),i=n(314),o=n(315);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(305);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(283),i=n(318),o=n(312),a=n(311)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(286)("iframe"),r=o.length,i="<",a=">";for(e.style.display="none",n(319).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(282),i=n(283),o=n(301);t.exports=n(277)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){t.exports=n(275).document&&document.documentElement},function(t,e,n){var r=n(303),i=n(321).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(302),i=n(312).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(315),i=n(288),o=n(303),a=n(287),s=n(276),u=n(285),c=Object.getOwnPropertyDescriptor;e.f=n(277)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(279);r(r.S,"Object",{create:n(317)})},function(t,e,n){var r=n(279);r(r.S+r.F*!n(277),"Object",{defineProperty:n(282).f})},function(t,e,n){var r=n(279);r(r.S+r.F*!n(277),"Object",{defineProperties:n(318)})},function(t,e,n){var r=n(303),i=n(322).f;n(327)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(279),i=n(280),o=n(278);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(329),i=n(330);n(327)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(306);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(276),i=n(329),o=n(311)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(329),i=n(301);n(327)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(327)("getOwnPropertyNames",function(){return n(320).f})},function(t,e,n){var r=n(284),i=n(293).onFreeze;n(327)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(284),i=n(293).onFreeze;n(327)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(284),i=n(293).onFreeze;n(327)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(284);n(327)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(284);n(327)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(284);n(327)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(279);r(r.S+r.F,"Object",{assign:n(340)})},function(t,e,n){"use strict";var r=n(301),i=n(314),o=n(315),a=n(329),s=n(304),u=Object.assign;t.exports=!u||n(278)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var h,p=s(arguments[c++]),d=l?r(p).concat(l(p)):r(p),v=d.length,g=0;v>g;)f.call(p,h=d[g++])&&(n[h]=p[h]);return n}:u},function(t,e,n){var r=n(279);r(r.S,"Object",{is:n(342)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){var r=n(279);r(r.S,"Object",{setPrototypeOf:n(344).set})},function(t,e,n){var r=n(284),i=n(283),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(291)(Function.call,n(322).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){"use strict";var r=n(346),i={};i[n(296)("toStringTag")]="z",i+""!="[object z]"&&n(289)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(305),i=n(296)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(279);r(r.P,"Function",{bind:n(348)})},function(t,e,n){"use strict";var r=n(292),i=n(284),o=n(349),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(282).f,i=n(288),o=n(276),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name",c=Object.isExtensible||function(){return!0};u in a||n(277)&&r(a,u,{configurable:!0,get:function(){try{var t=this,e=(""+t).match(s)[1];return o(t,u)||!c(t)||r(t,u,i(5,e)),e}catch(n){return""}}})},function(t,e,n){"use strict";var r=n(284),i=n(330),o=n(296)("hasInstance"),a=Function.prototype;o in a||n(282).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(279),i=n(353);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(275).parseInt,i=n(354).trim,o=n(355),a=/^[\-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(279),i=n(306),o=n(278),a=n(355),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),f=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(h):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=f.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},function(t,e){t.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(279),i=n(357);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){var r=n(275).parseFloat,i=n(354).trim;t.exports=1/r(n(355)+"-0")!==-(1/0)?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){"use strict";var r=n(275),i=n(276),o=n(305),a=n(359),s=n(287),u=n(278),c=n(321).f,l=n(322).f,f=n(282).f,h=n(354).trim,p="Number",d=r[p],v=d,g=d.prototype,m=o(n(317)(g))==p,y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(m?u(function(){g.valueOf.call(n)}):o(n)!=p)?a(new v(_(e)),n,d):_(e)};for(var b,w=n(277)?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;w.length>E;E++)i(v,b=w[E])&&!i(d,b)&&f(d,b,l(v,b));d.prototype=g,g.constructor=d,n(289)(r,p,d)}},function(t,e,n){var r=n(284),i=n(344).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(279),i=n(309),o=n(361),a=n(362),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f="0",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call(f,7-n.length)+n}return e},v=function(t,e,n){return 0===e?n:e%2===1?v(t,e-1,n*t):v(t*t,e/2,n)},g=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(278)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),m="",y=f;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(e=g(u*v(2,69,1))-69,n=e<0?u*v(2,-e,1):u/v(2,e,1),n*=4503599627370496,e=52-e,e>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(v(10,r,1),0),r=e-1;r>=23;)p(1<<23),r-=23;p(1<<r),h(1,1),p(2),y=d()}else h(0,n),h(1<<-e,0),y=d()+a.call(f,c);return c>0?(s=y.length,y=m+(s<=c?"0."+a.call(f,c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=m+y,y}})},function(t,e,n){var r=n(305);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){"use strict";var r=n(309),i=n(306);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(279),i=n(278),o=n(361),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(279);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(279),i=n(275).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(279);r(r.S,"Number",{isInteger:n(367)})},function(t,e,n){var r=n(284),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(279);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(279),i=n(367),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(279);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(279);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(279),i=n(357);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(279),i=n(353);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(279),i=n(375),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(279),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(279),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(279),i=n(379);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(279);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(279),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(279),i=n(383);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(279),i=n(379),o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126),l=function(t){return t+1/a-1/a};r(r.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),o=i(t);return r<c?o*l(r/c/s)*c*s:(e=(1+s/a)*r,n=e-(e-r),n>u||n!=n?o*(1/0):o*n)}})},function(t,e,n){var r=n(279),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(279),i=Math.imul;r(r.S+r.F*n(278)(function(){return i(4294967295,5)!=-5||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(279);r(r.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,n){var r=n(279);r(r.S,"Math",{log1p:n(375)})},function(t,e,n){var r=n(279);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(279);r(r.S,"Math",{sign:n(379)})},function(t,e,n){var r=n(279),i=n(383),o=Math.exp;r(r.S+r.F*n(278)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(279),i=n(383),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(279);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(279),i=n(310),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(((e-=65536)>>10)+55296,e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(279),i=n(303),o=n(308);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(354)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(398)(!0);n(399)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(309),i=n(306);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e,n){"use strict";var r=n(299),i=n(279),o=n(289),a=n(281),s=n(276),u=n(400),c=n(401),l=n(295),f=n(330),h=n(296)("iterator"),p=!([].keys&&"next"in[].keys()),d="@@iterator",v="keys",g="values",m=function(){return this};t.exports=function(t,e,n,y,_,b,w){c(n,e,y);var E,x,A,T=function(t){if(!p&&t in C)return C[t];switch(t){case v:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",R=_==g,M=!1,C=t.prototype,O=C[h]||C[d]||_&&C[_],P=O||T(_),I=_?R?T("entries"):P:void 0,N="Array"==e?C.entries||O:O;if(N&&(A=f(N.call(new t)),A!==Object.prototype&&(l(A,S,!0),r||s(A,h)||a(A,h,m))),R&&O&&O.name!==g&&(M=!0,P=function(){return O.call(this)}),r&&!w||!p&&!M&&C[h]||a(C,h,P),u[e]=P,u[S]=m,_)if(E={values:R?P:T(g),keys:b?P:T(v),entries:I},w)for(x in E)x in C||o(C,x,E[x]);else i(i.P+i.F*(p||M),e,E);return E}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(317),i=n(288),o=n(295),a={};n(281)(a,n(296)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){"use strict";var r=n(279),i=n(398)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(279),i=n(308),o=n(404),a="endsWith",s=""[a];r(r.P+r.F*n(406)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){var r=n(405),i=n(306);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(284),i=n(305),o=n(296)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(296)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){"use strict";var r=n(279),i=n(404),o="includes";r(r.P+r.F*n(406)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(279);r(r.P,"String",{repeat:n(362)})},function(t,e,n){"use strict";var r=n(279),i=n(308),o=n(404),a="startsWith",s=""[a];r(r.P+r.F*n(406)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(411)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){var r=n(279),i=n(278),o=n(306),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e,n){"use strict";n(411)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(411)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(411)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(411)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(411)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(411)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(411)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(411)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(411)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(411)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(411)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(411)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(279);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(279),i=n(329),o=n(287);r(r.P+r.F*n(278)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){"use strict";var r=n(279),i=n(278),o=Date.prototype.getTime,a=function(t){return t>9?t:"0"+t};r(r.P+r.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}})},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(289)(r,o,function(){var t=s.call(this);return t===t?a.call(this):i})},function(t,e,n){var r=n(296)("toPrimitive"),i=Date.prototype;r in i||n(281)(i,r,n(429))},function(t,e,n){"use strict";var r=n(283),i=n(287),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(279);r(r.S,"Array",{isArray:n(316)})},function(t,e,n){"use strict";var r=n(291),i=n(279),o=n(329),a=n(432),s=n(433),u=n(308),c=n(434),l=n(435);i(i.S+i.F*!n(436)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(h);if(g&&(v=r(v,d>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(e=u(h.length),n=new p(e);e>m;m++)c(n,m,g?v(h[m],m):h[m]);else for(f=y.call(h),n=new p;!(i=f.next()).done;m++)c(n,m,g?a(f,v,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){var r=n(283);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},function(t,e,n){var r=n(400),i=n(296)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(282),i=n(288);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(346),i=n(296)("iterator"),o=n(400);t.exports=n(280).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(296)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(s){}return n}},function(t,e,n){"use strict";var r=n(279),i=n(434);r(r.S+r.F*n(278)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(279),i=n(303),o=[].join;r(r.P+r.F*(n(304)!=Object||!n(439)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(278);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(279),i=n(319),o=n(305),a=n(310),s=n(308),u=[].slice;r(r.P+r.F*n(278)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),f=Array(l),h=0;h<l;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(279),i=n(292),o=n(329),a=n(278),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(439)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(279),i=n(443)(0),o=n(439)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(291),i=n(304),o=n(329),a=n(308),s=n(444);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var v,g,m=o(e),y=i(m),_=r(s,d,3),b=a(y.length),w=0,E=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((h||w in y)&&(v=y[w],g=_(v,w,m),t))if(n)E[w]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(l)return!1;return f?-1:c||l?l:E}}},function(t,e,n){var r=n(445);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(284),i=n(316),o=n(296)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(279),i=n(443)(1);r(r.P+r.F*!n(439)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(279),i=n(443)(2);r(r.P+r.F*!n(439)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(279),i=n(443)(3);r(r.P+r.F*!n(439)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(279),i=n(443)(4);r(r.P+r.F*!n(439)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(279),i=n(451);r(r.P+r.F*!n(439)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){var r=n(292),i=n(329),o=n(304),a=n(308);t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),f=a(c.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in l){s=l[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in l&&(s=e(s,l[h],h,c));return s}},function(t,e,n){"use strict";var r=n(279),i=n(451);r(r.P+r.F*!n(439)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(279),i=n(307)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(439)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(279),i=n(303),o=n(309),a=n(308),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(439)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(279);r(r.P,"Array",{copyWithin:n(456)}),n(457)("copyWithin")},function(t,e,n){"use strict";var r=n(329),i=n(310),o=n(308);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e,n){var r=n(296)("unscopables"),i=Array.prototype;
void 0==i[r]&&n(281)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(279);r(r.P,"Array",{fill:n(459)}),n(457)("fill")},function(t,e,n){"use strict";var r=n(329),i=n(310),o=n(308);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(279),i=n(443)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(457)(o)},function(t,e,n){"use strict";var r=n(279),i=n(443)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(457)(o)},function(t,e,n){n(463)("Array")},function(t,e,n){"use strict";var r=n(275),i=n(282),o=n(277),a=n(296)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(457),i=n(465),o=n(400),a=n(303);t.exports=n(399)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(275),i=n(359),o=n(282).f,a=n(321).f,s=n(405),u=n(467),c=r.RegExp,l=c,f=c.prototype,h=/a/g,p=/a/g,d=new c(h)!==h;if(n(277)&&(!d||n(278)(function(){return p[n(296)("match")]=!1,c(h)!=h||c(p)==p||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:f,c)};for(var v=(function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})}),g=a(l),m=0;g.length>m;)v(g[m++]);f.constructor=c,c.prototype=f,n(289)(r,"RegExp",c)}n(463)("RegExp")},function(t,e,n){"use strict";var r=n(283);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";n(469);var r=n(283),i=n(467),o=n(277),a="toString",s=/./[a],u=function(t){n(289)(RegExp.prototype,a,t,!0)};n(278)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},function(t,e,n){n(277)&&"g"!=/./g.flags&&n(282).f(RegExp.prototype,"flags",{configurable:!0,get:n(467)})},function(t,e,n){n(471)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){"use strict";var r=n(281),i=n(289),o=n(278),a=n(306),s=n(296);t.exports=function(t,e,n){var u=s(t),c=n(a,u,""[t]),l=c[0],f=c[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}},function(t,e,n){n(471)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(471)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(471)("split",2,function(t,e,r){"use strict";var i=n(405),o=r,a=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,s,f,h,p,d=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,v+"g");for(l||(r=new RegExp("^"+y.source+"$(?!\\s)",v));(s=y.exec(n))&&(f=s.index+s[0][u],!(f>g&&(d.push(n.slice(g,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(p=1;p<arguments[u]-2;p++)void 0===arguments[p]&&(s[p]=void 0)}),s[u]>1&&s.index<n[u]&&a.apply(d,s.slice(1)),h=s[0][u],g=f,d[u]>=m)));)y[c]===s.index&&y[c]++;return g===n[u]?!h&&y.test("")||d.push(""):d.push(n.slice(g)),d[u]>m?d.slice(0,m):d}}else"0"[s](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a=n(299),s=n(275),u=n(291),c=n(346),l=n(279),f=n(284),h=n(292),p=n(476),d=n(477),v=n(478),g=n(479).set,m=n(480)(),y="Promise",_=s.TypeError,b=s.process,w=s[y],b=s.process,E="process"==c(b),x=function(){},A=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(296)("species")]=function(t){t(x,x)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(x)instanceof e}catch(r){}}(),T=function(t,e){return t===e||t===w&&e===o},S=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},R=function(t){return T(w,t)?new M(t):new i(t)},M=i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw _("Bad Promise constructor");e=t,n=r}),this.resolve=h(e),this.reject=h(n)},C=function(t){try{t()}catch(e){return{error:e}}},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&N(t),t._h=1),a===!0?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u(_("Promise-chain cycle")):(o=S(n))?o.call(n,s,u):s(n)):u(r)}catch(l){u(l)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)})}},P=function(t){g.call(s,function(){var e,n,r,i=t._v;if(I(t)&&(e=C(function(){E?b.emit("unhandledRejection",i,t):(n=s.onunhandledrejection)?n({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=E||I(t)?2:1),t._a=void 0,e)throw e.error})},I=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!I(e.promise))return!1;return!0},N=function(t){g.call(s,function(){var e;E?b.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},k=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=S(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,u(k,r,1),u(F,r,1))}catch(i){F.call(r,i)}}):(n._v=t,n._s=1,O(n,!1))}catch(r){F.call({_w:n,_d:!1},r)}}};A||(w=function(t){p(this,w,y,"_h"),h(t),r.call(this);try{t(u(k,this,1),u(F,this,1))}catch(e){F.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(481)(w.prototype,{then:function(t,e){var n=R(v(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),M=function(){var t=new r;this.promise=t,this.resolve=u(k,t,1),this.reject=u(F,t,1)}),l(l.G+l.W+l.F*!A,{Promise:w}),n(295)(w,y),n(463)(y),o=n(280)[y],l(l.S+l.F*!A,y,{reject:function(t){var e=R(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(a||!A),y,{resolve:function(t){if(t instanceof w&&T(t.constructor,this))return t;var e=R(this),n=e.resolve;return n(t),e.promise}}),l(l.S+l.F*!(A&&n(436)(function(t){w.all(t)["catch"](x)})),y,{all:function(t){var e=this,n=R(e),r=n.resolve,i=n.reject,o=C(function(){var n=[],o=0,a=1;d(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=R(e),r=n.reject,i=C(function(){d(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(291),i=n(432),o=n(433),a=n(283),s=n(308),u=n(435),c={},l={},e=t.exports=function(t,e,n,f,h){var p,d,v,g,m=h?function(){return t}:u(t),y=r(n,f,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=s(t.length);p>_;_++)if(g=e?y(a(d=t[_])[0],d[1]):y(t[_]),g===c||g===l)return g}else for(v=m.call(t);!(d=v.next()).done;)if(g=i(v,y,d.value,e),g===c||g===l)return g};e.BREAK=c,e.RETURN=l},function(t,e,n){var r=n(283),i=n(292),o=n(296)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r,i,o,a=n(291),s=n(349),u=n(319),c=n(286),l=n(275),f=l.process,h=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,v=0,g={},m="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){y.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete g[t]},"process"==n(305)(f)?r=function(t){f.nextTick(a(y,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=m in c("script")?function(t){u.appendChild(c("script"))[m]=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var r=n(275),i=n(479).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(305)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(289);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(483);t.exports=n(484)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(this,t);return e&&e.v},set:function(t,e){return r.def(this,0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(282).f,i=n(317),o=n(481),a=n(291),s=n(476),u=n(306),c=n(477),l=n(399),f=n(465),h=n(463),p=n(277),d=n(293).fastKey,v=p?"_s":"size",g=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var f=t(function(t,r){s(t,f,e,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&c(r,n,t[l],t)});return o(f.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[v]=0},"delete":function(t){var e=this,n=g(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[v]--}return!!n},forEach:function(t){s(this,f,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!g(this,t)}}),p&&r(f.prototype,"size",{get:function(){return u(this[v])}}),f},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?f(0,n.k):"values"==e?f(0,n.v):f(0,[n.k,n.v]):(t._t=void 0,f(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(275),i=n(279),o=n(289),a=n(481),s=n(293),u=n(477),c=n(476),l=n(284),f=n(278),h=n(436),p=n(295),d=n(359);t.exports=function(t,e,n,v,g,m){var y=r[t],_=y,b=g?"set":"add",w=_&&_.prototype,E={},x=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(m||w.forEach&&!f(function(){(new _).entries().next()}))){var A=new _,T=A[b](m?{}:-0,1)!=A,S=f(function(){A.has(1)}),R=h(function(t){new _(t)}),M=!m&&f(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});R||(_=e(function(e,n){c(e,_,t);var r=d(new y,e,_);return void 0!=n&&u(n,g,r[b],r),r}),_.prototype=w,w.constructor=_),(S||M)&&(x("delete"),x("has"),g&&x("get")),(M||T)&&x(b),m&&w.clear&&delete w.clear}else _=v.getConstructor(e,t,g,b),a(_.prototype,n),s.NEED=!0;return p(_,t),E[t]=_,i(i.G+i.W+i.F*(_!=y),E),m||v.setStrong(_,t,g),_}},function(t,e,n){"use strict";var r=n(483);t.exports=n(484)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(443)(0),o=n(289),a=n(293),s=n(340),u=n(487),c=n(284),l=a.getWeak,f=Object.isExtensible,h=u.ufstore,p={},d=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=l(t);return e===!0?h(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(this,t,e)}},g=t.exports=n(484)("WeakMap",d,v,u,!0,!0);7!=(new g).set((Object.freeze||Object)(p),7).get(p)&&(r=u.getConstructor(d),s(r.prototype,v),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=g.prototype,n=e[t];o(e,t,function(e,i){if(c(e)&&!f(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(481),i=n(293).getWeak,o=n(283),a=n(284),s=n(476),u=n(477),c=n(443),l=n(276),f=c(5),h=c(6),p=0,d=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return f(t.a,function(t){return t[0]===e})};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=h(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._i=p++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(c.prototype,{"delete":function(t){if(!a(t))return!1;var e=i(t);return e===!0?d(this)["delete"](t):e&&l(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=i(t);return e===!0?d(this).has(t):e&&l(e,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return r===!0?d(t).set(e,n):r[t._i]=n,t},ufstore:d}},function(t,e,n){"use strict";var r=n(487);n(484)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(279),i=n(490),o=n(491),a=n(283),s=n(310),u=n(308),c=n(284),l=n(275).ArrayBuffer,f=n(478),h=o.ArrayBuffer,p=o.DataView,d=i.ABV&&l.isView,v=h.prototype.slice,g=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,m,{isView:function(t){return d&&d(t)||c(t)&&g in t}}),r(r.P+r.U+r.F*n(278)(function(){return!new h(2).slice(1,void 0).byteLength}),m,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(u(i-r)),c=new p(this),l=new p(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(463)(m)},function(t,e,n){for(var r,i=n(275),o=n(281),a=n(290),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,h=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<h;)(r=i[p[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){"use strict";var r=n(275),i=n(277),o=n(299),a=n(490),s=n(281),u=n(481),c=n(278),l=n(476),f=n(309),h=n(308),p=n(321).f,d=n(282).f,v=n(459),g=n(295),m="ArrayBuffer",y="DataView",_="prototype",b="Wrong length!",w="Wrong index!",E=r[m],x=r[y],A=r.Math,T=r.RangeError,S=r.Infinity,R=E,M=A.abs,C=A.pow,O=A.floor,P=A.log,I=A.LN2,N="buffer",F="byteLength",k="byteOffset",L=i?"_b":N,j=i?"_l":F,D=i?"_o":k,U=function(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?C(2,-24)-C(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for(t=M(t),t!=t||t===S?(i=t!=t?1:0,r=u):(r=O(P(t)/I),t*(o=C(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*C(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*C(2,e),r+=c):(i=t*C(2,c-1)*C(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a},B=function(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-S:S;r+=C(2,e),l-=a}return(c?-1:1)*r*C(2,l-e)},V=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},z=function(t){return[255&t]},G=function(t){return[255&t,t>>8&255]},X=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},H=function(t){return U(t,52,8)},Y=function(t){return U(t,23,4)},q=function(t,e,n){d(t[_],e,{get:function(){return this[n]}})},W=function(t,e,n,r){var i=+n,o=f(i);if(i!=o||o<0||o+e>t[j])throw T(w);var a=t[L]._b,s=o+t[D],u=a.slice(s,s+e);return r?u:u.reverse()},K=function(t,e,n,r,i,o){var a=+n,s=f(a);if(a!=s||s<0||s+e>t[j])throw T(w);for(var u=t[L]._b,c=s+t[D],l=r(+i),h=0;h<e;h++)u[c+h]=l[o?h:e-h-1]},J=function(t,e){l(t,E,m);var n=+e,r=h(n);if(n!=r)throw T(b);return r};if(a.ABV){if(!c(function(){new E})||!c(function(){new E(.5)})){E=function(t){return new R(J(this,t))};for(var $,Z=E[_]=R[_],Q=p(R),tt=0;Q.length>tt;)($=Q[tt++])in E||s(E,$,R[$]);o||(Z.constructor=E)}var et=new x(new E(2)),nt=x[_].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||u(x[_],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else E=function(t){var e=J(this,t);this._b=v.call(Array(e),0),this[j]=e},x=function(t,e,n){l(this,x,y),l(t,E,y);var r=t[j],i=f(e);if(i<0||i>r)throw T("Wrong offset!");if(n=void 0===n?r-i:h(n),i+n>r)throw T(b);this[L]=t,this[D]=i,this[j]=n},i&&(q(E,F,"_l"),q(x,N,"_b"),q(x,F,"_l"),q(x,k,"_o")),u(x[_],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return V(W(this,4,t,arguments[1]))},getUint32:function(t){return V(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return B(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return B(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,z,e)},setUint8:function(t,e){K(this,1,t,z,e)},setInt16:function(t,e){K(this,2,t,G,e,arguments[2])},setUint16:function(t,e){K(this,2,t,G,e,arguments[2])},setInt32:function(t,e){K(this,4,t,X,e,arguments[2])},setUint32:function(t,e){K(this,4,t,X,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,Y,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,H,e,arguments[2])}});g(E,m),g(x,y),s(x[_],a.VIEW,!0),e[m]=E,e[y]=x},function(t,e,n){var r=n(279);r(r.G+r.W+r.F*!n(490).ABV,{DataView:n(491).DataView})},function(t,e,n){n(494)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";if(n(277)){var r=n(299),i=n(275),o=n(278),a=n(279),s=n(490),u=n(491),c=n(291),l=n(476),f=n(288),h=n(281),p=n(481),d=n(309),v=n(308),g=n(310),m=n(287),y=n(276),_=n(342),b=n(346),w=n(284),E=n(329),x=n(433),A=n(317),T=n(330),S=n(321).f,R=n(435),M=n(290),C=n(296),O=n(443),P=n(307),I=n(478),N=n(464),F=n(400),k=n(436),L=n(463),j=n(459),D=n(456),U=n(282),B=n(322),V=U.f,z=B.f,G=i.RangeError,X=i.TypeError,H=i.Uint8Array,Y="ArrayBuffer",q="Shared"+Y,W="BYTES_PER_ELEMENT",K="prototype",J=Array[K],$=u.ArrayBuffer,Z=u.DataView,Q=O(0),tt=O(2),et=O(3),nt=O(4),rt=O(5),it=O(6),ot=P(!0),at=P(!1),st=N.values,ut=N.keys,ct=N.entries,lt=J.lastIndexOf,ft=J.reduce,ht=J.reduceRight,pt=J.join,dt=J.sort,vt=J.slice,gt=J.toString,mt=J.toLocaleString,yt=C("iterator"),_t=C("toStringTag"),bt=M("typed_constructor"),wt=M("def_constructor"),Et=s.CONSTR,xt=s.TYPED,At=s.VIEW,Tt="Wrong length!",St=O(1,function(t,e){return It(I(t,t[wt]),e)}),Rt=o(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),Mt=!!H&&!!H[K].set&&o(function(){new H(1).set({})}),Ct=function(t,e){if(void 0===t)throw X(Tt);var n=+t,r=v(t);if(e&&!_(n,r))throw G(Tt);return r},Ot=function(t,e){var n=d(t);if(n<0||n%e)throw G("Wrong offset!");return n},Pt=function(t){if(w(t)&&xt in t)return t;throw X(t+" is not a typed array!")},It=function(t,e){if(!(w(t)&&bt in t))throw X("It is not a typed array constructor!");return new t(e)},Nt=function(t,e){return Ft(I(t,t[wt]),e)},Ft=function(t,e){for(var n=0,r=e.length,i=It(t,r);r>n;)i[n]=e[n++];return i},kt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Lt=function(t){var e,n,r,i,o,a,s=E(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=R(s);if(void 0!=h&&!x(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=It(this,n);n>e;e++)i[e]=f?l(s[e],e):s[e];return i},jt=function(){for(var t=0,e=arguments.length,n=It(this,e);e>t;)n[t]=arguments[t++];return n},Dt=!!H&&o(function(){mt.call(new H(1))}),Ut=function(){return mt.apply(Dt?vt.call(Pt(this)):Pt(this),arguments)},Bt={copyWithin:function(t,e){return D.call(Pt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Pt(this),arguments)},filter:function(t){return Nt(this,tt(Pt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Pt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Pt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Pt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Pt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Pt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Pt(this),arguments)},lastIndexOf:function(t){return lt.apply(Pt(this),arguments)},map:function(t){return St(Pt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Pt(this),arguments)},reduceRight:function(t){return ht.apply(Pt(this),arguments)},reverse:function(){for(var t,e=this,n=Pt(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Pt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Pt(this),t)},subarray:function(t,e){var n=Pt(this),r=n.length,i=g(t,r);return new(I(n,n[wt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:g(e,r))-i))}},Vt=function(t,e){return Nt(this,vt.call(Pt(this),t,e))},zt=function(t){Pt(this);var e=Ot(arguments[1],1),n=this.length,r=E(t),i=v(r.length),o=0;if(i+e>n)throw G(Tt);for(;o<i;)this[e+o]=r[o++]},Gt={entries:function(){return ct.call(Pt(this))},keys:function(){return ut.call(Pt(this))},values:function(){return st.call(Pt(this))}},Xt=function(t,e){return w(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ht=function(t,e){return Xt(t,e=m(e,!0))?f(2,t[e]):z(t,e)},Yt=function(t,e,n){return!(Xt(t,e=m(e,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};Et||(B.f=Ht,U.f=Yt),a(a.S+a.F*!Et,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Yt}),o(function(){gt.call({})})&&(gt=mt=function(){return pt.call(this)});var qt=p({},Bt);p(qt,Gt),h(qt,yt,Gt.values),p(qt,{slice:Vt,set:zt,constructor:function(){},toString:gt,toLocaleString:Ut}),kt(qt,"buffer","b"),kt(qt,"byteOffset","o"),kt(qt,"byteLength","l"),kt(qt,"length","e"),V(qt,_t,{get:function(){return this[xt]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",f="Uint8Array"!=c,p="get"+t,d="set"+t,g=i[c],m=g||{},y=g&&T(g),_=!g||!s.ABV,E={},x=g&&g[K],R=function(t,n){var r=t._d;return r.v[p](n*e+r.o,Rt)},M=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*e+i.o,r,Rt)},C=function(t,e){V(t,e,{get:function(){return R(this,e)},set:function(t){return M(this,e,t)},enumerable:!0})};_?(g=n(function(t,n,r,i){l(t,g,c,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof $||(u=b(n))==Y||u==q))return xt in n?Ft(g,n):Lt.call(g,n);o=n,p=Ot(r,e);var d=n.byteLength;if(void 0===i){if(d%e)throw G(Tt);if(a=d-p,a<0)throw G(Tt)}else if(a=v(i)*e,a+p>d)throw G(Tt);s=a/e}else s=Ct(n,!0),a=s*e,o=new $(a);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new Z(o)});f<s;)C(t,f++)}),x=g[K]=A(qt),h(x,"constructor",g)):k(function(t){new g(null),new g(t)},!0)||(g=n(function(t,n,r,i){l(t,g,c);var o;return w(n)?n instanceof $||(o=b(n))==Y||o==q?void 0!==i?new m(n,Ot(r,e),i):void 0!==r?new m(n,Ot(r,e)):new m(n):xt in n?Ft(g,n):Lt.call(g,n):new m(Ct(n,f))}),Q(y!==Function.prototype?S(m).concat(S(y)):S(m),function(t){t in g||h(g,t,m[t])}),g[K]=x,r||(x.constructor=g));var O=x[yt],P=!!O&&("values"==O.name||void 0==O.name),I=Gt.values;h(g,bt,!0),h(x,xt,c),h(x,At,!0),h(x,wt,g),(u?new g(1)[_t]==c:_t in x)||V(x,_t,{get:function(){return c}}),E[c]=g,a(a.G+a.W+a.F*(g!=m),E),a(a.S,c,{BYTES_PER_ELEMENT:e,from:Lt,of:jt}),W in x||h(x,W,e),a(a.P,c,Bt),L(c),a(a.P+a.F*Mt,c,{set:zt}),a(a.P+a.F*!P,c,Gt),a(a.P+a.F*(x.toString!=gt),c,{toString:gt}),a(a.P+a.F*o(function(){new g(1).slice()}),c,{slice:Vt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Ut}),F[c]=P?O:I,r||P||h(x,yt,I)}}else t.exports=function(){}},function(t,e,n){n(494)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(494)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(494)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(279),i=n(292),o=n(283),a=(n(275).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(278)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(279),i=n(317),o=n(292),a=n(283),s=n(284),u=n(278),c=n(348),l=(n(275).Reflect||{}).construct,f=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(282),i=n(279),o=n(283),a=n(287);i(i.S+i.F*n(278)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(279),i=n(322).f,o=n(283);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(279),i=n(283),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(401)(o,"Object",function(){var t,e=this,n=e._k;do if(e._i>=n.length)return{value:void 0,done:!0};while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){function r(t,e){var n,s,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(t))?r(s,e,l):void 0}var i=n(322),o=n(330),a=n(276),s=n(279),u=n(284),c=n(283);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(322),i=n(279),o=n(283);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(279),i=n(330),o=n(283);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(279);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(279),i=n(283),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(279);r(r.S,"Reflect",{ownKeys:n(514)})},function(t,e,n){var r=n(321),i=n(314),o=n(283),a=n(275).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(279),i=n(283),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){function r(t,e,n){var u,h,p=arguments.length<4?t:arguments[3],d=o.f(l(t),e);if(!d){if(f(h=a(t)))return r(h,e,n,p);d=c(0)}return s(d,"value")?!(d.writable===!1||!f(p))&&(u=o.f(p,e)||c(0),u.value=n,i.f(p,e,u),!0):void 0!==d.set&&(d.set.call(p,n),!0)}var i=n(282),o=n(322),a=n(330),s=n(276),u=n(279),c=n(288),l=n(283),f=n(284);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(279),i=n(344);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){"use strict";var r=n(279),i=n(307)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(457)("includes")},function(t,e,n){"use strict";var r=n(279),i=n(398)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(279),i=n(521);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){var r=n(308),i=n(362),o=n(306);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var f=l-u,h=i.call(c,Math.ceil(f/c.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){"use strict";var r=n(279),i=n(521);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(354)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(354)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(279),i=n(306),o=n(308),a=n(405),s=n(467),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(401)(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);
return r.lastIndex=o(t.lastIndex),new c(r,e)}})},function(t,e,n){n(298)("asyncIterator")},function(t,e,n){n(298)("observable")},function(t,e,n){var r=n(279),i=n(514),o=n(303),a=n(322),s=n(434);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=o(t),r=a.f,u=i(n),c={},l=0;u.length>l;)s(c,e=u[l++],r(n,e));return c}})},function(t,e,n){var r=n(279),i=n(530)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(301),i=n(303),o=n(315).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(279),i=n(530)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(279),i=n(329),o=n(292),a=n(282);n(277)&&r(r.P+n(533),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){t.exports=n(299)||!n(278)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(275)[t]})},function(t,e,n){"use strict";var r=n(279),i=n(329),o=n(292),a=n(282);n(277)&&r(r.P+n(533),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(279),i=n(329),o=n(287),a=n(330),s=n(322).f;n(277)&&r(r.P+n(533),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do if(e=s(n,r))return e.get;while(n=a(n))}})},function(t,e,n){"use strict";var r=n(279),i=n(329),o=n(287),a=n(330),s=n(322).f;n(277)&&r(r.P+n(533),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do if(e=s(n,r))return e.set;while(n=a(n))}})},function(t,e,n){var r=n(279);r(r.P+r.R,"Map",{toJSON:n(538)("Map")})},function(t,e,n){var r=n(346),i=n(539);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(477);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(279);r(r.P+r.R,"Set",{toJSON:n(538)("Set")})},function(t,e,n){var r=n(279);r(r.S,"System",{global:n(275)})},function(t,e,n){var r=n(279),i=n(305);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(279);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(t,e,n){var r=n(279);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(t,e,n){var r=n(279);r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},function(t,e,n){var r=n(279);r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},function(t,e,n){var r=n(548),i=n(283),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(482),i=n(279),o=n(294)("metadata"),a=o.store||(o.store=new(n(486))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){s(n,r,!0).set(t,e)},f=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},p=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:f,key:h,exp:p}},function(t,e,n){var r=n(548),i=n(283),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r["delete"](t))return!1;if(r.size)return!0;var u=s.get(e);return u["delete"](n),!!u.size||s["delete"](e)}})},function(t,e,n){var r=n(548),i=n(283),o=n(330),a=r.has,s=r.get,u=r.key,c=function(t,e,n){var r=a(t,e,n);if(r)return s(t,e,n);var i=o(e);return null!==i?c(t,i,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(485),i=n(539),o=n(548),a=n(283),s=n(330),u=o.keys,c=o.key,l=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=l(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var r=n(548),i=n(283),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(548),i=n(283),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(548),i=n(283),o=n(330),a=r.has,s=r.key,u=function(t,e,n){var r=a(t,e,n);if(r)return!0;var i=o(e);return null!==i&&u(t,i,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(548),i=n(283),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(548),i=n(283),o=n(292),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(279),i=n(480)(),o=n(275).process,a="process"==n(305)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(279),i=n(275),o=n(280),a=n(480)(),s=n(296)("observable"),u=n(292),c=n(283),l=n(476),f=n(481),h=n(281),p=n(477),d=p.RETURN,v=function(t){return null==t?void 0:u(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,g(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void t.error(i)}m(this)&&g(this)};_.prototype=f({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=f({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var r=v(n.next);if(r)return r.call(n,t)}catch(i){try{y(e)}finally{throw i}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var r=v(n.error);if(!r)throw t;t=r.call(n,t)}catch(i){try{g(e)}finally{throw i}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var r=v(n.complete);t=r?r.call(n,t):void 0}catch(i){try{g(e)}finally{throw i}}return g(e),t}}});var w=function(t){l(this,w,"Observable","_f")._f=u(t)};f(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=v(c(t)[s]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(r){if(n)throw r;return void e.error(r)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(w.prototype,s,function(){return this}),r(r.G,{Observable:w}),n(463)("Observable")},function(t,e,n){var r=n(275),i=n(279),o=n(349),a=n(560),s=r.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),c=function(t){return u?function(e,n){return t(o(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};i(i.G+i.B+i.F*u,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(t,e,n){"use strict";var r=n(561),i=n(349),o=n(292);t.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),a=0,s=r._,u=!1;e>a;)(n[a]=arguments[a++])===s&&(u=!0);return function(){var r,o=this,a=arguments.length,c=0,l=0;if(!u&&!a)return i(t,n,o);if(r=n.slice(),u)for(;e>c;c++)r[c]===s&&(r[c]=arguments[l++]);for(;a>l;)r.push(arguments[l++]);return i(t,r,o)}}},function(t,e,n){t.exports=n(275)},function(t,e,n){var r=n(279),i=n(479);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(464),i=n(289),o=n(275),a=n(281),s=n(400),u=n(296),c=u("iterator"),l=u("toStringTag"),f=s.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var d,v=h[p],g=o[v],m=g&&g.prototype;if(m){m[c]||a(m,c,f),m[l]||a(m,l,v),s[v]=f;for(d in r)m[d]||i(m,d,r[d],!0)}}},function(t,e,n){(function(e,n){!function(e){"use strict";function r(t,e,n,r){var i=Object.create((e||o).prototype),a=new d(r||[]);return i._invoke=f(t,n,a),i}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function o(){}function a(){}function s(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){this.arg=t}function l(t){function e(n,r,o,a){var s=i(t[n],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l instanceof c?Promise.resolve(l.arg).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function r(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var o;this._invoke=r}function f(t,e,n){var r=A;return function(o,a){if(r===S)throw new Error("Generator is already running");if(r===R){if("throw"===o)throw a;return g()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===m){n.delegate=null;var u=s.iterator["return"];if(u){var c=i(u,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=i(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=m;var l=c.arg;if(!l.done)return r=T,l;n[s.resultName]=l.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n.sent=n._sent=a;else if("throw"===o){if(r===A)throw r=R,a;n.dispatchException(a)&&(o="next",a=m)}else"return"===o&&n.abrupt("return",a);r=S;var c=i(t,e,n);if("normal"===c.type){r=n.done?R:T;var l={value:c.arg,done:n.done};if(c.arg!==M)return l;n.delegate&&"next"===o&&(a=m)}else"throw"===c.type&&(r=R,o="throw",a=c.arg)}}}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function v(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function i(){for(;++n<t.length;)if(y.call(t,n))return i.value=t[n],i.done=!1,i;return i.value=m,i.done=!0,i};return r.next=r}}return{next:g}}function g(){return{value:m,done:!0}}var m,y=Object.prototype.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.toStringTag||"@@toStringTag",E="object"==typeof t,x=e.regeneratorRuntime;if(x)return void(E&&(t.exports=x));x=e.regeneratorRuntime=E?t.exports:{},x.wrap=r;var A="suspendedStart",T="suspendedYield",S="executing",R="completed",M={},C=s.prototype=o.prototype;a.prototype=C.constructor=s,s.constructor=a,s[w]=a.displayName="GeneratorFunction",x.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},x.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(C),t},x.awrap=function(t){return new c(t)},u(l.prototype),x.async=function(t,e,n,i){var o=new l(r(t,e,n,i));return x.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},u(C),C[b]=function(){return this},C[w]="Generator",C.toString=function(){return"[object Generator]"},x.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},x.values=v,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?this.next=i.finallyLoc:this.complete(o),M},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),M}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:v(t),resultName:e,nextLoc:n},M}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}(),n(44))},function(t,e,n){n(566),t.exports=n(280).RegExp.escape},function(t,e,n){var r=n(279),i=n(567)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}}]);
//# sourceMappingURL=index.js.map